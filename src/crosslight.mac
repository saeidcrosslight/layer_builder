$ IMPORTANT: Please do not use any invisible characters, such as tabs in macro
$*****************MATERIAL MACRO*********************************
$
$      Copyright (c) 1995-present Crosslight Software Inc..
$                All rights reserved.
$
$  Updated May 2014:  Introducing new material library format.
$
$  A more simple format of material data base is being introduced.
$  It is called material library which may contain previous known bulk
$  macros and complex (cx-) macros.  A simple example:
$
$  begin_library AlGaAs
$  import_basic name=algaas 
$  import_complex name=cx-AlGaAs
$  complex_var_symbol  var_lib=x var_complex=xw
$  end_library
$
$  In the new material data system, only two types of macros, ie, bulk
$  and complex (cx-) are needed.  
$
$  Recommended material library naming convention:
$
$  1) If a material can be strained with arbitrary composition
$  and is grown on a known substrate, the name should take
$  LibName/Substrate.  For example, InGaAsP/GaAs should be used
$  for In(1-x)Ga(x)As(y)P(1-y) grown on GaAs substrate.
$  In some cases, /Substrate is omitted for conciseness.  For example,
$  InGaAsP/InP has been simplified as InGaAsP library.
$
$  2) If the composition of a material is restricted to match
$  a substrate, the recommended name should be LibName-Substrate.
$  For example, InGaAsP-InP means composition of InGaAsP is restricted
$  to x=0.1894*y/( 0.4184-0.013*y ) so that only y is used as input
$  composition.
$
$  Based on the above, 4 versions of material libraries are named:
$  InGaAsP/InP :  strained InGaAsP grown on InP. Simply named InGaAsP.
$  InGaAsP/GaAs :  strained InGaAsP grown on GaAs.
$  InGaAsP-InP :  InGaAsP lattice matched to InP.
$  InGaAsP-GaAs :  InGaAsP lattice matched to GaAs.
$
$                 What Is A Macro
$
$  A macro is a collection of input statements (or commands).  
$  A statement starts with a keyword followed by parameters
$  specified with "=".  
$  A statement for material parameters overrides a 
$  previous statement with the same keyword.
$  To make changes of the parameters in a macro, just re-issue
$  the statement with different parameters after the macro call
$  in the input file.  You can also change the parameters in the
$  macro directly.
$
$  For example, if you are unhappy with the bandgap in gaas macro,
$  you can do the following:
$    load_macro name=gaas mater=#m
$    band_gap value=1.425 mater=#m
$
$
$                 Two Types of Macros
$
$  For device simulation, you may need two types of macros:
$
$  1) Bulk material macros.  These are given lower case macro names
$     such as "algaas".  They are referred to by "load_macro" in the
$     input files.   You must specify bulk material macro for 
$     all material layers.  They specify general material 
$     parameters such as bandgap, mobility, index, etc.
$
$  2) Active layer macros.  These are given mixed case macro names
$     such as "AlGaAs". These are only needed for active layers in a
$     laser diode or quantum well layers in other devices.  Quantum
$     subbands and/or optical processes are considered in these layers.
$     If there are overlaps with 1), the parameters (such as bandgap)
$     in active layer macros will override those in 1). Active layer
$     macro with prefix cx- (such as cx-InGaAsP/InP)
$     are "complex active layers" which may be used to define
$     active or quantum regions of complex structures.
$
$  You must use both "bulk material macro" and "active layer macro" 
$  if you have an active region or a quantum region.
$  
$
$                      Syntax 
$
$  Comments start with "$".  A line to be continued terminates
$  with "&&".  Symbol definition within a function terminates with ";".
$  A statement starts with a keyword followed by parameters
$  specified with "=".  Space, ",", "(", ")", "[", "]", "{" and
$  "}" with a statement are ignored by the program.  The length
$  of a statement line must not exceed 80 characters.  The tab key is 
$  not to be used in any statements.
$
$  A math function is declared using variation=function and 
$  followed in the next few lines by  
$
$  function(var1,var2,var3,...)
$  for logical_expression_1
$  complete_function_definition_1  
$  for logical_expression_2 
$  complete_function_definition_2  
$  for logical_expression_3 
$  complete_function_definition_3  
$  ...
$  for else
$  complete_function_definition_N  
$  end_function
$
$  The logical_exression takes the format  
$  expr1<expr2 or expr1<expr2<expr3 
$  It also supports one of | (logical OR) or & (logical AND) operator. 
$  to use "for else" as a case indicator.   The following lines are legal:
$
$  function(x,y,xlam)
$  for 1.24/xlam<bulk_xfunc1
$  complete_function_definition_1  
$  for 0.5<y
$  complete_function_definition_2  
$  for y>0.1&xlam<0.8
$  complete_function_definition_3  
$  for x<0.8|xlam<0.8
$  complete_function_definition_4  
$  for else
$  complete_function_definition_5  
$  end_function
$
$  Please note that ">" really means "greater than or equal".  Similarly
$  "<" means "less than or equal".  For continuous
$  numerical functions, there is no difference between "greater than or equal"
$  and simply "greater than".
$ 
$  The case indicator above separates the function into branches
$  of complete function definitions (like having different functions). 
$
$  Within each branch of complete function definition, a set of
$  new and more convenient logical switches can be used in the following form 
$
$  if(expression1) then 
$  else if(expression2) then
$  else if(expression3) then
$  ...
$  else
$  endif
$  
$  The "then" word is optional, so is the "if" following the "else".  
$  The program looks for expressions within the
$  bracket.   The following format is equivalent to the above.
$
$  if(expression1) 
$  else (expression2) 
$  else (expression3) 
$  ...
$  else
$  endif
$
$  It is also possible to use an if-else-endif branching within another
$  if-else-endif.  The hierarchy may reach 99 and within
$  each hierarchy, there can be 29 branches. 
$  For example the following complicated logical branches are
$  supported:
$ 
$  if(adfa.eq.k) then
$  some_definition_lines
$ 
$   if(5<x*y)
$   some_definition_lines
$   else if(wavelength>1.9)
$   some_definition_lines
$   endif
$ 
$  some_definition_lines
$  else if (bulk_xfunc1>2.5) then
$  some_definition_lines
$  endif
$ 
$
$  Please note that a complete function definition can not 
$  exceed 3000 characters.  If you need to construct a function 
$  with many logical branches of long math expressions, 
$  it is recommended that you use the conventional 
$  "for" logical branching method.
$
$  The logical expressions in "for" and "if-then-else" must 
$  not exceed 80 characters.  The math expressions follow the
$  same syntax as for function definition detailed as follows.
$
$  For a function definition, there can be more than one
$  math expressions.  The "=" symbol is used to define intermediate
$  variables. Expression without "=" is interpreted as the returned
$  function value and causes the evaluation procedure to exit the function.  
$  All expressions should be separated by ";" or "end-of-line".
$  An expression longer than 80 characters will be jointed 
$  by the next line regardless of existence of "&&" at the end of the line.  
$
$  The mathematical operators +, -, *, /, **
$  follow those of C/FORTRAN [** means pow() or power() in C] languages.
$  All intrinsic mathematic functions appearing in the
$  FORTRAN language, such as sin(), cos(), 
$  sqrt(), log(), log10(), exp(), etc., can be used without modification.  
$
$                    Tables
$
$  In addition to analytical functions, parameters can also be specified
$  by numerical tables expressed in the form of an n-dimensional matrix:
$  para(j1,j2,...,jn).  The index in each dimension corresponds to an 
$  independent variable (such as composition or temperature).
$  The change of such a variable with the index is not necessarily of equal 
$  interval but must be in ascending order.  The table must be presented in
$  a column-wise manner and the left most index changes the fastest.  
$  Blank lines may be inserted anywhere inside the table.  For example:
$
$  electron_mass variation=table
$  table(x,y)
$    x(1)  y(1)  matrix(1,1)
$    x(2)  y(1)  matrix(2,1)
$    x(3)  y(1)  matrix(3,1)
$
$    x(1)  y(2)  matrix(1,2)
$    x(2)  y(2)  matrix(2,2)
$    x(3)  y(2)  matrix(3,2)
$
$  end_table
$  
$
$                    Units
$
$  Dimensions are in micron meters.  Band parameters and
$  potentials are in eV or volts.  All others are in MKS units.
$  For example mobility is in m^2/(volt*sec), band_gap in eV
$  and dopant concentration in 1/m^3.
$
$               Symbol Definition
$
$  max_electron_mob        Maximum dopant dependent elec. mobility.
$  min_electron_mob        Minimum dopant dependent elec. mobility.
$  electron_ref_dens       Reference impurity density in
$                          Dopant dependent elec. mobility function
$  alpha_n                 exponent in dopant dependent elec. mobility 
$                          function.
$  max_hole_mob            Corresponding symbol for holes.
$  min_hole_mob            ...
$  hole_ref_dens           ...
$  alpha_p                 ...
$  tau_energy              Energy relaxation time in hydrodynamic model.
$  lifetime_n              Minority n-carrier (electron) life time.
$                          Deep trap specification will override this.
$  lifetime_p              Minority p-carrier (hole) life time.
$                          Deep trap specification will override this.
$  radiative_recomb        Radiative recombination constant.
$  other symbols           Obvious.
$
$
$               Special Symbols, Temperature, Doping, etc. 
$
$  "temper" is reserved as a variable for the lattice temperature
$  when constructing a material macro.  The unit is degrees Kelvin.
$  If you use any other symbol for temperature within a macro, 
$  it may not work for the thermal modeling option.   
$  Please note that in a simulation
$  involving setting the environmental temperature, it is not
$  sufficient to set the temperature parameter in a material
$  macro.   You must also use the "temperature" statement.
$  The temperature parameter in a macro is used to evaluate the
$  material properties (such as bandgap) at a particular temperature,
$  while the "temperature" statement is used to model the
$  carrier statistics at that temperature.
$  
$  Similarly, "doping_n", "doping_p", and "trap_1", "trap_2", ..., "trap_9",
$  "total_doping" (sum of all shallow and deep dopings) and "net_doping"
$  ( net_doping = doping_n - doping_p )
$  are reserved variable symbols in a function definition.  The units are
$  in 1/m**3.  "wavelength" is another reserved variable with unit of 
$  micron meters. 
$
$  Mechanical stress may be imported from other source such as CSuprem.
$  Several symbols are reserved for stress components.  These are
$  stress_xx, stress_yy, stress_xy, stress_zz, stress_xz, and stress_yz.
$  The units are in GPa=1.e10 dyne/cm^2.  Similarly, stiffness constants,
$  such as c11,c13, are also in GPa.
$
$  Please make an effort to use as few internal variables as possible
$  since the computation speed will be affected by too many input variables.
$
$  # is used together with a symbol to denote a numerical value 
$  to be supplied by the user. For example, in
$
$  load_macro name=gaas mater=#m 
$
$  #m is used to mean a numerical value denoting the material
$  number in a device.  For example, if your device has GaAs bulk
$  material as material number 2, then the above statement should be
$  written as
$
$  load_macro name=gaas mater=2
$
$
$                Internal Variables 
$
$  An advanced feature of Crosslight Software macro is its ability
$  to define mathematical functions external to the simulation
$  program.  Such functions are evaluated dynamically at run-time.
$ 
$  Currently, the following variables are reserved as internal variables
$  wavelength, temper, doping_n, doping_p, trap_i (i=1...9) and the program
$  would supply the values according to simulated device.
$  They are used to denote that operating wavelength (um), lattice temperature
$  (degree K), shallow n-type doping concentration (m^-3),
$  shallow p-type doping concentration (m^-3),
$  and the ith deep level trap concentration (m^-3).
$
$                 Searching For a Macro
$
$  The macro files can contain both the older and newer style macros
$  with the same macro name.  The search of the correct version depends
$  on how the macro is called.  If a macro does not require 
$  any user-supplied macro variables, the simulator will use the first
$  macro it encounters in the search. For macro requiring user-supplied
$  variables (or function arguments), if "var_symbol" is not specified 
$  in a macro call, older style macro is assumed and user must strictly
$  align all variables in a macro call.  The user is encouraged
$  to convert to the newer style because all future new macros will 
$  be created and maintained in the newer free-style. 
$
$  Please also note that the older style (fix-argument-style) may be
$  regarded as a special case of free-style macro with many un-used
$  function variables listed in all macro functions.  Or in another word
$  the older macro can be loaded also with a complete listing of
$  "var_symbol".  In fact when the program detects a "load_macro" or
$  "get_active_layer" without any "var_symbol", it will search all the
$  macro functions and supply the necessary "var_symbol".  In the case 
$  of a macro call fits more than one macros in the macro library, the 
$  simulator will always use the first one it encounters. 
$
$  For the free-style macros to be recognized by the graphic user 
$  interface (GUI) such as LayerBuilder and GeoEditor, it must be labeled
$  as [free-style] in the remarks before the macro.  Otherwise, it will be
$  treated as an older style macro.
$
$
$                Mobility Parameter Specifications
$
$  In Crosslight device simulator, the dopant dependent low field mobility
$  takes the following form:
$
$  mu_low_field=mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$
$  The current version of the simulator supports two versions of
$  parameter specifications.   The older version is to specify the
$  following  four parameters for electrons:
$  max_electron_mob, min_electron_mob, electron_ref_dens, and alpha_n.
$  The program computes the above for each mesh point and average them
$  in mid-point between two nodes.  Then the mid-point quantities of the
$  above is used in the dopant dependent formula at every iteration.
$
$  To speed up the computation, a more efficient version of parameter
$  specification is to directly evaluate the dopant dependence for
$  for statement of "electron_mobility", as in the following example.
$
$  electron_mobility variation=function 
$  function(total_doping)
$  mu_max=0.14;
$  mu_min=0.0055;
$  ref_dens=1.07d23;
$  alpha=0.73;
$  mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$  end_function
$
$  Speed-up is achieved because we need to evaluate the formula
$  once only at the time of processing the macro data.
$  
$  The two versions of parameters specification are equivalent in theory 
$  but may result in some difference if the mesh is rough because of the 
$  non-linearity of the dopant dependent formula.  Also, difference in
$  number of trap types may also make a difference.  The older version
$  of specification automatically takes into account all trap densities
$  while the user need to explicitly specify the number of traps to 
$  be used in the dopant dependent formula.
$
$
$  use_macro_file macro1=my_old_macro1 macro2=my_old_macro2 
$
$  The simulation software will first search macros in the above
$  statement before searching the default crosslight.tab/more.tab.
$  Please note that that included macros must be placed in the
$  same directory as the input files.
$
$
$     Crosslight Quaternary Parameter Interpolation Scheme
$
$ For quaternary material such as In(1-x)Ga(x)As(y)P(1-y), experimental
$ data for arbitrary (x,y) normally do not exist.  However, data are available
$ for ternaries [such as In(1-x)Ga(x)As] and for the lattice matched line:
$ fm(xm,ym)=0.    Therefore, any reasonable interpolation scheme must
$ satisfy experimental data for all the ternaries and at the matched line.
$
$ Crosslight macros use the following interpolation scheme:
$  
$ Let us take the bandgap as an example:
$ Given bandgap of matched line (xm,ym): Eg0_match(ym)
$ and measured ternary bandgaps, we interpolate as follows.
$ If (x,y) is within the left side of the matched line (xm,ym):
$
$ Eg0=Eg0_bilin(x,y)+(x/xm)*(Eg0_match(y)-Eg0_bilin(xm,y))
$
$ If (x,y) is within the right side of the matched line (xm,ym):
$
$ Eg0=Eg0_bilin(x,y)+[(1-x)/(1-xm)]*(Eg0_match(y)-Eg0_bilin(xm,y))
$
$ where Eg0_bilin(x,y) is bi-linear interpolation from ternaries as proposed
$ in the paper of Adachi, 
$ [Adachi,S.  "Material parameters of In(1-x)Ga(x)As(y)P(1-y) and related 
$  binaries." J. Appl. Phys. Vol. 53 No. 12, Dec. 1982, pgs 8775-92.]
$
$ The Crosslight formula ensures that the unstrained bandgap
$ agrees with experiment at ternaries and at the matched line (xm,ym).
$ For any other composition, we draw horizontal line across
$ (x,y) and linearly interpolate given the three known points:
$ (0,y), (xm,y), (1,y)
$
$         Supported Intrinsic Math Functions  
$
$ Math functions are directly taken from Fortran90 and accuracy of
$ double precision is already used.  Please note that the following
$ symbols are reserved for math functions and these should not be used
$ for user-defined variables.  Also, version 2009 and later supports
$ multiple variable instrinsic functions, such as atan2(x1,x2)
$ and max(x1,x2,...).
$
$  function-symbol   equivalent double-precision version    remark
$  log                dlog
$  log10              dlog10
$  exp                dexp
$  asin               dasin
$  acos               dacos
$  atan               datan
$  sin                dsin
$  cos                dcos
$  tan                dtan
$  sinh               dsinh
$  cosh               dcosh
$  tanh               dtanh
$  erf                derf
$  erfc               derfc
$  sqrt               dsqrt
$  abs                dabs
$  atan2              datan2          2-variable function
$  max                                multiple-variable function
$  maxval                             same as max()
$  min                                multiple-variable function
$  minval                             same as min()
$
$         Band Offsets and Alignments 
$
$  For bulk macro, the band alignment is solely determined by the
$  affinity parameter.  For active_layer macro, the band alignment
$  is determined by band_offset, band_discont, or band_discont_right.
$  band_discont and band_discont_right override band_offset.   Then
$  band alignment settings in active_layer macro override the affinity
$  setting in bulk macro. 
$
$  For quantum well with strain in well and/or barrier, it may be confusing
$  to use band_offset since hydrostatic strain changes the bandgap.  Such
$  change may be partitioned between the conduction and 
$  valence band with a certain ratio.  
$
$  The shear strain may split the HH/LH/CH valence bands, making the 
$  bandgap multi-valued.  Different use of band_offset is controlled by
$  the command zincblende_offset_model or wurtzite_offset_model, for
$  zincblende or wurtzite material, respectively.   
$
$
$         Supported Internal and External Functions  
$
$ Crosslight macro system supports user-defined external and internal
$ functions.   User-defined external function uses names like
$ bulk_xfunck (k=1,...,9) for bulk macros and ext_funck (k=1,...,9)
$ for active_layers.
$ They can be defined in the same way as other predefined functions
$ such as for band_gap and affinity, and supports symbolic math expressions 
$ and tables.   The advantage is that they can be repeatedly used in 
$ defining other quantities.  For example, one may define a temperature
$ dependent external function and repeatedly use it in band_gap, affinity,
$ mobility and other physical variables which may use the same temperature
$ dependent function.
$
$ The other type of function is "internal function", in the form of
$ intern_funck (k=1,...,9).   These are more flexible and are treated
$ in a manner as the math intrinsic functions such as sin() and cos().
$ They are user-defined within the same macro and can use both math
$ expression and tables.   The function arguements are completely independent
$ of variables passed when loading a macro.   The difference between
$ user-defined internal and external functions are as follows:
$ Function arguements for external functions must be passed from macro
$ loading.  For example, the argument "x" is passed through
$ load_macro name=algaas mater=   1 &&
$  var_symbol1=x  var1=  0.7100E+00
$ Also, temperature, doping concetration and other reserved variables are
$ automatically passed to it.  The user has no way of changing the
$ input arguements.   For internal functions, the input arguements
$ are supplied when being used within a function definition.  The input
$ arguements may or may not be related to macro loading.  Also, user
$ may operate on the input variables before passing it as internal
$ a function arguement.
$
$=============================================================

$
$      Macro Update History
$
$  May14: Use of material library to contain bulk and cx- macros.
$
$  Jul07:  Use unstrained bandgap as default band offset model.  Revised
$  wurtzite bulk macro parameter "affinity" accordingly.   Lifetime of
$  bulk wurtzite macros reduced to 5ns as default.  Most of xxx.temp
$  macros are merged and renamed without the .temp suffix.
$
$  May 06: ZQL/YGX revised bandgaps of GaN AlN InN for both cubic and wurtzite
$  structures.
$
$  May 05:  ZQL revised bandgap of InGaAsP and related macros according
$  to updated data. 
$
$  Updated Version July 2004:
$  Many parameters are revised according to recommendations by the 
$  following paper (VMR-paper):
$  "Band parameters for III-V compound semiconductors and their alloys," 
$  I. Vurgaftman and J. R. Meyer, L. R. Ram-Mohan, J. Appl. Phys. 
$  Vol. 89, No. 11, 1 June 2001, p. 5815  
$
$  Updated Version July 2004:
$  Older fix-style macros are no long listed here.   For compatibility
$  purpose, you may include previous macros using the statement in 
$  .sol and .plt file as follows:
$
$ ***********************************



$ ******************************************************
$ library s-Air
$ Special lib for the purpose of quantum confinement in silicon
$ Typical use:
$   material_lib name=s-Air mater=#m
$ ******************************************************
begin_library s-Air
import_basic name=s-air
import_complex name=cx-Air
end_library

$ ******************************************************
$ library Air
$ Typical use:
$   material_lib name=Air mater=#m
$ ******************************************************
begin_library Air
import_basic name=air
import_complex name=cx-Air1
end_library

$ ******************************************************
$ library Si
$ Silicon
$ Typical use:
$   material_lib name=Si mater=#m
$ ******************************************************
begin_library Si
import_basic name=si
import_complex name=cx-Si
end_library

$ ***********************************
$ library Si_strain 
$ strained silicon (uniaxial)
$ Mobility enhanced due to stress_xx
$ Typical use:
$   material_lib name=Si_strain mater=#m
$ parameter_range temper=[77 600] 
$ parameter_range stress_xx=[-1   1]
$ parameter_range total_doping=[1.e20 1.e25]
$ 
$ REM: negative strain is compressive strain
$ REM: positive strain is compressive strain
$ ***************************************
begin_library Si_strain
import_basic name=si_strain
end_library

$ ********************************
$ library muc-Si
$ material library for mu-c-silicon for bandgap 1.1 eV
$ micro-crystal silicon
$ Typical use:
$   material_lib name=muc-Si mater=#m
$ ********************************
begin_library muc-Si
import_basic name=muc-si 
end_library

$ ******************************************************
$ library AlGaAs
$ material library of Al(x)Ga(1-x)As
$ Typical use:
$   material_lib name=AlGaAs mater=#m &&
$     var1=#x var_symbol1=x
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$ ******************************************************
begin_library AlGaAs
import_basic name=algaas
import_complex name=cx-AlGaAs
complex_var_symbol  var_lib=x var_complex=xw
end_library

$ ******************************************************
$ library GaAs
$ material library of GaAs
$ Typical use:
$   material_lib name=GaAs mater=#m 
$ parameter_range temper=[77 600] 
$ ******************************************************
begin_library GaAs
import_basic name=gaas
import_complex name=cx-GaAs
end_library

$ ******************************************************
$ library InP
$ material library of InP
$ Typical use:
$   material_lib name=InP mater=#m 
$ parameter_range temper=[77 600] 
$ ******************************************************
begin_library InP
import_basic name=inp
import_complex name=cx-InP
end_library

$ ***********************************************
$ library InGaAs
$ material library strained layer of InGaAs 
$ with base lattice constant of GaAs.
$ Formula: In(x)Ga(1-x)As x=Indium composition
$ Typical use:
$   material_lib name=InGaAs mater=#m var_symbol1=x var1=#x 
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$ **********************************************
$
begin_library InGaAs
import_basic name=ingaas
import_complex name=cx-InGaAs
complex_var_symbol  var_lib=x var_complex=xw
end_library

$***********************************
$ library InGaP
$ material library of InGaP
$ Bulk In(1-x)Ga(x)P 
$ Substrate lattice matched to GaAs; Do not use on InP substrate.
$ Typical use:
$   material_lib name=ingap var1=#x mater=#m var_symbol1=x
$
$ parameter_range x=[0. 1.] 
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$***********************************
begin_library InGaP
import_basic name=ingap
end_library

$ ***********************************
$ library Poly
$ material library of polysilicon
$ Bulk poly silicon at 300K
$ Typical use:
$   material_lib name=Poly mater=#m
$ Parameters for polysilicon is taken to be the same as silicon
$ except reduced mobility (1/2) and lifetime (1/10) are assumed.
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************
begin_library Poly
import_basic name=poly
end_library

$ ***********************************
$ library SiC
$ material library of silicon carbide
$ Bulk silicon carbide at 300K
$ Typical use:
$   material_lib name=SiC mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************
begin_library SiC
import_basic name=sic
end_library


$ ***********************************
$ library Accuglass
$ lib for Accuglass
$ Bulk insulator Accuglass
$ [free-style]
$ Typical use:
$   material_lib name=Accuglass mater=#m
$ ***********************************
begin_library Accuglass
import_basic name=accuglass
end_library

$ ***********************************
$ library SiO2
$ lib for SiO2 
$ Bulk insulator SiO2  
$ Typical use:
$   material_lib name=sio2 mater=#m
$ ***********************************
begin_library SiO2
import_basic name=sio2 
import_complex name=cx-SiO2
end_library

$ ***********************************
$ library Graphene
$ Bulk insulator Graphene
$ Typical use:
$   material_lib name=Graphene mater=#m
$ ***********************************
begin_library Graphene
import_basic name=graphene
end_library


$ ***********************************
$ library Sapphire
$ Bulk insulator Sapphire
$ Typical use:
$   material_lib name=Sapphire mater=#m
$ ***********************************
begin_library Sapphire
import_basic name=sapphire
end_library

$ ***********************************
$ library Ge
$ Bulk germanium
$ Typical use:
$   material_lib name=Ge mater=#m
$ ***********************************
begin_library Ge
import_basic name=ge
end_library

$ ******************************************************
$ library s-SiO2
$ lib for s-SiO2
$ Wide-gap semiconductor version
$ May be used for quantum confinement model (MOS-QW)
$ May be used with Si
$ Typical use:
$   material_lib name=SiO2 mater=#m 
$ ******************************************************
begin_library s-SiO2
import_basic name=s-sio2
import_complex name=cx-SiO2
end_library

$ ***********************************
$ library TiO2
$ lib for TiO2
$ Bulk insulator TiO2  
$ Typical use:
$   material_lib name=TiO2 mater=#m
$ ***********************************
begin_library TiO2
import_basic name=tio2 
end_library

$************************************
$ library Vacuum 
$ lib for vacuum 
$ Vacuum as an insulator
$ Typical use:
$   material_lib name=Vacuum mater=#m
$*************************************
begin_library Vacuum 
import_basic name=vacuum 
end_library

$************************************
$ libray SiN
$ Bulk insulator SiN
$ May also be used for quantum confinement model
$ Typical use:
$   material_lib name=SiN mater=#m
$*************************************
begin_library SiN
import_basic name=sin
import_complex name=cx-SiN
end_library

$************************************
$ libray s-SiN
$ Bulk semiconductor s-SiN
$ May also be used for quantum confinement model
$ Typical use:
$   material_lib name=s-SiN mater=#m
$*************************************
begin_library s-SiN
import_basic name=s-sin
import_complex name=cx-SiN
end_library

$************************************
$ library Oxyni
$ Bulk insulator Oxyni 
$ [free-style]
$ Typical use:
$   material_lib name=Oxyni mater=#m
$*************************************
begin_library Oxyni
import_basic name=oxyni 
end_library

$************************************
$ library Photores
$ Bulk insulator Photores
$ Typical use:
$   material_lib name=Photores mater=#m
$*************************************
begin_library Photores
import_basic name=photores
end_library

$ ***************************************************************
$ library Tungsten (W)
$ Typical use:
$   material_lib name=Tungsten mater=#m 
$ Work function is 4.10 eV, which may be used to compute the 
$ Schottky barrier height.
$ ***************************************************************
begin_library Tungsten
import_basic name=tungsten
end_library

$************************************
$ library AlAs_oxide
$ Bulk AlAs oxide as an insulator
$ Typical use:
$   material_lib name=AlAs_oxide  mater=#m
$*************************************
begin_library AlAs_oxide
import_basic name=alas_oxide
end_library

$ ****************************************
$ library a-silicon 
$ Bulk amorphous silicon 
$ Typical use:
$   material_lib name=a-Si mater=#m
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range wavelength=[0.1  5]
$ ***************************************
begin_library a-Si
import_basic name=a-si
end_library

$ ****************************************
$ library a-IGZO 
$ Bulk amorphous IGZO
$ for In-Ga-Zn-O
$ Typical use:
$   material_lib name=a-IGZO mater=#m
$ ***************************************
begin_library a-IGZO
import_basic name=a-igzo
end_library

$ ****************************************
$ library a-silicon17 
$ Bulk amorphous silicon 
$ Typical use:
$   material_lib name=a-Si17 mater=#m
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range wavelength=[0.1  5]
$ ***************************************
begin_library a-Si17
import_basic name=a-si17
end_library

$ ****************************************
$ library a-SiGe
$ Bulk amorphous Si1-xGex:H with bandgap 1.25-1.75 eV
$ h - H fraction ratio; x - Ge concentration ratio
$ Typical use:
$   material_lib name=a-SiGe var_symbol1=h var1=#h &&
$     var_symbol2=x var2=#x mater=#m
$ paremeter range h=[0 0.2] 
$ paremeter range x=[0 0.6]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range wavelength=[0.1  5]
$ ***************************************
begin_library a-SiGe
import_basic name=a-sige
end_library

$ ***********************************
$ library a-SiC
$ lib for a-SiC bandgap=1.75 eV
$ [free-style]
$ Bulk silicon carbide at 300K
$ Typical use:
$   material_lib name=a-SiC mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range wavelength=[0.1  5]
$ ***************************************
begin_library a-SiC
import_basic name=a-sic
end_library


$ **********************************************************
$ library InGaAsP-GaAs
$ 
$ For bulk-InGaAsP    In(1-x)Ga(x)As(y)P(1-y)   matched to GaAs
$                relation between x and y:
$                x=(1.00+y)/2.08 
$ Or more axactly: x=(1+y)/(2.08-0.08y) such that if x=1,y=1.
$
$ Typical use:
$   material_lib name=InGaAsP-GaAs var1=#y mater=#m var_symbol1=y 
$
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************************
begin_library InGaAsP-GaAs
import_basic name=ingaasp-gaas
end_library

$********************************************************
$ library InGaAlP_0.5
$ lib for In{0.5}(Ga{1-x}Al{x}){0.5}P
$ Typical use:
$   material_lib name=InGaAlP_0.5 var1=#x mater=#m var_symbol1=x
$ parameter_range x=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$********************************************************
begin_library InGaAlP_0.5
import_basic name=ingaalp
end_library


$ **************************************************************
$ libary GaP
$ for bulk unstrained GaP
$  [free-style]
$ Typical use:
$   material_lib name=GaP mater=#m
$ parameter_range temper=[77 600]
$ ***************************************************************
begin_library GaP
import_basic name=gap
end_library


$ **************************************************************
$  libary InGaAlP
$  for bulk In(1-x-y)Ga(x)Al(y)P
$  Lattcie matched to GaAs.   Since x is related to y,
$  We only use y in this macro
$
$  Most of the formulas here were derived from Vegard's law
$  similar to In(1-x-y)Ga(x)Al(y)As with As replaced by P.
$  Here, InGaAlP may be regarded as the compound of
$   [In(1-xp)Ga(xp)P]z +  [In(1-yp)Al(yp)P](1-z)
$  =[InP(1-xp)+GaP(xp)]z +  [InP(1-yp)+AlP(yp)](1-z)
$  =InP(1-xp)z+GaP(xp)z +  InP(1-yp)(1-z)+AlP(yp)(1-z)
$  =InP(z-xp*z+1-z-yp(1-z))+GaP(xp)z + AlP(yp)(1-z)
$  =InP(1-xp*z-yp(1-z))+GaP(xp)z + AlP(yp)(1-z)
$  =InP(1-x-y)+GaP(x) + AlP(y)
$  where x=xp*z , y=yp*(1-z)
$  In terms of binaries:
$  In(1-x-y)Ga(x)Al(y)P=InP(z-x)+GaP(x)+InP(1-z-y)+AlP(y)
$                      =InP(1-x-y)+GaP(x)+AlP(y)
$
$ Bowing parameter K is defined such that for A(x)B(1-x)C
$
$ V(x)=x*V(AC)+(1-x)*V(BC)-x*(1-x)*K(ABC)
$
$ Quaternary alloy A(1-x-y)B(x)C(y)D, bowing parameters may be used as
$
$ V(x,y)=V(AD)*(1-x-y)+V(BD)*x+V(CD)*y
$        -[ (1-x-y)*x*K(ABD)+(1-x-y)*y*K(ACD)+x*y*K(BCD) ]
$ Please note the minus sign.
$
$ Ref: A.A. Mbaye and C. Verie, "Electronic structure of
$      trimetallic III-V alloys:  The Al(1-x-z)Ga(x)In(z)P system",
$      Phys. Rev. B, vol 29, No. 6, pp. 3756-3758, 1984.
$
$  Lattice Matching Condition:
$
$  a0_InP*(1-x-y)+x*a0_GaP+y*a0_AlP=a0_GaAs
$  (a0_InP -a0_GaP)*x= (a0_InP -a0_GaAs) -(a0_InP -a0_AlP)*y
$
$     x=A-B*y
$     A=(a0_InP -a0_GaAs)/(a0_InP -a0_GaP)=0.5153244
$     B=(a0_InP -a0_AlP)/(a0_InP -a0_GaP)=0.9688724
$  or
$     x=0.51532-0.96887*y
$
$
$ Typical use:
$   material_lib name=InGaAlP-GaAs  mater=#m &&
$     var1=#y var_symbol1=y
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]

$ conversion to older Macro for In{0.5}(Ga{1-x}Al{x}){0.5}P
$ 0.5*x  --> y here

$ ***************************************************************
begin_library InGaAlP-GaAs
import_basic name=ingaalp_yt
end_library


$ **************************************************************
$ library InGaAlP/GaAs
$  Complex Active layer macro for quantum well/barrier of
$  strained layer of In(1-x-y)Ga(x)Al(y)P grown
$  on material lattice matched to GaAs.
$
$ Typical use:
$    material_lib name=InGaAlP/GaAs  mater=#m &&
$     var1=#x var2=#y var_symbol1=x var_symbol2=y
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ********************************************************
begin_library InGaAlP/GaAs
import_basic name=ingaalp_xyt
import_complex name=cx-InGaAlP/GaAs
complex_var_symbol  var_lib=x var_complex=xw
complex_var_symbol  var_lib=y var_complex=yw
end_library



$ **************************************************************
$ library InGaAlAs-InP 
$  lib for bulk In(1-x-y)Ga(x)Al(y)As
$  lattice matched to InP with x=0.47-y
$
$ Typical use:
$   material_lib name=InGaAlAs-InP var1=#y mater=#m var_symbol1=y 
$
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************************************
begin_library InGaAlAs-InP 
import_basic name=ingaalas_yt
end_library

$ **************************************************************
$ library InGaAlAs/InP
$ lib of strained In(1-x-y)Ga(x)Al(y)As 
$ grown on material lattice matched to InP.  
$  
$ Typical use:
$   material_lib name=InGaAlAs/InP mater=#m &&
$     var1=#x var2=#y var_symbol1=x var_symbol2=y
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_library InGaAlAs/InP
import_basic name=ingaalas_xyt
import_complex name=cx-InGaAlAs/InP
complex_var_symbol  var_lib=x var_complex=xw
complex_var_symbol  var_lib=y var_complex=yw
end_library

$****************************************************
$ library InGaSb
$ lib for In(x)Ga(1-x)Sb
$ Lattice matched to GaSb
$ Typical use:
$   material_lib name=InGaSb mater=#m var1=#x var_symbol1=x
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$****************************************************
begin_library InGaSb
import_basic name=ingasb
import_complex name=cx-InGaSb
complex_var_symbol  var_lib=x var_complex=xw
end_library

$ **************************************************************
$ library AlAsSb
$  lib for AlAsSb
$  Complex lib/macro for AlAs(x)Sb(1-x)
$  Grown on material lattice matched to GaSb
$
$ Typical use:
$   material_lib name=AlAsSb mater=#m  var1=#xw &&
$     var_symbol1=xw 
$ parameter_range xw=[0 1]
$ ********************************************************
begin_library AlAsSb
import_basic name=alassb
import_complex name=cx-AlAsSb
complex_var_symbol  var_lib=x var_complex=xw
end_library

$ ***********************************************
$ library AlGaAsSb
$ Al(1-x)Ga(x)As(y)Sb(1-y)
$ With complex active layer macro for quantum well/barrier of AlGaAsSb
$  Grown on material lattice matched to GaAs
$
$ Typical use:
$   material_lib name=AlGaAsSb mater=#m var1=#xw &&
$   var2=#yw var_symbol1=xw var_symbol2=yw 
$ parameter_range xw=[0 1]
$ ********************************************************
begin_library AlGaAsSb
import_basic name=algaassb 
import_complex name=cx-AlGaAsSb
complex_var_symbol  var_lib=x var_complex=xw
complex_var_symbol  var_lib=y var_complex=yw
end_library


$ **************************************************************
$ library InAs
$  With complex Active layer macro for quantum well/barrier of 
$  strained layer of InAs grown 
$  on material lattice matched to GaAs. 
$
$  Typical use:
$   material_lib name=cx-InAs mater=#m 
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_library InAs
import_basic name=inas
import_complex name=cx-InAs
end_library

$ **************************************************************
$ library GaAsSb
$  With Active layer macro for quantum well or barrier of 
$  Strained  GaAs(1-x)Sb(x) on GaAs substrate 
$
$ Typical use:
$   material_lib name=cx-GaAsSb mater=#m  var1=#x &&
$     var_symbol1=x 
$ parameter_range x=[0 1]
$ ********************************************************
begin_library GaAsSb
import_basic name=gaassb
import_complex name=cx-GaAsSb
complex_var_symbol  var_lib=x var_complex=xw
end_library

$ **************************************************************
$ library GaAsSb/InP
$  With Active layer macro for quantum well or barrier of 
$  Strained  GaAs(1-x)Sb(x) on InP substrate 
$
$ Typical use:
$   material_lib name=cx-GaAsSb mater=#m  var1=#x &&
$     var_symbol1=x 
$ parameter_range x=[0 1]
$ ********************************************************
begin_library GaAsSb/InP
import_basic name=gaassb
import_complex name=cx-GaAsSb/InP
complex_var_symbol  var_lib=x var_complex=xw
end_library

$ **************************************************************
$ library GaAsSb/Sb
$  With Active layer macro for quantum well or barrier of 
$  Strained  GaAs(1-x)Sb(x) on Sb substrate 
$
$ Typical use:
$   material_lib name=cx-GaAsSb mater=#m  var1=#x &&
$     var_symbol1=x 
$ parameter_range x=[0 1]
$ ********************************************************
begin_library GaAsSb/Sb
import_basic name=gaassb
import_complex name=cx-GaAsSb/Sb
complex_var_symbol  var_lib=x var_complex=xw
end_library


$ **************************************************************
$ library InGaAsP-InP
$  Complex Active layer of In(1-x)Ga(x)As(y)P(1-y) 
$  lattice matched to InP.
$
$  Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to InP if x and y is related by
$  x=0.1894*y/( 0.4184-0.013*y )
$  
$  Here, only variable y is used because x will be calculated based on
$  the above formula.
$
$
$  Typical use:
$   material_lib name=InGaAsP-InP mater=#m var1=#y var_symbol1=y 
$ parameter_range yw=[0 1]
$ ********************************************************
begin_library InGaAsP-InP
import_basic name=ingaasp
import_complex name=cx-InGaAsP-InP
complex_var_symbol  var_lib=y var_complex=yw
end_library



$ **************************************************************
$ library InGaAsP
$  Complex Active layer macro for quantum well/barrier of 
$  strained layer of In(1-x)Ga(x)As(y)P(1-y) grown 
$  on material lattice matched to InP.
$  [free-style]
$
$  Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to InP if x and y is related by
$  x=0.1894*y/( 0.4184-0.013*y )
$
$  Typical use:
$   material_lib name=InGaAsP mater=#m &&
$     var1=#x var2=#y var_symbol1=x var_symbol2=y
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_library InGaAsP
import_basic name=ingaasp_xyt
import_complex name=cx-InGaAsP/InP
complex_var_symbol  var_lib=x var_complex=xw
complex_var_symbol  var_lib=y var_complex=yw
end_library

$ ***********************************************
$ library InAlAs
$ Using complex acitve layer macro for quantum well or barrier
$ of strained layer of InGaAs with base lattice constatn of GaAs.
$ Formula: In(x)Al(1-x)As x=Indium composition in well or barrier 
$ Typical use:
$   material_lib name=InAlAs mater=#m var1=#x  var_symbol1=x 
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$ **********************************************
begin_library InAlAs
import_basic name=inalas
import_complex name=cx-InAlAs
complex_var_symbol  var_lib=x var_complex=xw
end_library

$ ***********************************************
$ library InGaAlAs
$ In(1-x-y)Ga(x)Al(y)As
$ With complex acitve layer macro for quantum well or barrier
$ of strained layer of InGaAlAs,  with base lattice constant of GaAs.
$
$ Typical use:
$   material_lib name=InGaAlAs mater=#m &&
$     var1=#x var2=#y var_symbol1=x var_symbol2=y 
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_library InGaAlAs
import_basic name=ingaalas_xyt
import_complex name=cx-InGaAlAs
complex_var_symbol  var_lib=x var_complex=xw
complex_var_symbol  var_lib=y var_complex=yw
end_library

$ **************************************************************
$ library InGaAsP/GaAs
$  With Complex Active layer macro for quantum well/barrier of 
$  strained layer of In(1-xw)Ga(xw)As(yw)P(1-yw) grown 
$  on material lattice matched to GaAs.
$
$  Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to GaAs if x and y is related by
$  x=(1+y)/(2.08-0.08*y)
$    
$  Typical use:
$   material_lib name=InGaAsP/GaAs mater=#m &&
$     var1=#x var2=#y var_symbol1=x var_symbol2=y
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ **************************************************
begin_library InGaAsP/GaAs
import_basic name=ingaasp_xyt
import_complex name=cx-InGaAsP/GaAs
complex_var_symbol  var_lib=x var_complex=xw
complex_var_symbol  var_lib=y var_complex=yw
end_library

$ **************************************************************
$ library HfO2
$ high-K material
$  Typical use:
$   material_lib name=HfO2 mater=#m 
$ **************************************************
begin_library HfO2
import_basic name=hfo2
end_library

$************************************
$ library Cfilter
$ color filter
$ Bulk insulator cfilter
$ [free-style]
$ Typical use:
$   material_lib name=Cfilter mater=#m 
$ **************************************************
begin_library Cfilter
import_basic name=cfilter
end_library



$ **************************************************************
$ library InGaAsP-InP_bulk
$  Bulk Active Active layer of In(1-x)Ga(x)As(y)P(1-y) 
$  lattice matched to InP.
$
$  Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to InP if x and y is related by
$  x=0.1894*y/( 0.4184-0.013*y )
$  
$  Here, only variable y is used because x will be calculated based on
$  the above formula.
$
$
$  Typical use:
$   material_lib name=InGaAsP-InP mater=#m var1=#y var_symbol1=y 
$ parameter_range yw=[0 1]
$ ********************************************************
begin_library InGaAsP-InP_bulk
import_basic name=ingaasp
import_complex name=InGaAsP
complex_var_symbol  var_lib=y var_complex=yw
end_library


$ **************************************************************
$
$ Complex MQW macro for In(1-xw)Ga(xw)As(1-yw-zw)N(yw)Sb(zw) 
$ grown on material lattice matched to GaAs such as AlGaAs.
$ 
$ Created Feb. 2017 based on previous InGaAsNSb/GaAs basic QW macro. 
$ Please take note of x/y/z convention
$
$ Typical use:
$ material_lib name=InGaAsNSb mater=#m &&
$  var1=#x var_symbol1=x var2=#y var_symbol2=y var3=#z var_symbol3=z
$
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range zw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_library InGaAsNSb
import_basic name=ingaasnsb_xyzt
import_complex name=cx-InGaAsNSb
complex_var_symbol  var_lib=x var_complex=xw
complex_var_symbol  var_lib=y var_complex=yw
complex_var_symbol  var_lib=z var_complex=zw
end_library

$ ***********************************
$ macro for silicon 
$ (temperature dep. version)
$ [free-style]
$ Typical use:
$   load_macro name=si  mater=#m
$ renamed from si.temp
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e25]
$ ***************************************
begin_macro si
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=11.9
$
$ The temp. dep. masses and bandgap come from
$ [a] F.H. Gaensslen, R.C. Jaeger, and J.J. Walker,
$    "Low-temperature dependent threshold behavor of depletion 
$    mode devices," IEDM Tech. Dig., pp. 520-524, 1976.
$ [b] F.H. Gaensslen, R.C. Jaeger, and J.J. Walker,
$    "Temperature dependent threshold behavor of depletion 
$    mode MOSFET's," Solid-State Electron., vol. 22, pp. 423-430, 1979.
$
electron_mass variation=function  
function(temper)
0.3165+1.3628e-4*temper
end_function

hole_mass  variation=function  
function(temper) 
for   0.<temper<600. 
0.523+1.4e-3*temper-1.48e-6*temper**2
for else
0.523+1.4e-3*600.-1.48e-6*600.**2
end_function

$ The following temperature dependent bandgap is suggested by 
$ http://ece-www.colorado.edu/~bart/book/eband5.htm

band_gap  variation=function  
function(temper) 
eg0=1.166;
alpha=4.73e-4;
beta=636;
eg0-alpha*temper**2/(temper+beta)
end_function

$band_gap  variation=function  
$function(temper) 
$for   0.<temper<170. 
$1.17+1.059e-5*temper-6.05e-7*temper**2
$for   170.<temper<600. 
$1.1785-9.025e-5*temper-3.05e-7*temper**2
$for else
$1.1785-9.025e-5*600.-3.05e-7*600.**2
$end_function

$ sep08
$affinity value=4.17
affinity value=4.05
$
$ The following temp. dep. low field mobility model comes from
$ [a] D.M.  Caughey, and R.E. Thomas, "Carrier mobilites in silicon
$     empirically related to doping and field," Proc. IEEE, vol. 55,
$     pp. 2192-2193, 1967.
$ [b] S. Selberherr, "Process and device modeling for VLSI," 
$     Microelectron. Reliab., vol. 24, No. 2, pp. 225-257, 1984. 
$
$max_electron_mob  variation=function  
$function(temper) 
$7.12e4*temper**(-2.3)
$end_function
$min_electron_mob value=0.005524
$electron_ref_dens  variation=function  
$function(temper) 
$1.072e23*(temper/300.)**5.205
$end_function
$alpha_n value=0.73 
$$
$max_hole_mob  variation=function  
$function(temper) 
$1.35e4*temper**(-2.2)
$end_function
$min_hole_mob value=0.00497
$hole_ref_dens  variation=function  
$function(temper) 
$1.606e23*(temper/300.)**5.286
$end_function
$alpha_p value=0.7
$
$ The following temp. dep. low field mobility model comes from
$ [a] A.K. Henning, N.N. Chan, J.T. Watt , and J.D. Plummer,
$   ``Substrate current at cryogenic temperatures: Measurements
$    and a two-dimensional model for CMOS technology,'' IEEE Trans.
$    Electron Devices, vol. ED-34, pp. 64-74, 1987.
$
$electron_mobility variation=function 
$function(temper,doping_n,doping_p,trap_1)
$for   0.<temper<200. 
$mu_max=0.143*(300./temper)**2;
$mu_min=0.0080*(200./300.)**(-0.45)*(temper/200.)**(-0.15);
$ref_dens=1.12e23*(temper/300.)**3.2;
$alpha=0.72*(temper/300.)**(0.065);
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$for   200.<temper<600. 
$mu_max=0.143*(300./temper)**2;
$mu_min=0.0080*(temper/300.)**(-0.45);
$ref_dens=1.12e23*(temper/300.)**3.2;
$alpha=0.72*(temper/300.)**(0.065);
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$
$
$
$hole_mobility variation=function 
$function(temper,doping_n,doping_p,trap_1)
$for   0.<temper<200. 
$mu_max=0.0460*(300/temper)**(2.18);
$mu_min=0.0045*(200./300.)**(-0.45)*(temper/200.)**(-0.15);
$ref_dens=2.23e23*(temper/300.)**3.2;
$alpha=0.72*(temper/300.)**(0.065);
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$for   200.<temper<600. 
$mu_max=0.0460*(300/temper)**(2.18);
$mu_min=0.0045*(temper/300.)**(-0.45);
$ref_dens=2.23e23*(temper/300.)**3.2;
$alpha=0.72*(temper/300.)**(0.065);
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$
$ the above two statements are equivalent, in theory, two the
$ following eight.
$
max_electron_mob  variation=function  
function(temper) 
0.143*(300./temper)**2
end_function
min_electron_mob  variation=function  
function(temper) 
for   0.<temper<200. 
0.0080*(200./300.)**(-0.45)*(temper/200.)**(-0.15)
for   200.<temper<600. 
0.0080*(temper/300.)**(-0.45)
for else
0.0080*(600./300.)**(-0.45)
end_function
electron_ref_dens  variation=function  
function(temper) 
1.12e23*(temper/300.)**3.2
end_function
alpha_n   variation=function  
function(temper) 
0.72*(temper/300.)**(0.065) 
end_function
$
max_hole_mob  variation=function  
function(temper) 
0.0460*(300/temper)**(2.18)
end_function  
min_hole_mob variation=function  
function(temper) 
for   0.<temper<200. 
0.0045*(200./300.)**(-0.45)*(temper/200.)**(-0.15)
for   200.<temper<600. 
0.0045*(temper/300.)**(-0.45)
for else
0.0045*(600./300.)**(-0.45)
end_function  
hole_ref_dens  variation=function  
function(temper) 
2.23e23*(temper/300.)**3.2
end_function
alpha_p  variation=function  
function(temper) 
0.72*(temper/300.)**(0.065) 
end_function
$
norm_field value=4.e5
tau_energy value=1.d-13
$
$ saturation velocity model comes from
$ [a] M. Ali-Omar and L. Reggiani, "Drift and diffusion of charge
$     carriers in silicon and their empirical relation to the 
$     electric field,"  Solid-State Electron., vol. 30, pp. 693-697,1987 
$ [b] R. Jaggi and H. Weibel, "High-field electron drift velocities
$     and current densities in silicon," Helv. Phys. Acta, vol. 42, 
$     pp. 631-632,1969.
$ [c] R. Jaggi, "High-field electron drift velocities in silicon
$     and germanium," Helv. Phys. Acta, vol. 42, pp. 941-943,1969.
$
beta_n value=2.
electron_sat_vel  variation=function  
function(temper)
tfac=tanh(155./temper);
1.45e5*sqrt(tfac)
end_function
beta_p value=1.
hole_sat_vel  variation=function  
function(temper)
tfac=tanh(312./temper);
9.05e4*sqrt(tfac)
end_function
$
radiative_recomb value=2.d-21
auger_n  variation=function  
function(temper)
2.8e-43*(temper/300.)**0.14
end_function
auger_p  variation=function  
function(temper)
9.9e-44*(temper/300.)**0.2
end_function
$

$ just a simple constant
$lifetime_n value=1.e-7
$lifetime_p value=1.e-7

$ lifetime model:  pisces-2et manual, stanford univ.
$ "PISCES-2ET and Its
$ Application Subsystems,"
$ PART I: PISCES-2ET 2D Device Simulator,
$ Z. Yu, D. Chen, L. So, and R. W. Dutton, available from www

$
$lifetime_n variation=function 
$function(doping_n,doping_p)
$tau0=1.e-7;
$Nref=5.e22;
$total_doping=doping_n+doping_p;
$tau0/(1+(total_doping/Nref))
$end_function
$
$lifetime_p variation=function 
$function(doping_n,doping_p)
$tau0=1.e-7;
$Nref=5.e22;
$total_doping=doping_n+doping_p;
$tau0/(1+(total_doping/Nref))
$end_function

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ lifetime_n & lifettime_p are computed with a model (more of physics)
$ from "Unified Set Of Models For Minority Carrier Transport Parameters
$ In Heavily Doped Monosilicon And Polysilicon," M Johnson, AJ Strojwas,
$ & DW Greve, 1993 International Workshop on VLSI Process and Device 
$ Modeling (1993 VPAD), May 14-15, 1993 Page(s):178 - 179, & originally
$ from JA del Alamo & RM Swanson, IEEE Trans Electron Devices 34(7)(1987)
$ ME Law, SM Liang & DEBurk, IEEE Electron Dev Lett, 12(8)(1991)401-403.
$ Model parameters are obtained by fitting the expression with data from
$ http://www.ioffe.ru/SVA/NSM/Semicond/Si/electric.html & originally
$ JA del Alamo & RM Swanson, Solid State Electron 30, 11(1987)1127-1136.
$ MS Tyagi & R Van Overstraeten, Solid State Electron 26, 6(1983)577-598.
$
$ tau0 in s, Nref & total_doping in m^-3
$
$ Modified by George Xiao on Sept 12, 2006
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$

 
lifetime_n variation=function 
function(total_doping)
tau0=6.8e-4;
Nref=2.75e21;
Ca=1.8e-43;
tau0/(1+(total_doping/Nref)+(tau0*Ca*total_doping**2))
end_function
 
lifetime_p variation=function 
function(total_doping)
tau0=6.8e-4;
Nref=2.75e21;
Ca=1.8e-43;
tau0/(1+(total_doping/Nref)+(tau0*Ca*total_doping**2))
end_function

$real_index value=3.4
real_index variation=table
table(wavelength)
  0.1           1.37933000000000     
  0.250000000000000        1.37933000000000     
  0.260000000000000        1.72880000000000     
  0.270000000000000        2.07826000000000     
  0.280000000000000        2.95235000000000     
  0.290000000000000        4.16276000000000     
  0.300000000000000        4.52816000000000     
  0.310000000000000        4.89356000000000     
  0.320000000000000        4.95612000000000     
  0.330000000000000        5.02415000000000     
  0.340000000000000        5.10039000000000     
  0.350000000000000        5.63461000000000     
  0.360000000000000        6.47415000000000     
  0.370000000000000        6.69243000000000     
  0.380000000000000        6.28946000000000     
  0.390000000000000        5.89243000000000     
  0.400000000000000        5.51918000000000     
  0.410000000000000        5.14593000000000     
  0.420000000000000        4.92676000000000     
  0.430000000000000        4.77363000000000     
  0.440000000000000        4.62049000000000     
  0.450000000000000        4.51360000000000     
  0.460000000000000        4.42652000000000     
  0.470000000000000        4.33944000000000     
  0.480000000000000        4.26377000000000     
  0.490000000000000        4.21469000000000     
  0.500000000000000        4.16561000000000     
  0.510000000000000        4.11653000000000     
  0.520000000000000        4.07272000000000     
  0.530000000000000        4.04118000000000     
  0.540000000000000        4.00964000000000     
  0.550000000000000        3.97809000000000     
  0.560000000000000        3.94655000000000     
  0.570000000000000        3.91939000000000     
  0.580000000000000        3.89514000000000     
  0.590000000000000        3.87089000000000     
  0.600000000000000        3.84665000000000     
  0.620000000000000        3.79815000000000     
  0.640000000000000        3.77387000000000     
  0.660000000000000        3.74958000000000     
  0.680000000000000        3.72529000000000     
  0.700000000000000        3.70810000000000     
  0.720000000000000        3.69672000000000     
  0.740000000000000        3.68535000000000     
  0.760000000000000        3.67397000000000     
  0.780000000000000        3.66267000000000     
  0.800000000000000        3.65157000000000     
  0.820000000000000        3.64048000000000     
  0.840000000000000        3.62938000000000     
  0.860000000000000        3.61829000000000     
  0.880000000000000        3.60719000000000     
  0.900000000000000        3.59899000000000     
  0.910000000000000        3.59551000000000     
  0.920000000000000        3.59203000000000     
  0.930000000000000        3.58855000000000     
  0.940000000000000        3.58507000000000     
  0.950000000000000        3.58159000000000     
  0.960000000000000        3.57811000000000     
  0.970000000000000        3.57463000000000     
  0.980000000000000        3.57115000000000     
  0.990000000000000        3.56767000000000     
   1.00000000000000        3.56419000000000     
   1.01000000000000        3.56071000000000     
   1.02000000000000        3.55723000000000     
   1.03000000000000        3.55375000000000     
   1.04000000000000        3.55103000000000     
   1.05000000000000        3.54864000000000     
   1.06000000000000        3.54624000000000     
   1.07000000000000        3.54384000000000     
   1.08000000000000        3.54145000000000     
   1.09000000000000        3.53905000000000     
   1.10000000000000        3.53665000000000     
   1.11000000000000        3.53426000000000     
   1.12000000000000        3.53186000000000     
   1.13000000000000        3.52946000000000     
   1.14000000000000        3.52707000000000     
   1.15000000000000        3.52467000000000     
   1.16000000000000        3.52227000000000     
   1.17000000000000        3.51988000000000     
   1.18000000000000        3.51748000000000     
   1.19000000000000        3.51508000000000     
   1.20000000000000        3.51269000000000     
   1.21000000000000        3.51029000000000     
   1.22000000000000        3.50789000000000     
   1.23000000000000        3.50550000000000     
   1.24000000000000        3.50310000000000     
   1.25000000000000        3.50076000000000     
   1.26000000000000        3.49843000000000     
   1.27000000000000        3.49609000000000     
   1.28000000000000        3.49375000000000     
   1.29000000000000        3.49141000000000     
   1.30000000000000        3.48908000000000     
   5.        3.48908000000000     

end_table


$absorption value=0.
absorption variation=table
table(wavelength)
  0.1       183999814.464394     
  0.250000000000000        183999814.464394     
  0.260000000000000        197000092.189629     
  0.270000000000000        218000001.154501     
  0.280000000000000        236000030.529269     
  0.290000000000000        223999889.432199     
  0.300000000000000        172999967.610821     
  0.310000000000000        144000067.703912     
  0.320000000000000        127999872.980617     
  0.330000000000000        117000145.602765     
  0.340000000000000        108999959.510680     
  0.350000000000000        104000001.282757     
  0.360000000000000        101999834.013352     
  0.370000000000000        69699884.0600005     
  0.380000000000000        29300014.2796107     
  0.390000000000000        14999993.2804138     
  0.400000000000000        9519999.63409969     
  0.410000000000000        6739988.20385376     
  0.420000000000000        5000009.26780334     
  0.430000000000000        3920006.25285508     
  0.440000000000000        3110005.36745461     
  0.450000000000000        2549998.64286060     
  0.460000000000000        2099998.97520195     
  0.470000000000000        1719999.25142547     
  0.480000000000000        1479999.06311840     
  0.490000000000000        1270001.01189947     
  0.500000000000000        1110000.08273696     
  0.510000000000000        970000.611716623     
  0.520000000000000        880001.184635971     
  0.530000000000000        784999.833159106     
  0.540000000000000        704998.989627912     
  0.550000000000000        638999.945740164     
  0.560000000000000        577999.192386460     
  0.570000000000000        532000.606898531     
  0.580000000000000        487999.836499276     
  0.590000000000000        449000.681837702     
  0.600000000000000        413999.079890063     
  0.620000000000000        352000.255579961     
  0.640000000000000        304000.140115433     
  0.660000000000000        258000.916681627     
  0.680000000000000        220999.955205970     
  0.700000000000000        189999.933297507     
  0.720000000000000        166000.010486433     
  0.740000000000000        141999.987942259     
  0.760000000000000        119000.057431364     
  0.780000000000000        100999.948310494     
  0.800000000000000        85000.0303929542     
  0.820000000000000        70699.9335606060     
  0.840000000000000        59099.9401986315     
  0.860000000000000        48000.0288527271     
  0.880000000000000        38300.0128379096     
  0.900000000000000        30599.9502040055     
  0.910000000000000        27199.9782407728     
  0.920000000000000        23999.9921906218     
  0.930000000000000        21000.0267637702     
  0.940000000000000        18299.9777343512     
  0.950000000000000        15700.0266128241     
  0.960000000000000        13399.9398651117     
  0.970000000000000        11400.0041410066     
  0.980000000000000        9590.00008869389     
  0.990000000000000        7919.99950626264     
   1.00000000000000        6400.00228841067     
   1.01000000000000        5109.99641179368     
   1.02000000000000        3989.99514965571     
   1.03000000000000        3020.00386762600     
   1.04000000000000        2260.00133974916     
   1.05000000000000        1630.00188434655     
   1.06000000000000        1110.00055693962     
   1.07000000000000        799.999816280470     
   1.08000000000000        620.000291502954     
   1.09000000000000        469.999554147603     
   1.10000000000000        349.999696748460     
   1.11000000000000        270.000359756845     
   1.12000000000000        200.000520311784     
   1.13000000000000        150.000206544002     
   1.14000000000000        99.9999806407561     
   1.15000000000000        68.0000188507240     
   1.16000000000000        41.9999521858419     
   1.17000000000000        21.9999557750463     
   1.18000000000000        6.49999779814377     
   1.19000000000000        3.60000118163125     
   1.20000000000000        2.20000497543137     
   1.21000000000000        1.29999623277059     
   1.22000000000000       0.819999973893200     
   1.23000000000000       0.469999629131541     
   1.24000000000000       0.240000450645515     
   1.25000000000000       9.999996035819304E-002
   1.26000000000000       3.599995901643595E-002
   1.27000000000000       2.000002199345336E-002
   1.28000000000000       1.200000036377919E-002
   1.29000000000000       7.099999397112932E-003
   1.30000000000000       0.000000000000000E+000
   5.         0.000000000000000E+000

end_table



thermal_kappa value=150.

$ specific heat (J/kg/K)
spec_heat value=712
$ mass density  (Kg/m^3)
mass_density value=2330
end_macro si

$ ***********************************
$ macro for strained silicon (uniaxial)
$ (temperature dep. version)
$ Mobility enhanced due to stress_xx
$ [free-style]
$ Typical use:
$   load_macro name=si  mater=#m
$ renamed from si.temp
$ parameter_range temper=[77 600] 
$ parameter_range stress_xx=[-1   1]
$ parameter_range total_doping=[1.e20 1.e25]
$ 
$ REM: negative strain is compressive strain
$ REM: positive strain is compressive strain
$ ***************************************
begin_macro si_strain
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=11.9
$
$ The temp. dep. masses and bandgap come from
$ [a] F.H. Gaensslen, R.C. Jaeger, and J.J. Walker,
$    "Low-temperature dependent threshold behavor of depletion 
$    mode devices," IEDM Tech. Dig., pp. 520-524, 1976.
$ [b] F.H. Gaensslen, R.C. Jaeger, and J.J. Walker,
$    "Temperature dependent threshold behavor of depletion 
$    mode MOSFET's," Solid-State Electron., vol. 22, pp. 423-430, 1979.
$
electron_mass variation=function  
function(temper)
0.3165+1.3628e-4*temper
end_function

hole_mass  variation=function  
function(temper) 
for   0.<temper<600. 
0.523+1.4e-3*temper-1.48e-6*temper**2
for else
0.523+1.4e-3*600.-1.48e-6*600.**2
end_function

$ The following temperature dependent bandgap is suggested by 
$ http://ece-www.colorado.edu/~bart/book/eband5.htm

band_gap  variation=function  
function(temper) 
eg0=1.166;
alpha=4.73e-4;
beta=636;
eg0-alpha*temper**2/(temper+beta)
end_function

$band_gap  variation=function  
$function(temper) 
$for   0.<temper<170. 
$1.17+1.059e-5*temper-6.05e-7*temper**2
$for   170.<temper<600. 
$1.1785-9.025e-5*temper-3.05e-7*temper**2
$for else
$1.1785-9.025e-5*600.-3.05e-7*600.**2
$end_function

$ sep08
$affinity value=4.17
affinity value=4.05
$
$ The following temp. dep. low field mobility model comes from
$ [a] D.M.  Caughey, and R.E. Thomas, "Carrier mobilites in silicon
$     empirically related to doping and field," Proc. IEEE, vol. 55,
$     pp. 2192-2193, 1967.
$ [b] S. Selberherr, "Process and device modeling for VLSI," 
$     Microelectron. Reliab., vol. 24, No. 2, pp. 225-257, 1984. 
$
$max_electron_mob  variation=function  
$function(temper) 
$7.12e4*temper**(-2.3)
$end_function
$min_electron_mob value=0.005524
$electron_ref_dens  variation=function  
$function(temper) 
$1.072e23*(temper/300.)**5.205
$end_function
$alpha_n value=0.73 
$$
$max_hole_mob  variation=function  
$function(temper) 
$1.35e4*temper**(-2.2)
$end_function
$min_hole_mob value=0.00497
$hole_ref_dens  variation=function  
$function(temper) 
$1.606e23*(temper/300.)**5.286
$end_function
$alpha_p value=0.7
$
$ The following temp. dep. low field mobility model comes from
$ [a] A.K. Henning, N.N. Chan, J.T. Watt , and J.D. Plummer,
$   ``Substrate current at cryogenic temperatures: Measurements
$    and a two-dimensional model for CMOS technology,'' IEEE Trans.
$    Electron Devices, vol. ED-34, pp. 64-74, 1987.
$
$electron_mobility variation=function 
$function(temper,doping_n,doping_p,trap_1)
$for   0.<temper<200. 
$mu_max=0.143*(300./temper)**2;
$mu_min=0.0080*(200./300.)**(-0.45)*(temper/200.)**(-0.15);
$ref_dens=1.12e23*(temper/300.)**3.2;
$alpha=0.72*(temper/300.)**(0.065);
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$for   200.<temper<600. 
$mu_max=0.143*(300./temper)**2;
$mu_min=0.0080*(temper/300.)**(-0.45);
$ref_dens=1.12e23*(temper/300.)**3.2;
$alpha=0.72*(temper/300.)**(0.065);
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$
$
$
$hole_mobility variation=function 
$function(temper,doping_n,doping_p,trap_1)
$for   0.<temper<200. 
$mu_max=0.0460*(300/temper)**(2.18);
$mu_min=0.0045*(200./300.)**(-0.45)*(temper/200.)**(-0.15);
$ref_dens=2.23e23*(temper/300.)**3.2;
$alpha=0.72*(temper/300.)**(0.065);
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$for   200.<temper<600. 
$mu_max=0.0460*(300/temper)**(2.18);
$mu_min=0.0045*(temper/300.)**(-0.45);
$ref_dens=2.23e23*(temper/300.)**3.2;
$alpha=0.72*(temper/300.)**(0.065);
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$
$ the above two statements are equivalent, in theory, two the
$ following eight.
$

$ this is electron enhancement factor, stress unit = GPa
$ tensile stress enhances electron mobility
intern_func1 variation=table
table(stress_xx)
-1.       1.
0.       1.
0.5      1.4
1.       1.7
end_table

$ this is hole enhancement factor, stress unit = GPa
$ compressive stress enhances electron mobility
intern_func2 variation=table
table(stress_xx)
-1.       2.
-0.5      1.5
0.       1.
1.       1.
end_table

max_electron_mob  variation=function  
function(temper,stress_xx) 
fac=intern_func1(stress_xx);
fac*0.143*(300./temper)**2
end_function

min_electron_mob  variation=function  
function(temper,stress_xx) 
for   0.<temper<200. 
fac=intern_func1(stress_xx);
fac*0.0080*(200./300.)**(-0.45)*(temper/200.)**(-0.15)
for   200.<temper<600. 
fac=intern_func1(stress_xx);
fac*0.0080*(temper/300.)**(-0.45)
for else
fac=intern_func1(stress_xx);
fac*0.0080*(600./300.)**(-0.45)
end_function

electron_ref_dens  variation=function  
function(temper) 
1.12e23*(temper/300.)**3.2
end_function
alpha_n   variation=function  
function(temper) 
0.72*(temper/300.)**(0.065) 
end_function


max_hole_mob  variation=function  
function(temper,stress_xx) 
fac=intern_func2(stress_xx);
fac*0.0460*(300/temper)**(2.18)
end_function  

min_hole_mob variation=function  
function(temper,stress_xx) 
for   0.<temper<200. 
fac=intern_func2(stress_xx);
fac*0.0045*(200./300.)**(-0.45)*(temper/200.)**(-0.15)
for   200.<temper<600. 
fac=intern_func2(stress_xx);
fac*0.0045*(temper/300.)**(-0.45)
for else
fac=intern_func2(stress_xx);
fac*0.0045*(600./300.)**(-0.45)
end_function  


hole_ref_dens  variation=function  
function(temper) 
2.23e23*(temper/300.)**3.2
end_function
alpha_p  variation=function  
function(temper) 
0.72*(temper/300.)**(0.065) 
end_function
$
norm_field value=4.e5
tau_energy value=1.d-13
$
$ saturation velocity model comes from
$ [a] M. Ali-Omar and L. Reggiani, "Drift and diffusion of charge
$     carriers in silicon and their empirical relation to the 
$     electric field,"  Solid-State Electron., vol. 30, pp. 693-697,1987 
$ [b] R. Jaggi and H. Weibel, "High-field electron drift velocities
$     and current densities in silicon," Helv. Phys. Acta, vol. 42, 
$     pp. 631-632,1969.
$ [c] R. Jaggi, "High-field electron drift velocities in silicon
$     and germanium," Helv. Phys. Acta, vol. 42, pp. 941-943,1969.
$
beta_n value=2.

electron_sat_vel  variation=function  
function(temper,stress_xx)
tfac=tanh(155./temper);
fac=intern_func1(stress_xx);
fac*1.45e5*sqrt(tfac)
end_function

beta_p value=1.

hole_sat_vel  variation=function  
function(temper,stress_xx)
tfac=tanh(312./temper);
fac=intern_func2(stress_xx);
fac*9.05e4*sqrt(tfac)
end_function
 
radiative_recomb value=2.d-21
auger_n  variation=function  
function(temper)
2.8e-43*(temper/300.)**0.14
end_function
auger_p  variation=function  
function(temper)
9.9e-44*(temper/300.)**0.2
end_function
$

$ just a simple constant
$lifetime_n value=1.e-7
$lifetime_p value=1.e-7

$ lifetime model:  pisces-2et manual, stanford univ.
$ "PISCES-2ET and Its
$ Application Subsystems,"
$ PART I: PISCES-2ET 2D Device Simulator,
$ Z. Yu, D. Chen, L. So, and R. W. Dutton, available from www

$
$lifetime_n variation=function 
$function(doping_n,doping_p)
$tau0=1.e-7;
$Nref=5.e22;
$total_doping=doping_n+doping_p;
$tau0/(1+(total_doping/Nref))
$end_function
$
$lifetime_p variation=function 
$function(doping_n,doping_p)
$tau0=1.e-7;
$Nref=5.e22;
$total_doping=doping_n+doping_p;
$tau0/(1+(total_doping/Nref))
$end_function

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ lifetime_n & lifettime_p are computed with a model (more of physics)
$ from "Unified Set Of Models For Minority Carrier Transport Parameters
$ In Heavily Doped Monosilicon And Polysilicon," M Johnson, AJ Strojwas,
$ & DW Greve, 1993 International Workshop on VLSI Process and Device 
$ Modeling (1993 VPAD), May 14-15, 1993 Page(s):178 - 179, & originally
$ from JA del Alamo & RM Swanson, IEEE Trans Electron Devices 34(7)(1987)
$ ME Law, SM Liang & DEBurk, IEEE Electron Dev Lett, 12(8)(1991)401-403.
$ Model parameters are obtained by fitting the expression with data from
$ http://www.ioffe.ru/SVA/NSM/Semicond/Si/electric.html & originally
$ JA del Alamo & RM Swanson, Solid State Electron 30, 11(1987)1127-1136.
$ MS Tyagi & R Van Overstraeten, Solid State Electron 26, 6(1983)577-598.
$
$ tau0 in s, Nref & total_doping in m^-3
$
$ Modified by George Xiao on Sept 12, 2006
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$

 
lifetime_n variation=function 
function(total_doping)
tau0=6.8e-4;
Nref=2.75e21;
Ca=1.8e-43;
tau0/(1+(total_doping/Nref)+(tau0*Ca*total_doping**2))
end_function
 
lifetime_p variation=function 
function(total_doping)
tau0=6.8e-4;
Nref=2.75e21;
Ca=1.8e-43;
tau0/(1+(total_doping/Nref)+(tau0*Ca*total_doping**2))
end_function

$real_index value=3.4
real_index variation=table
table(wavelength)
  0.1           1.37933000000000     
  0.250000000000000        1.37933000000000     
  0.260000000000000        1.72880000000000     
  0.270000000000000        2.07826000000000     
  0.280000000000000        2.95235000000000     
  0.290000000000000        4.16276000000000     
  0.300000000000000        4.52816000000000     
  0.310000000000000        4.89356000000000     
  0.320000000000000        4.95612000000000     
  0.330000000000000        5.02415000000000     
  0.340000000000000        5.10039000000000     
  0.350000000000000        5.63461000000000     
  0.360000000000000        6.47415000000000     
  0.370000000000000        6.69243000000000     
  0.380000000000000        6.28946000000000     
  0.390000000000000        5.89243000000000     
  0.400000000000000        5.51918000000000     
  0.410000000000000        5.14593000000000     
  0.420000000000000        4.92676000000000     
  0.430000000000000        4.77363000000000     
  0.440000000000000        4.62049000000000     
  0.450000000000000        4.51360000000000     
  0.460000000000000        4.42652000000000     
  0.470000000000000        4.33944000000000     
  0.480000000000000        4.26377000000000     
  0.490000000000000        4.21469000000000     
  0.500000000000000        4.16561000000000     
  0.510000000000000        4.11653000000000     
  0.520000000000000        4.07272000000000     
  0.530000000000000        4.04118000000000     
  0.540000000000000        4.00964000000000     
  0.550000000000000        3.97809000000000     
  0.560000000000000        3.94655000000000     
  0.570000000000000        3.91939000000000     
  0.580000000000000        3.89514000000000     
  0.590000000000000        3.87089000000000     
  0.600000000000000        3.84665000000000     
  0.620000000000000        3.79815000000000     
  0.640000000000000        3.77387000000000     
  0.660000000000000        3.74958000000000     
  0.680000000000000        3.72529000000000     
  0.700000000000000        3.70810000000000     
  0.720000000000000        3.69672000000000     
  0.740000000000000        3.68535000000000     
  0.760000000000000        3.67397000000000     
  0.780000000000000        3.66267000000000     
  0.800000000000000        3.65157000000000     
  0.820000000000000        3.64048000000000     
  0.840000000000000        3.62938000000000     
  0.860000000000000        3.61829000000000     
  0.880000000000000        3.60719000000000     
  0.900000000000000        3.59899000000000     
  0.910000000000000        3.59551000000000     
  0.920000000000000        3.59203000000000     
  0.930000000000000        3.58855000000000     
  0.940000000000000        3.58507000000000     
  0.950000000000000        3.58159000000000     
  0.960000000000000        3.57811000000000     
  0.970000000000000        3.57463000000000     
  0.980000000000000        3.57115000000000     
  0.990000000000000        3.56767000000000     
   1.00000000000000        3.56419000000000     
   1.01000000000000        3.56071000000000     
   1.02000000000000        3.55723000000000     
   1.03000000000000        3.55375000000000     
   1.04000000000000        3.55103000000000     
   1.05000000000000        3.54864000000000     
   1.06000000000000        3.54624000000000     
   1.07000000000000        3.54384000000000     
   1.08000000000000        3.54145000000000     
   1.09000000000000        3.53905000000000     
   1.10000000000000        3.53665000000000     
   1.11000000000000        3.53426000000000     
   1.12000000000000        3.53186000000000     
   1.13000000000000        3.52946000000000     
   1.14000000000000        3.52707000000000     
   1.15000000000000        3.52467000000000     
   1.16000000000000        3.52227000000000     
   1.17000000000000        3.51988000000000     
   1.18000000000000        3.51748000000000     
   1.19000000000000        3.51508000000000     
   1.20000000000000        3.51269000000000     
   1.21000000000000        3.51029000000000     
   1.22000000000000        3.50789000000000     
   1.23000000000000        3.50550000000000     
   1.24000000000000        3.50310000000000     
   1.25000000000000        3.50076000000000     
   1.26000000000000        3.49843000000000     
   1.27000000000000        3.49609000000000     
   1.28000000000000        3.49375000000000     
   1.29000000000000        3.49141000000000     
   1.30000000000000        3.48908000000000     
   5.        3.48908000000000     

end_table


$absorption value=0.
absorption variation=table
table(wavelength)
  0.1       183999814.464394     
  0.250000000000000        183999814.464394     
  0.260000000000000        197000092.189629     
  0.270000000000000        218000001.154501     
  0.280000000000000        236000030.529269     
  0.290000000000000        223999889.432199     
  0.300000000000000        172999967.610821     
  0.310000000000000        144000067.703912     
  0.320000000000000        127999872.980617     
  0.330000000000000        117000145.602765     
  0.340000000000000        108999959.510680     
  0.350000000000000        104000001.282757     
  0.360000000000000        101999834.013352     
  0.370000000000000        69699884.0600005     
  0.380000000000000        29300014.2796107     
  0.390000000000000        14999993.2804138     
  0.400000000000000        9519999.63409969     
  0.410000000000000        6739988.20385376     
  0.420000000000000        5000009.26780334     
  0.430000000000000        3920006.25285508     
  0.440000000000000        3110005.36745461     
  0.450000000000000        2549998.64286060     
  0.460000000000000        2099998.97520195     
  0.470000000000000        1719999.25142547     
  0.480000000000000        1479999.06311840     
  0.490000000000000        1270001.01189947     
  0.500000000000000        1110000.08273696     
  0.510000000000000        970000.611716623     
  0.520000000000000        880001.184635971     
  0.530000000000000        784999.833159106     
  0.540000000000000        704998.989627912     
  0.550000000000000        638999.945740164     
  0.560000000000000        577999.192386460     
  0.570000000000000        532000.606898531     
  0.580000000000000        487999.836499276     
  0.590000000000000        449000.681837702     
  0.600000000000000        413999.079890063     
  0.620000000000000        352000.255579961     
  0.640000000000000        304000.140115433     
  0.660000000000000        258000.916681627     
  0.680000000000000        220999.955205970     
  0.700000000000000        189999.933297507     
  0.720000000000000        166000.010486433     
  0.740000000000000        141999.987942259     
  0.760000000000000        119000.057431364     
  0.780000000000000        100999.948310494     
  0.800000000000000        85000.0303929542     
  0.820000000000000        70699.9335606060     
  0.840000000000000        59099.9401986315     
  0.860000000000000        48000.0288527271     
  0.880000000000000        38300.0128379096     
  0.900000000000000        30599.9502040055     
  0.910000000000000        27199.9782407728     
  0.920000000000000        23999.9921906218     
  0.930000000000000        21000.0267637702     
  0.940000000000000        18299.9777343512     
  0.950000000000000        15700.0266128241     
  0.960000000000000        13399.9398651117     
  0.970000000000000        11400.0041410066     
  0.980000000000000        9590.00008869389     
  0.990000000000000        7919.99950626264     
   1.00000000000000        6400.00228841067     
   1.01000000000000        5109.99641179368     
   1.02000000000000        3989.99514965571     
   1.03000000000000        3020.00386762600     
   1.04000000000000        2260.00133974916     
   1.05000000000000        1630.00188434655     
   1.06000000000000        1110.00055693962     
   1.07000000000000        799.999816280470     
   1.08000000000000        620.000291502954     
   1.09000000000000        469.999554147603     
   1.10000000000000        349.999696748460     
   1.11000000000000        270.000359756845     
   1.12000000000000        200.000520311784     
   1.13000000000000        150.000206544002     
   1.14000000000000        99.9999806407561     
   1.15000000000000        68.0000188507240     
   1.16000000000000        41.9999521858419     
   1.17000000000000        21.9999557750463     
   1.18000000000000        6.49999779814377     
   1.19000000000000        3.60000118163125     
   1.20000000000000        2.20000497543137     
   1.21000000000000        1.29999623277059     
   1.22000000000000       0.819999973893200     
   1.23000000000000       0.469999629131541     
   1.24000000000000       0.240000450645515     
   1.25000000000000       9.999996035819304E-002
   1.26000000000000       3.599995901643595E-002
   1.27000000000000       2.000002199345336E-002
   1.28000000000000       1.200000036377919E-002
   1.29000000000000       7.099999397112932E-003
   1.30000000000000       0.000000000000000E+000
   5.         0.000000000000000E+000

end_table



thermal_kappa value=150.

$ specific heat (J/kg/K)
spec_heat value=712
$ mass density  (Kg/m^3)
mass_density value=2330
end_macro si_strain
$ ********************************
$ macro for mu-c-silicon for bandgap 1.1 eV
$ micro-crystal silicon
$ Bulk mu_c solicon with bandgap of 1.1 eV.
$ [free-style]
$ ********************************
begin_macro muc-si 
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=11.9
electron_mass value=0.33
hole_mass value=0.55
band_gap value=1.1
affinity value=4.62
$
max_electron_mob value=0.008
min_electron_mob value=0.0008
electron_ref_dens value=1.07d23
alpha_n value=0.73 
max_hole_mob value=0.004
min_hole_mob value=0.0004
hole_ref_dens value=1.6d23
alpha_p value=0.7
$
norm_field value=4.e5
tau_energy value=1.d-13
beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
radiative_recomb value=2.d-21
auger_n value=0.d-44
auger_p value=0.d-44
lifetime_n value=1.e-5
lifetime_p value=1.e-5
$
$real_index value=3.4
$absorption value=0.

real_index variation=table
table(wavelength)
  0.1       1.4508000    
  0.22500000       1.4508000    
  0.25000000       2.5253100    
  0.27500000       3.3974000    
  0.30000000       4.0670800    
  0.32000000       4.4570800    
  0.34000000       4.7175400    
  0.35000000       4.7991900    
  0.35667000       4.8116500    
  0.36124000       4.8685600    
  0.37127000       4.8875300    
  0.38129000       4.8495900    
  0.39248000       4.7642300    
  0.40116000       4.6978300    
  0.41156000       4.6029800    
  0.42180000       4.5365900    
  0.43184000       4.4512200    
  0.44237000       4.3848200    
  0.45261000       4.3184300    
  0.46165000       4.2615200    
  0.47194000       4.1951200    
  0.48179000       4.1477000    
  0.49205000       4.1002700    
  0.50177000       4.0718200    
  0.51187000       4.0243900    
  0.52347000       3.9864500    
  0.53113000       3.9485100    
  0.54363000       3.9200500    
  0.55310000       3.8916000    
  0.56415000       3.8536600    
  0.57306000       3.8346900    
  0.58092000       3.8252000    
  0.59037000       3.8157200    
  0.60155000       3.7967500    
  0.61316000       3.7872600    
  0.62065000       3.7588100    
  0.63145000       3.7493200    
  0.63779000       3.7398400    
  0.64919000       3.7303500    
  0.66274000       3.7303500    
  0.67328000       3.7208700    
  0.68786000       3.7208700    
  0.70114000       3.7019000    
  0.71495000       3.7019000    
  0.73353000       3.6924100    
  0.75087000       3.6734400    
  0.76442000       3.6544700    
  0.78328000       3.6449900    
  0.80563000       3.6355000    
  0.82391000       3.6165300    
  0.84305000       3.6070500    
  0.86309000       3.5975600    
  0.88412000       3.5880800    
  0.90619000       3.5785900    
  0.92600000       3.5691100    
  0.95381000       3.5406500    
  0.97579000       3.5406500    
   1.0147600       3.5406500    
   1.0703200       3.5406500    
   1.1374000       3.5122000    
   1.1963000       3.5027100    
   1.2554100       3.4932200    
   1.3206600       3.4647700    
   1.4007400       3.4458000    
   1.4824700       3.4363100    
   1.5455900       3.4268300    
   5.       3.4268300    

end_table

absorption variation=table
table(wavelength)
  0.1      0.86733593E+09
  0.22500000      0.86733593E+09
  0.25000000      0.60050061E+09
  0.27500000      0.40494649E+09
  0.30000000      0.26285287E+09
  0.32000000      0.17925024E+09
  0.34000000      0.11726715E+09
  0.35000000       93225236.    
  0.35667000       83769110.    
  0.36124000       66948519.    
  0.37127000       53382451.    
  0.38129000       43430424.    
  0.39248000       34889865.    
  0.40116000       29311821.    
  0.41156000       23160277.    
  0.42180000       19258901.    
  0.43184000       16539048.    
  0.44237000       12904981.    
  0.45261000       10505431.    
  0.46165000       9537539.1    
  0.47194000       7599893.0    
  0.48179000       6884521.3    
  0.49205000       5882353.7    
  0.50177000       5241727.0    
  0.51187000       4687808.4    
  0.52347000       3918963.8    
  0.53113000       3653056.0    
  0.54363000       2787287.3    
  0.55310000       2543946.0    
  0.56415000       2116335.9    
  0.57306000       1993743.1    
  0.58092000       1731845.4    
  0.59037000       1481263.8    
  0.60155000       1269275.5    
  0.61316000       1109569.0    
  0.62065000       1006484.0    
  0.63145000       838023.39    
  0.63779000       765264.17    
  0.64919000       665300.08    
  0.66274000       538119.92    
  0.67328000       482848.16    
  0.68786000       381086.98    
  0.70114000       345371.77    
  0.71495000       294231.83    
  0.73353000       243950.65    
  0.75087000       191791.66    
  0.76442000       165870.44    
  0.78328000       128827.44    
  0.80563000       94057.092    
  0.82391000       69397.126    
  0.84305000       58281.845    
  0.86309000       39020.118    
  0.88412000       32406.602    
  0.90619000       21910.268    
  0.92600000       16691.831    
  0.95381000       11798.958    
  0.97579000       8653.1900    
   1.0147600       4320.2503    
   1.0703200       1713.4935    
   1.1374000       522.56281    
   1.1963000       200.03670    
   1.2554100       69.547611    
   1.3206600       27.618022    
   1.4007400       14.085470    
   1.4824700       10.177991    
   1.5455900       8.2529945    
   5.       0.

end_table
thermal_kappa value=150.
end_macro muc-si
$
$



$*************************************************************
$ macro : gaas   
$ [free-style]
$ renamed from gaas.temp
$ Temperature dependence included.
$ Typical use:
$   load_macro name=gaas mater=#m 
$ parameter_range temper=[77 600]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$*********************************************************
begin_macro gaas
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant value=13.1
electron_mass value=0.067
hole_mass value=0.642
$ From Properties of GaAs, INSPEC, p. 111.
$ Revised according to VMR-paper
band_gap variation=function
function(temper)
1.5183 - 5.405e-4 * temper**2 /(temper+204)
end_function
affinity value=4.07

$ From Blakemore, J. Appl. Phys. vol. 53 R123, 1982.
electron_mobility variation=function 
function(temper,total_doping)
mu_max=0.85*(300/temper)**2.3;
mu_min=0;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

$ From Blakemore, J. Appl. Phys. vol. 53 R123, 1982.
$ dope is in unit of m**-3
hole_mobility variation=function 
function(temper,total_doping)
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
mu_max=0.04/( tfac1 + 1.6e-24*total_doping*tfac2 );
mu_min=0.;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


beta_n value=2.
electron_sat_vel variation=function
function(temper)
1.e5 * (300/temper)**2.3
end_function
beta_p value=1.
hole_sat_vel variation=function
function(temper)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
1.d5/( tfac1 + 1.6e-24*dope*tfac2 ) 
end_function
norm_field value=4.e5
tau_energy value=1.e-13
lifetime_n value=1.e-7
lifetime_p value=1.e-7
radiative_recomb  value=2.e-16
auger_n  value=2.e-42
auger_p  value=2.e-42
real_index  variation=function
function(temper)
3.65+0.015*(temper-300.)/100.
end_function
$
$ Contributor: Stefan Mohrdiek:   
$ refractive index for 670 nm :
$real_index  value=3.806
$
absorption value=0.
thermal_kappa value=46.
$ specific heat (J/kg/K)
spec_heat value=330
$ mass density  (Kg/m^3)
mass_density value=5320
end_macro gaas


$ ***********************************************
$ macro : inp_grading 
$ [free-style]
$ Bulk InP at 300K. With bandgap grading to connect to
$   material of different bandgap of egx.
$ Typical use:
$   load_macro name=inp_grading var1=#x var2=#egx mater=#m &&
$     var_symbol1=x var_symbol2=egx
$ parameter_range x=[0. 1.] 
$ parameter_range egx=[0.2 5.] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************
begin_macro inp_grading 
$
$ Use the same type of velocity model as GaAs
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant   value=12.56
electron_mass  value=0.078
hole_mass  value=0.588
band_gap variation=function 
function(x,egx)
1.347 + (egx-1.347) * x 
end_function
affinity  value=4.07

$ Electron mobility model fit to Fig. 16 of Sze (1st edition)
electron_mobility variation=function 
function(total_doping)
mu_max=0.45;
mu_min=0.;
ref_dens=1.69d23;
alpha=0.436; 
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
 
hole_mobility variation=function 
function(total_doping)
mu_max=0.036;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


beta_n  value=2.
electron_sat_vel  value=1.d5
beta_p  value=1.
hole_sat_vel  value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-7
lifetime_p value=1.e-7
radiative_recomb value=1.4d-16
auger_n value=3.96d-41
auger_p value=1.96d-41
real_index value=3.167
absorption value=0.
thermal_kappa value=46.
end_macro inp_grading

$ ***********************************************
$ macro : inp
$ [free-style]
$ Temperature dependent version of macro inp.
$ Renamed from inp.temp
$ Typical use:
$   load_macro name=inp mater=#m
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************
begin_macro inp
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant   value=12.56
electron_mass  value=0.078
hole_mass  value=0.588
$ From "properties of InP" by INSPEC.
band_gap variation=function
function(temper)
1.4316 - 4.1e-4 * temper**2 /(temper+136)
end_function
affinity  value=4.07

$ From "GaInAsP alloy semiconductors" by Pearsall p. 203
electron_mobility variation=function
function(temper,total_doping)
mu_max=0.45 * (300/temper) **1.25;
mu_min=0.;
ref_dens=1.69d23;
alpha=0.436; 
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$

$ From "properties of InP" by INSPEC.
hole_mobility variation=function
function(temper,total_doping)
mu_max=0.036 * (300/temper)**2.2;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


beta_n  value=2.
electron_sat_vel variation=function 
function(temper)
1.d5 * sqrt(temper/300)
end_function
beta_p  value=1.
hole_sat_vel  variation=function
function(temper)
1.d5 * (300/temper)**2.2
end_function
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-7
lifetime_p value=1.e-7
radiative_recomb value=1.4d-16
auger_n value=3.96d-41
auger_p value=1.96d-41
real_index value=3.167
absorption value=0.
thermal_kappa value=46.
end_macro inp

$***********************************
$ macro in(x)ga(1-x)as
$ Bulk In(x)Ga(1-x)As
$ substrate lattice matched to GaAs.
$
$ Please do not use this on InGaAs grown on material 
$   matched to InP.
$ renamed from ingaas.temp
$
$ For InGaAs grown on InP, please see macro ingaasp.
$ InGaAs grown on material matched to InP should be
$ regarded as a special case of InGaAsP in our convention.
$
$ [free-style]
$ Typical use:
$   load_macro name=ingaas var1=#x mater=#m var_symbol1=x
$ parameter_range x=[0. 1.]
$ parameter_range temper=[77 600]
$ parameter_range total_doping=[1.e20 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$***********************************
$
begin_macro ingaas
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function 
function(x,temper)
13.1 + ( 15.15 - 13.1 )* x
end_function
electron_mass variation=function 
function(x,temper)
0.067 - 0.036 * x
end_function
hole_mass variation=function 
function(x,temper)
(   1/( 12.6 + 23.9* x )** (3 / 2)
+   1/( 1.8 + 1.1* x )** (3 / 2)  ) ** (2 / 3)
end_function
band_gap variation=function 
function(x,temper)
a0=5.65325+x*(6.05840-5.65325);
dh=-9.8+x*(-5.+9.8);
du=-1.76+x*(-1.8+1.76);
c11=11.9+x*(8.33-11.9);
c12=5.38+x*(4.53-5.38);
egu=1.424-1.4895*x+0.4205*x*x;
epsxx=(5.65325-a0)/a0;
deh=2.*dh*(c11-c12)/c11*epsxx;
des=1.*du*(c11+2.*c12)/c11*epsxx;
egu+deh-des - 5.5e-4 * temper**2 /(temper+225)+9.429e-2
end_function

$ oct 11:   consider the fact affinity of InAs = 4.9 eV, interpolate to here
$ Depending on band_offset_model,
$ band alignment may also be strained dependent as follows
affinity variation=function 
function(x,temper)
a0=5.65325+x*(6.05840-5.65325);
dh=-9.8+x*(-5.+9.8);
du=-1.76+x*(-1.8+1.76);
c11=11.9+x*(8.33-11.9);
c12=5.38+x*(4.53-5.38);
egu=1.424-1.4895*x+0.4205*x*x;
epsxx=(5.65325-a0)/a0;
deh=2.*dh*(c11-c12)/c11*epsxx;
des=1.*du*(c11+2.*c12)/c11*epsxx;
eghh=egu+deh-des;
delegt=-5.5e-4 * temper**2 /(temper+225)+9.429e-2;
bohh=1.424-eghh-delegt;
aff_inas=4.9;
(1-x)*4.07+0.6*bohh+x*aff_inas
end_function
$4.07+0.6*bohh


$ Depending on band_offset_model,
$ band alignment may use unstrained bandgaps.
$affinity variation=function 
$function(x,temper)
$egu=1.424-1.4895*x+0.4205*x*x;
$delegt=-5.5e-4 * temper**2 /(temper+225)+9.429e-2;
$bohh=1.424-egu-delegt;
$off=0.6;
$4.07+off*bohh
$end_function


electron_mobility variation=function
function(temper,total_doping)
mu_max=1.46 * (300/temper)**2.3;
mu_min=0.;
ref_dens=2.1d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function
function(temper,total_doping)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
mu_max=0.22/( tfac1 + 1.6e-24*dope*tfac2 ) ;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel variation=function
function(x,temper)
2.1e5 * (300/temper)**2.3
end_function
beta_p value=1.
hole_sat_vel variation=function
function(x,temper)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
1.e5/( tfac1 + 1.6e-24*dope*tfac2 ) 
end_function
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n value=2.d-42
auger_p value=2.d-42
real_index variation=function 
function(x,temper)
3.65 + (3.892 - 3.65) * x
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=46.
end_macro ingaas

$***********************************
$ macro ingap
$ Bulk (In_{1-x}Ga_xP) 
$ [free-style]
$   Modified/contributed  May 1996   Stefan Mohrdiek   
$   Index is for Lasers at 670 nm
$ renamed from ingap.temp
$ Substrate lattice matched to GaAs; Do not use on InP substrate.
$ Typical use:
$   load_macro name=ingap var1=#x mater=#m var_symbol1=x
$
$ parameter_range x=[0. 1.] 
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$***********************************
begin_macro ingap
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
$From Adachi -82, interp. from InP and GaP:
12.4 + ( 11.1 - 12.4 ) * x
end_function
electron_mass variation=function 
function(x)
$From Adachi -82, interp. from InP and GaP:
$0.080 + (0.17-0.08) * x
$From Nomura et al. -94, interp. from InP and GaP:
0.077 + (0.143 - 0.077) * x
end_function
hole_mass variation=function 
function(x)
$From Adachi -82, mhh ja mlh interp. from InP and GaP:
$(   ( 0.089 + (0.14 - 0.089 ) * x   )** (3 / 2)
$+ ( 0.85 + (0.79 - 0.85 ) * x   )** (3 / 2) ) ** (2 / 3)
$From InP and related book:
(   ( 0.12 + (0.16 - 0.12 ) * x   )** (3 / 2)
+ ( 0.56 + (0.54 - 0.56 ) * x   )** (3 / 2) ) ** (2 / 3)
end_function
band_gap variation=function 
function(x,temper)
a0=5.8688+x*(5.4512-5.8688);
dh=-8.0+x*(-9.5+8.0);
du=-1.55+x*(-1.3+1.55);
c11=10.22+x*(14.12-10.22);
c12=5.76+x*(6.25-5.76);
$From Adachi -82:
egu=1.35 + 0.643 * x  + 0.786 * x ** 2;
epsxx=(a0-5.65325)/5.65325;
deh=2.*dh*(c11-c12)/c11*epsxx;
des=1.*du*(c11+2.d0*c12)/c11*epsxx;
egu-deh+des-4.7e-4*temper**2/(temper+267)+4.7e-4*300**2/(300+267)
end_function

$ Depending on band_offset_model,
$ band alignment may also be strained dependent as follows
affinity variation=function 
function(x,temper)
a0=5.8688+x*(5.4512-5.8688);
dh=-8.0+x*(-9.5+8.0);
du=-1.55+x*(-1.3+1.55);
c11=10.22+x*(14.12-10.22);
c12=5.76+x*(6.25-5.76);
$From Adachi -82:
egu=1.35 + 0.643 * x  + 0.786 * x ** 2;
epsxx=(a0-5.65325)/5.65325;
deh=2.*dh*(c11-c12)/c11*epsxx;
des=1.*du*(c11+2.d0*c12)/c11*epsxx;
eghh=egu-deh+des;
off0=4.07;
$ratio=0.5;
$Cond.band discontinuity from Hassa et al. -91:
ratio=0.234;
$ratio=0.39;
delegt=-4.7e-4*temper**2/(temper+267)+4.7e-4*300**2/(300+267);
off0 + ratio * ( 1.425 - eghh - delegt )
end_function

$ Depending on band_offset_model,
$ band alignment may use unstrained bandgaps
$affinity variation=function 
$function(x,temper)
$$From Adachi -82:
$egu=1.35 + 0.643 * x  + 0.786 * x ** 2;
$aff0=4.07;
$$Cond.band discontinuity from Hassa et al. -91:
$ratio=0.234;
$delegt=-4.7e-4*temper**2/(temper+267)+4.7e-4*300**2/(300+267);
$aff0 + ratio * ( 1.425 - egu - delegt )
$end_function

electron_mobility variation=function
function(temper,total_doping)
mu_max=0.48 * (300/temper)**2.3;
mu_min=0.;
ref_dens=1.0d24;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function
function(temper,total_doping)
dope=1.e22;
tfac1=(temper/300)**2.3;
tfac2=(temper/300)**1.5;
mu_max=0.36/(tfac1+1.6e-24*dope*tfac2);
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel variation=function
function(temper)
1.0e5 * (300/temper)**2.3
end_function
beta_p value=1.
hole_sat_vel variation=function
function(temper)
dope=1.e22;
tfac1=(temper/300)**2.3;
tfac2=(temper/300)**1.5;
1.d5/(tfac1+1.6e-24*dope*tfac2)
end_function
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n variation=function 
function(x)
4.d-41 + (2.d-42 - 4.d-41) * x
end_function
auger_p variation=function 
function(x)
2.d-41 + (2.d-42 - 2.d-41) * x
end_function
$ refractive index for 670 nm (from Single Oscillator),when x=0.51:
real_index value=3.577
$ refractive index for 808 nm :
$ real_index  value=3.22
$ refractive index for 980 nm :
$ real_index  value=3.20
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=46.
end_macro ingap


$*************************************************************
$ macro : gaas_lambda 
$ [free-style]
$ Bulk GaAs macro at 300K, wavelength dependent version.  
$ Typical use:
$   load_macro name=gaas_lambda mater=#m 
$ where wavelength is wavelength in microns.
$*********************************************************
begin_macro gaas_lambda 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant value=13.1
electron_mass value=0.067
hole_mass value=0.642
band_gap value=1.424
affinity value=4.07
$
$electron_mobility variation=function 
$function(doping_n,doping_p,trap_1)
$mu_max=0.85;
$mu_min=0;
$ref_dens=1.69d23;
$alpha=0.436;
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$ 
$
$hole_mobility variation=function 
$function(doping_n,doping_p,trap_1)
$mu_max=0.04;
$mu_min=0;
$ref_dens value=2.75d23;
$alpha=0.395;
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$
$ Equivalent in theory to the following
$
max_electron_mob value=0.85
min_electron_mob value=0.
electron_ref_dens value=1.69d23
alpha_n value=0.436 
max_hole_mob value=0.04
min_hole_mob value=0.
hole_ref_dens value=2.75d23
alpha_p value=0.395

beta_n value=2.
electron_sat_vel value=1.0d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-7
lifetime_p value=1.e-7
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42

$real_index  value=3.65
$
$ Contributor: Stefan Mohrdiek:   
$ refractive index for 670 nm :
$real_index  value=3.806
$
real_index variation=function
function(wavelength)
xev=1.24/wavelength;
4.177137-3.512283*xev+5.163323*xev**2
  -3.242022*xev**3+0.7935377*xev**4 +0.015*(temper-300.)/100.
end_function

$absorption value=0.
absorption variation=function
function(wavelength)
for 1.24/wavelength<1.424
500.
for else
xev=1.24/wavelength;
eg=1.424;
alpha=-59938.21*(xev-eg)+561976.8*(xev-eg)**2
  -855408.5*(xev-eg)**3+430717.0*(xev-eg)**4; 
500.+100.*alpha
end_function

thermal_kappa value=46.
$ specific heat (J/kg/K)
spec_heat value=330
$ mass density  (Kg/m^3)
mass_density value=5320
end_macro gaas_lambda 

$***********************************
$ macro algaas_lambda 
$ Bulk Al(x)Ga(1-x)As at 300K, wavelength dep. version.
$ Lattice matched to GaAs
$ [free-style]
$ Typical use:
$   load_macro name=algaas_lambda var_symbol1=x var1=#x mater=#m 
$ parameter_range x=[0 1]
$***********************************
begin_macro algaas_lambda 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
13.1 - 3 * x 
end_function
electron_mass variation=function 
function(x)
for   0.<x<0.45 
0.067 + 0.083 * x 
for  0.45<x<1.
0.85 - 0.14 * x
end_function
hole_mass variation=function 
function(x)
   (   ( 0.087 + 0.063 * x ) ** (3 / 2)
 + ( 0.62 + 0.14 * x  ) ** (3 / 2)  ) ** (2 / 3)
end_function
band_gap variation=function 
function(x)
for 0.<x<0.45
1.424 + 1.247 * x 
for 0.45<x<1.
1.9 + 0.125 * x + 0.143 *x * x 
end_function
$
$ band gap as external function to be used by absorption
bulk_xfunc1 variation=function 
function(x)
for 0.<x<0.45
1.424 + 1.247 * x 
for 0.45<x<1.
1.9 + 0.125 * x + 0.143 *x * x 
end_function
affinity variation=function 
function(x)
for 0<x<0.45 
4.07 - 0.748 * x 
for 0.45<x<1.
3.7964 - 0.14 * x 
end_function


$
$electron_mobility variation=function 
$function(x,doping_n,doping_p,trap_1)
$for 0<x<0.45  
$mu_max=0.85 * exp(-18.516 * x ** 2 );
$mu_min=0.;
$ref_dens=1.69d23;
$alpha=0.436; 
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$for 0.45<x<1.
$mu_max=0.02;
$mu_min=0.;
$ref_dens=1.69d23;
$alpha=0.436; 
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function

$
$hole_mobility variation=function 
$function(x,doping_n,doping_p,trap_1)
$mu_max=0.04 - 0.048 * x + 0.02 * x * x;
$mu_min=0.;
$ref_dens=2.75d23;
$alpha=0.395;
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$
$ Equivalent in theory to the following:

max_electron_mob variation=function 
function(x)
for 0<x<0.45  
0.85 * exp(-18.516 * x ** 2 )
for 0.45<x<1.
0.02
end_function
min_electron_mob value=0.
electron_ref_dens value=1.69d23
alpha_n value=0.436 

max_hole_mob variation=function
function(x)
0.04 - 0.048 * x + 0.02 * x * x
end_function
min_hole_mob value=0.
hole_ref_dens value=2.75d23
alpha_p value=0.395


beta_n value=2.
electron_sat_vel variation=function
function(x)
for 0<x<0.45
0.77e5 * (1 - 0.44 * x ) 
for 0.45<x<1.
8.e4
end_function
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=1.d-16
auger_n value=1.5d-42
auger_p value=1.5d-42
lifetime_n value=1.e-7
lifetime_p value=1.e-7

$real_index variation=function
$function(x)
$3.65-0.73*x
$end_function
$
$ Wavelength dep. real index.  You may use the following simple
$ linear interpolation.  But you may also use the more complicated
$ fit to experiment.
$
$real_index variation=function
$function(x,wavelength)
$xev=1.24/wavelength;
$n_GaAs=4.177137-3.512283*xev+5.163323*xev**2
$  -3.242022*xev**3+0.7935377*xev**4;
$n_AlAs=2.835238+0.1040565*xev-8.6519323e-2*xev**2
$  +8.2142524e-2*xev**3 -1.4580269e-2*xev**4;
$n_GaAs*(1-x)+n_AlAs*x
$end_function
$
$ Fit to experiment.
$
real_index variation=function
function(x,wavelength)
for 0<x<0.1
xev=1.24/wavelength;
n1=4.177137-3.512283*xev+5.163323*xev**2
  -3.242022*xev**3+0.7935377*xev**4;
n2=3.1715+0.8963*xev-1.4964*xev**2+1.0665*xev**3-0.2310*xev**4;
n1+(n2-n1)*(x-0.)/0.1
for 0.1<x<0.2
xev=1.24/wavelength;
n1=3.1715+0.8963*xev-1.4964*xev**2+1.0665*xev**3-0.2310*xev**4;
n2=2.3080+3.5046*xev-4.4066*xev**2+2.4046*xev**3-0.4481*xev**4;
n1+(n2-n1)*(x-0.1)/0.1
for 0.2<x<0.3
xev=1.24/wavelength;
n1=2.3080+3.5046*xev-4.4066*xev**2+2.4046*xev**3-0.4481*xev**4;
n2=2.4397+2.7106*xev-3.2388*xev**2+1.6831*xev**3-0.2919*xev**4;
n1+(n2-n1)*(x-0.2)/0.1
for 0.3<x<0.4
xev=1.24/wavelength;
n1=2.4397+2.7106*xev-3.2388*xev**2+1.6831*xev**3-0.2919*xev**4;
n2=3.3968-0.8732*xev+1.3142*xev**2-0.7823*xev**3+0.1881*xev**4;
n1+(n2-n1)*(x-0.3)/0.1
for 0.4<x<0.5
xev=1.24/wavelength;
n1=3.3968-0.8732*xev+1.3142*xev**2-0.7823*xev**3+0.1881*xev**4;
n2=4.1143 -3.5076*xev +4.5832*xev**2 -2.4916*xev**3 +0.5027*xev**4;
n1+(n2-n1)*(x-0.4)/0.1
for 0.5<x<0.6
xev=1.24/wavelength;
n1=4.1143 -3.5076*xev +4.5832*xev**2 -2.4916*xev**3 +0.5027*xev**4;
n2=3.2169 -0.5468*xev +0.8554*xev**2 -0.4952*xev**3 +0.1178*xev**4;
n1+(n2-n1)*(x-0.5)/0.1
for 0.6<x<0.7
xev=1.24/wavelength;
n1=3.2169 -0.5468*xev +0.8554*xev**2 -0.4952*xev**3 +0.1178*xev**4;
n2=3.3236 -1.1576*xev +1.6762*xev**2 -0.9628*xev**3 +0.2096*xev**4;
n1+(n2-n1)*(x-0.6)/0.1
for 0.7<x<0.8
xev=1.24/wavelength;
n1=3.3236 -1.1576*xev +1.6762*xev**2 -0.9628*xev**3 +0.2096*xev**4;
n2=3.1106 -0.4848*xev +0.6741*xev**2 -0.3351*xev**3 +0.0700*xev**4;
n1+(n2-n1)*(x-0.7)/0.1
for 0.8<x<0.9
xev=1.24/wavelength;
n1=3.1106 -0.4848*xev +0.6741*xev**2 -0.3351*xev**3 +0.0700*xev**4;
n2=3.0202 -0.3050*xev +0.4331*xev**2 -0.2045*xev**3 +0.0447*xev**4;
n1+(n2-n1)*(x-0.8)/0.1
for 0.9<x<1.
xev=1.24/wavelength;
n1=3.0202 -0.3050*xev +0.4331*xev**2 -0.2045*xev**3 +0.0447*xev**4;
n2=2.835238+0.1040565*xev-8.6519323e-2*xev**2
  +8.2142524e-2*xev**3 -1.4580269e-2*xev**4;
n1+(n2-n1)*(x-0.9)/0.1
end_function

$absorption value=0.
$ wavelength dependent absorption
$ define backgroud aborption as bulk_xfunc2 in units 1/m
bulk_xfunc2 variation=function 
function(x,wavelength)
500.
end_function

absorption variation=function
function(x,wavelength)
for 1.24/wavelength<bulk_xfunc1
bulk_xfunc2
for 0<x<0.1
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=-59938.21*(xev-eg)+561976.8*(xev-eg)**2
  -855408.5*(xev-eg)**3+430717.0*(xev-eg)**4; 
a2=-18043.81*(xev-eg)+470037.7*(xev-eg)**2
  -762741.0*(xev-eg)**3+409836.0*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.)/0.1;
bulk_xfunc2+alpha*100.
for 0.1<x<0.2
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=-18043.81*(xev-eg)+470037.7*(xev-eg)**2
  -762741.0*(xev-eg)**3+409836.0*(xev-eg)**4;
a2=91721.91*(xev-eg)+107193.1*(xev-eg)**2      
  -399274.5*(xev-eg)**3+323630.5*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.1)/0.1;
bulk_xfunc2+alpha*100.
for 0.2<x<0.3
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=91721.91*(xev-eg)+107193.1*(xev-eg)**2      
  -399274.5*(xev-eg)**3+323630.5*(xev-eg)**4;
a2=103024.9*(xev-eg)+285712.4*(xev-eg)**2
  -821371.1*(xev-eg)**3+592386.0*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.2)/0.1;
bulk_xfunc2+alpha*100.
for 0.3<x<0.4
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=103024.9*(xev-eg)+285712.4*(xev-eg)**2
  -821371.1*(xev-eg)**3+592386.0*(xev-eg)**4;
a2=95788.52*(xev-eg)+13612.16*(xev-eg)**2      
  -176194.3*(xev-eg)**3+275328.6*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.3)/0.1;
bulk_xfunc2+alpha*100.
for 0.4<x<0.5
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=95788.52*(xev-eg)+13612.16*(xev-eg)**2      
  -176194.3*(xev-eg)**3+275328.6*(xev-eg)**4;
a2=90497.19*(xev-eg)-118715.9*(xev-eg)**2      
  +136604.8*(xev-eg)**3+105422.4*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.4)/0.1;
bulk_xfunc2+alpha*100.
for 0.5<x<0.6
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=90497.19*(xev-eg)-118715.9*(xev-eg)**2      
  +136604.8*(xev-eg)**3+105422.4*(xev-eg)**4;
a2=76853.11*(xev-eg)+161217.3*(xev-eg)**2      
  -360155.9*(xev-eg)**3+318543.7*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.5)/0.1;
bulk_xfunc2+alpha*100.
for 0.6<x<0.7
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=76853.11*(xev-eg)+161217.3*(xev-eg)**2      
  -360155.9*(xev-eg)**3+318543.7*(xev-eg)**4;
a2=32454.24*(xev-eg)+50188.12*(xev-eg)**2      
  -16573.62*(xev-eg)**3+106340.0*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.6)/0.1;
bulk_xfunc2+alpha*100.
for 0.7<x<0.8
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=32454.24*(xev-eg)+50188.12*(xev-eg)**2      
  -16573.62*(xev-eg)**3+106340.0*(xev-eg)**4;
a2=17639.67*(xev-eg)-31695.61*(xev-eg)**2
  +116720.0*(xev-eg)**3+33719.42*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.7)/0.1;
bulk_xfunc2+alpha*100.
for 0.8<x<0.9
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=17639.67*(xev-eg)-31695.61*(xev-eg)**2
  +116720.0*(xev-eg)**3+33719.42*(xev-eg)**4;
a2=6957.562*(xev-eg)+964.3477*(xev-eg)**2      
  -74366.28*(xev-eg)**3+101554.3*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.8)/0.1;
bulk_xfunc2+alpha*100.
for else
xev=1.24/wavelength;
eg=bulk_xfunc1;
a1=6957.562*(xev-eg)+964.3477*(xev-eg)**2      
  -74366.28*(xev-eg)**3+101554.3*(xev-eg)**4;
a2=6957.562*(xev-eg)+964.3477*(xev-eg)**2      
  -74366.28*(xev-eg)**3+101554.3*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.9)/0.1;
bulk_xfunc2+alpha*100.
end_function
thermal_kappa value=46.
$ specific heat (J/kg/K)
spec_heat value=330
$ mass density  (Kg/m^3)
mass_density value=5320
end_macro algaas_lambda

$***********************************
$ macro algaas  
$ for bulk Al(x)Ga(1-x)As
$ Lattice matched to GaAs
$ [free-style]
$ Temperature dependent version of macro algaas
$ Renamed from algaas.temp
$ Typical use:
$   load_macro name=algaas var1=#x mater=#m &&
$     var_symbol1=x 
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600]
$ parameter_range total_doping=[1.e20 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$***********************************
begin_macro algaas
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
13.1 - 3 * x 
end_function

electron_mass variation=function 
function(x)
for   0.<x<0.45 
0.067 + 0.083 * x 
for  0.45<x<1.
0.85 - 0.14 * x
end_function

hole_mass variation=function 
function(x)
   (   ( 0.087 + 0.063 * x ) ** (3 / 2)
 + ( 0.62 + 0.14 * x  ) ** (3 / 2)  ) ** (2 / 3)
end_function

band_gap variation=function 
function(x,temper)
for 0.<x<0.45
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
1.424 + 1.247 * x +shift
for 0.45<x<1.
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
1.9 + 0.125 * x + 0.143 *x * x  +shift
end_function

affinity variation=function 
function(x,temper)
for 0<x<0.45 
offset=0.6;
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
4.07 - 0.748 * x-offset*shift
for 0.45<x<1.
offset=0.6;
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
3.7964 - 0.14 * x-offset*shift
end_function

electron_mobility variation=function 
function(x,temper,total_doping)
for 0<x<0.45  
fac=(300/temper)**2.3;
mu_max=0.85 * exp(-18.516 * x ** 2 )*fac;
mu_min=0;
ref_dens=1.69d23;
alpha=0.436; 
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
for 0.45<x<1.
fac=(300/temper)**2.3;
mu_max=0.02*fac;
mu_min=0;
ref_dens=1.69d23;
alpha=0.436; 
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


hole_mobility variation=function
function(x,temper,total_doping)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
fac=1/( tfac1 + 1.6e-24*dope*tfac2 ); 
mu_max=(0.04 - 0.048 * x + 0.02 * x * x)*fac;
mu_min=0;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel variation=function
function(x,temper)
for 0<x<0.45
fac=(300/temper)**2.3;
0.77e5 * (1 - 0.44 * x )*fac 
for 0.45<x<1.
fac=(300/temper)**2.3;
8.e4*fac
end_function

beta_p value=1.
hole_sat_vel variation=function
function(temper)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
fac=1/( tfac1 + 1.6e-24*dope*tfac2 ); 
1.d5*fac
end_function

norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.e-16
auger_n value=2.e-42
auger_p value=2.e-42
lifetime_n value=1.e-7
lifetime_p value=1.e-7

real_index variation=function
function(x,temper)
3.65-0.73*x+0.015*(temper-300.)/100.
end_function

absorption value=0.
thermal_kappa value=46.
$ specific heat (J/kg/K)
spec_heat value=330
$ mass density  (Kg/m^3)
mass_density value=5320
end_macro algaas

$ ***********************************
$ macro for polysilicon
$ [free-style]
$ Bulk silicon at 300K
$ Typical use:
$   load_macro name=poly mater=#m
$ Parameters for polysilicon is taken to be the same as silicon
$ except reduced mobility (1/2) and lifetime (1/10) are assumed.
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************
begin_macro poly
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=11.9
electron_mass value=0.33
hole_mass value=0.55
$ Band gap modified according to MA Green, JAP 67(6)
$ pp.2944-2954, 1990 with formula for 250K<T<450K
$ Eg(T)=1.206-2.73e-4*T
$ Modified by George Xiao on Oct 13, 2006
$band_gap value=1.08
band_gap value=1.1241
affinity value=4.17
$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ electron_ & hole_mobility are computed with a model (more of physics)
$ from "Unified Set Of Models For Minority Carrier Transport Parameters
$ In Heavily Doped Monosilicon And Polysilicon," M Johnson, AJ Strojwas,
$ & DW Greve, 1993 International Workshop on VLSI Process and Device 
$ Modeling (1993 VPAD), May 14-15, 1993 Page(s):178 - 179, & originally
$ from JD Cressler et al, "On the temperature dependence of majority
$ carrier transport in heavily Arsenic-doped polycrystalline Silicon
$ thin films," J Electrochem Soc V136N3(1989)pp794-804.
$
$ sigmagb=722*exp(-0.0315eV/kT)+176*exp(-0.00221eV/kT) {in (Ohm*m)^-1}
$
$ Specify wpoly, the width of poly layer or the depletion width
$ of the whole poly region
$ Adjustment of wpoly necessary by end user !!!
$
$ Specify ng, the average number of grains seen by a carrier 
$ - usually 3
$
$ Specify lg, the (average) grain length or size
$ Adjustment of lg necessary by end user !!!
$ Make lg consistent with the one for lifetime !!!
$
$ Specify lgb, the (average) grain-boundary region thickness or width
$
$ Modified by George Xiao on Sept 13, 2006
$
$ The four parameters fro bulk Si were obtained by fitting with experi.
$ data from "http://www.ioffe.ru/SVA/NSM/Semicond/Si/electric.html"
$ or from "C Jacoboni et al, Solid State Electron 20, 2(1977)77-89"
$ 
$ Modified by George Xiao on Sept. 28, 2006
$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ 
electron_mobility variation=function 
function(total_doping,doping_n)
mu_max=0.14;
mu_min=0.00897;
ref_dens=1.3587e23;
alpha=0.89975;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
mug=mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha);
sigmagb=375.0;
mugb=sigmagb/(1.602e-19*(doping_n+1));
wpoly=4.2e-6;
ng=3.0;
lg=0.1e-6;
lgb=1.5e-10;
wpoly/((ng*lg/mug)+((ng-1)*lgb/mugb))
end_function
$
hole_mobility variation=function 
function(total_doping,doping_p)
mu_max=0.05157;
mu_min=0.00404;
ref_dens=4.9364d22;
alpha=0.65774;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
mug=mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha);
sigmagb=375.0;
mugb=sigmagb/(1.602e-19*(doping_p+1));
wpoly=4.2e-6;
ng=3.0;
lg=0.1e-6;
lgb=1.5e-10;
wpoly/((ng*lg/mug)+((ng-1)*lgb/mugb))
end_function
$
norm_field value=4.e5
tau_energy value=1.d-13
beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
radiative_recomb value=2.d-21
auger_n value=0.e-44
auger_p value=0.e-44
$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ lifetime_n & lifettime_p are computed with a model (more of physics)
$ from "Unified Set Of Models For Minority Carrier Transport Parameters
$ In Heavily Doped Monosilicon And Polysilicon," M Johnson, AJ Strojwas,
$ & DW Greve, 1993 International Workshop on VLSI Process and Device 
$ Modeling (1993 VPAD), May 14-15, 1993 Page(s):178 - 179, & originally
$ from JD Cressler et al, "On the temperature dependence of majority
$ carrier transport in heavily Arsenic-doped polycrystalline Silicon
$ thin films," J Electrochem Soc V136N3(1989)pp794-804 &
$ T Kamins, "Polycrystalline Silicon for Integrated Circuit Applications,"
$ Kluwer Academic Publishers, Boston, 1988
$
$ Specify lg, the (average) grain length or size
$ Adjustment of lg necessary by end user !!!
$ Make lg consistent with the one for mobility !!!
$
$ Modified by George Xiao on Sept 13, 2006
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ 
$ lifetime_n value=1.e-9
$ lifetime_p value=1.e-9
$
lifetime_n variation=function 
function(total_doping)
tau0=6.8e-4;
Nref=2.75d21;
Ca=1.8d-43;
$tau0/(1+(total_doping/Nref)+(tau0*Ca*total_doping**2))
tg=tau0/(1+(total_doping/Nref)+(tau0*Ca*total_doping**2));
lg=0.1e-6;
tgb=5.0e-4*lg;
tg*tgb/(tg+tgb)
end_function
$
lifetime_p variation=function 
function(total_doping)
tau0=6.8e-4;
Nref=2.75d21;
Ca=1.8d-43;
$tau0/(1+(total_doping/Nref)+(tau0*Ca*total_doping**2))
tg=tau0/(1+(total_doping/Nref)+(tau0*Ca*total_doping**2));
lg=0.1e-6;
tgb=5.0e-4*lg;
tg*tgb/(tg+tgb)
end_function
$
$real_index value=3.4
$absorption value=0.



real_index variation=table
table(wavelength)
  0.1           1.37933000000000     
  0.250000000000000        1.37933000000000     
  0.260000000000000        1.72880000000000     
  0.270000000000000        2.07826000000000     
  0.280000000000000        2.95235000000000     
  0.290000000000000        4.16276000000000     
  0.300000000000000        4.52816000000000     
  0.310000000000000        4.89356000000000     
  0.320000000000000        4.95612000000000     
  0.330000000000000        5.02415000000000     
  0.340000000000000        5.10039000000000     
  0.350000000000000        5.63461000000000     
  0.360000000000000        6.47415000000000     
  0.370000000000000        6.69243000000000     
  0.380000000000000        6.28946000000000     
  0.390000000000000        5.89243000000000     
  0.400000000000000        5.51918000000000     
  0.410000000000000        5.14593000000000     
  0.420000000000000        4.92676000000000     
  0.430000000000000        4.77363000000000     
  0.440000000000000        4.62049000000000     
  0.450000000000000        4.51360000000000     
  0.460000000000000        4.42652000000000     
  0.470000000000000        4.33944000000000     
  0.480000000000000        4.26377000000000     
  0.490000000000000        4.21469000000000     
  0.500000000000000        4.16561000000000     
  0.510000000000000        4.11653000000000     
  0.520000000000000        4.07272000000000     
  0.530000000000000        4.04118000000000     
  0.540000000000000        4.00964000000000     
  0.550000000000000        3.97809000000000     
  0.560000000000000        3.94655000000000     
  0.570000000000000        3.91939000000000     
  0.580000000000000        3.89514000000000     
  0.590000000000000        3.87089000000000     
  0.600000000000000        3.84665000000000     
  0.620000000000000        3.79815000000000     
  0.640000000000000        3.77387000000000     
  0.660000000000000        3.74958000000000     
  0.680000000000000        3.72529000000000     
  0.700000000000000        3.70810000000000     
  0.720000000000000        3.69672000000000     
  0.740000000000000        3.68535000000000     
  0.760000000000000        3.67397000000000     
  0.780000000000000        3.66267000000000     
  0.800000000000000        3.65157000000000     
  0.820000000000000        3.64048000000000     
  0.840000000000000        3.62938000000000     
  0.860000000000000        3.61829000000000     
  0.880000000000000        3.60719000000000     
  0.900000000000000        3.59899000000000     
  0.910000000000000        3.59551000000000     
  0.920000000000000        3.59203000000000     
  0.930000000000000        3.58855000000000     
  0.940000000000000        3.58507000000000     
  0.950000000000000        3.58159000000000     
  0.960000000000000        3.57811000000000     
  0.970000000000000        3.57463000000000     
  0.980000000000000        3.57115000000000     
  0.990000000000000        3.56767000000000     
   1.00000000000000        3.56419000000000     
   1.01000000000000        3.56071000000000     
   1.02000000000000        3.55723000000000     
   1.03000000000000        3.55375000000000     
   1.04000000000000        3.55103000000000     
   1.05000000000000        3.54864000000000     
   1.06000000000000        3.54624000000000     
   1.07000000000000        3.54384000000000     
   1.08000000000000        3.54145000000000     
   1.09000000000000        3.53905000000000     
   1.10000000000000        3.53665000000000     
   1.11000000000000        3.53426000000000     
   1.12000000000000        3.53186000000000     
   1.13000000000000        3.52946000000000     
   1.14000000000000        3.52707000000000     
   1.15000000000000        3.52467000000000     
   1.16000000000000        3.52227000000000     
   1.17000000000000        3.51988000000000     
   1.18000000000000        3.51748000000000     
   1.19000000000000        3.51508000000000     
   1.20000000000000        3.51269000000000     
   1.21000000000000        3.51029000000000     
   1.22000000000000        3.50789000000000     
   1.23000000000000        3.50550000000000     
   1.24000000000000        3.50310000000000     
   1.25000000000000        3.50076000000000     
   1.26000000000000        3.49843000000000     
   1.27000000000000        3.49609000000000     
   1.28000000000000        3.49375000000000     
   1.29000000000000        3.49141000000000     
   1.30000000000000        3.48908000000000     
   5.        3.48908000000000     

end_table


absorption variation=table
table(wavelength)
  0.1       183999814.464394     
  0.250000000000000        183999814.464394     
  0.260000000000000        197000092.189629     
  0.270000000000000        218000001.154501     
  0.280000000000000        236000030.529269     
  0.290000000000000        223999889.432199     
  0.300000000000000        172999967.610821     
  0.310000000000000        144000067.703912     
  0.320000000000000        127999872.980617     
  0.330000000000000        117000145.602765     
  0.340000000000000        108999959.510680     
  0.350000000000000        104000001.282757     
  0.360000000000000        101999834.013352     
  0.370000000000000        69699884.0600005     
  0.380000000000000        29300014.2796107     
  0.390000000000000        14999993.2804138     
  0.400000000000000        9519999.63409969     
  0.410000000000000        6739988.20385376     
  0.420000000000000        5000009.26780334     
  0.430000000000000        3920006.25285508     
  0.440000000000000        3110005.36745461     
  0.450000000000000        2549998.64286060     
  0.460000000000000        2099998.97520195     
  0.470000000000000        1719999.25142547     
  0.480000000000000        1479999.06311840     
  0.490000000000000        1270001.01189947     
  0.500000000000000        1110000.08273696     
  0.510000000000000        970000.611716623     
  0.520000000000000        880001.184635971     
  0.530000000000000        784999.833159106     
  0.540000000000000        704998.989627912     
  0.550000000000000        638999.945740164     
  0.560000000000000        577999.192386460     
  0.570000000000000        532000.606898531     
  0.580000000000000        487999.836499276     
  0.590000000000000        449000.681837702     
  0.600000000000000        413999.079890063     
  0.620000000000000        352000.255579961     
  0.640000000000000        304000.140115433     
  0.660000000000000        258000.916681627     
  0.680000000000000        220999.955205970     
  0.700000000000000        189999.933297507     
  0.720000000000000        166000.010486433     
  0.740000000000000        141999.987942259     
  0.760000000000000        119000.057431364     
  0.780000000000000        100999.948310494     
  0.800000000000000        85000.0303929542     
  0.820000000000000        70699.9335606060     
  0.840000000000000        59099.9401986315     
  0.860000000000000        48000.0288527271     
  0.880000000000000        38300.0128379096     
  0.900000000000000        30599.9502040055     
  0.910000000000000        27199.9782407728     
  0.920000000000000        23999.9921906218     
  0.930000000000000        21000.0267637702     
  0.940000000000000        18299.9777343512     
  0.950000000000000        15700.0266128241     
  0.960000000000000        13399.9398651117     
  0.970000000000000        11400.0041410066     
  0.980000000000000        9590.00008869389     
  0.990000000000000        7919.99950626264     
   1.00000000000000        6400.00228841067     
   1.01000000000000        5109.99641179368     
   1.02000000000000        3989.99514965571     
   1.03000000000000        3020.00386762600     
   1.04000000000000        2260.00133974916     
   1.05000000000000        1630.00188434655     
   1.06000000000000        1110.00055693962     
   1.07000000000000        799.999816280470     
   1.08000000000000        620.000291502954     
   1.09000000000000        469.999554147603     
   1.10000000000000        349.999696748460     
   1.11000000000000        270.000359756845     
   1.12000000000000        200.000520311784     
   1.13000000000000        150.000206544002     
   1.14000000000000        99.9999806407561     
   1.15000000000000        68.0000188507240     
   1.16000000000000        41.9999521858419     
   1.17000000000000        21.9999557750463     
   1.18000000000000        6.49999779814377     
   1.19000000000000        3.60000118163125     
   1.20000000000000        2.20000497543137     
   1.21000000000000        1.29999623277059     
   1.22000000000000       0.819999973893200     
   1.23000000000000       0.469999629131541     
   1.24000000000000       0.240000450645515     
   1.25000000000000       9.999996035819304E-002
   1.26000000000000       3.599995901643595E-002
   1.27000000000000       2.000002199345336E-002
   1.28000000000000       1.200000036377919E-002
   1.29000000000000       7.099999397112932E-003
   1.30000000000000       0.000000000000000E+000
   5.         0.000000000000000E+000

end_table






thermal_kappa value=150.

$ specific heat (J/kg/K)
spec_heat value=712
$ mass density  (Kg/m^3)
mass_density value=2330
end_macro poly

$ ***********************************
$ macro for silicon carbide
$ [free-style]
$ Bulk silicon carbide at 300K
$ Typical use:
$   load_macro name=sic mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************
begin_macro sic 
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=10.
electron_mass value=0.6
hole_mass value=1.
band_gap value=2.996
$affinity value=4.17
affinity value=4.05

electron_mobility variation=function 
function(total_doping)
mu_max=0.04;
mu_min=0.0;
ref_dens=1.0e24;
alpha=1.;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.005;
mu_min=0.0;
ref_dens=1.e24;
alpha=0.7;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5
tau_energy value=1.d-13
beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
radiative_recomb value=2.d-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-7
lifetime_p value=1.e-7
real_index value=3.4
absorption value=0.
thermal_kappa value=150.
end_macro sic

$ ***********************************
$ macro for accuglass
$ Bulk insulator accuglass
$ [free-style]
$ Typical use:
$   load_macro name=accuglass mater=#m
$ ***********************************
begin_macro accuglass
material type=insulator  
$ set affinity for the purpose of plotting band diagram
affinity value=1.0
$band_gap value=8.
dielectric_constant value=3.9
$real_index  value=1.46
real_index variation=table
table(wavelength)
  0.1        2.00600000000000     
  0.133300000000000        2.00600000000000     
  0.134800000000000        1.96900000000000     
  0.136200000000000        1.93500000000000     
  0.137800000000000        1.90400000000000     
  0.139300000000000        1.87600000000000     
  0.140900000000000        1.85000000000000     
  0.142500000000000        1.82500000000000     
  0.144200000000000        1.80300000000000     
  0.145900000000000        1.78300000000000     
  0.147600000000000        1.76400000000000     
  0.149400000000000        1.74700000000000     
  0.151200000000000        1.73000000000000     
  0.153100000000000        1.71600000000000     
  0.155000000000000        1.70200000000000     
  0.159000000000000        1.67600000000000     
  0.163100000000000        1.65300000000000     
  0.167500000000000        1.63300000000000     
  0.172200000000000        1.61600000000000     
  0.177100000000000        1.60000000000000     
  0.183700000000000        1.58200000000000     
  0.190700000000000        1.56700000000000     
  0.198400000000000        1.55400000000000     
  0.206600000000000        1.54300000000000     
  0.213300000000000        1.53420000000000     
  0.214400000000000        1.53370000000000     
  0.226700000000000        1.52270000000000     
  0.230200000000000        1.52000000000000     
  0.237800000000000        1.51470000000000     
  0.239900000000000        1.51330000000000     
  0.248200000000000        1.50840000000000     
  0.265200000000000        1.50000000000000     
  0.269800000000000        1.49800000000000     
  0.275200000000000        1.49590000000000     
  0.280300000000000        1.49400000000000     
  0.289300000000000        1.49090000000000     
  0.296700000000000        1.48870000000000     
  0.302100000000000        1.48710000000000     
  0.330200000000000        1.48050000000000     
  0.334100000000000        1.47970000000000     
  0.340300000000000        1.47850000000000     
  0.346600000000000        1.47740000000000     
  0.361000000000000        1.47510000000000     
  0.365000000000000        1.47450000000000     
  0.404600000000000        1.46960000000000     
  0.435800000000000        1.46660000000000     
  0.467800000000000        1.46420000000000     
  0.486100000000000        1.46310000000000     
  0.508500000000000        1.46180000000000     
  0.546000000000000        1.46000000000000     
  0.576900000000000        1.45880000000000     
  0.579000000000000        1.45870000000000     
  0.587500000000000        1.45840000000000     
  0.589200000000000        1.45840000000000     
  0.643800000000000        1.45670000000000     
  0.656200000000000        1.45630000000000     
  0.667800000000000        1.45600000000000     
  0.706500000000000        1.45510000000000     
  0.852100000000000        1.45240000000000     
  0.894300000000000        1.45180000000000     
   1.01390000000000        1.45020000000000     
   1.08290000000000        1.44940000000000     
   1.12860000000000        1.44880000000000     
   1.36220000000000        1.44620000000000     
   1.39500000000000        1.44580000000000     
   1.46950000000000        1.44490000000000     
   1.52950000000000        1.44420000000000     
   1.66060000000000        1.44260000000000     
   1.68100000000000        1.44240000000000     
   1.69320000000000        1.44220000000000     
   1.70910000000000        1.44200000000000     
   1.81300000000000        1.44060000000000     
   1.97000000000000        1.43850000000000     
   2.05810000000000        1.43720000000000     
   2.15260000000000        1.44350000000000     
   2.32540000000000        1.43290000000000     
   2.43740000000000        1.43090000000000     
   3.24390000000000        1.41310000000000     
   3.26680000000000        1.41250000000000     
   3.30260000000000        1.41150000000000     
   3.42200000000000        1.40610000000000     
   3.50700000000000        1.40560000000000     
   3.55640000000000        1.40410000000000     
   3.63600000000000        1.40410000000000     
   3.70400000000000        1.40410000000000     
   3.70670000000000        1.39930000000000     
   3.77400000000000        1.39500000000000     
   3.84600000000000        1.39500000000000     
   3.92200000000000        1.39500000000000     
   4.00000000000000        1.39500000000000     
   5.       1.39500000000000     

end_table

$absorption value=0.
absorption real_index variation=table
table(wavelength)
  0.1        3195798.67837041     
  0.133300000000000        3195798.67837041     
  0.134800000000000        2526325.24962265     
  0.136200000000000        2103621.51253590     
  0.137800000000000        1267580.19985190     
  0.139300000000000        1407289.17145731     
  0.140900000000000        1177261.12214011     
  0.142500000000000        961217.120677298     
  0.144200000000000        730278.680640290     
  0.145900000000000        479744.237984788     
  0.147600000000000        269887.498966928     
  0.149400000000000        117757.154351425     
  0.151200000000000        38480.3544606369     
  0.153100000000000        10013.6983341072     
  0.155000000000000        2594.34748167415     
  0.159000000000000        371.458754009359     
  0.163100000000000       0.000000000000000E+000
  0.167500000000000       0.000000000000000E+000
  0.172200000000000       0.000000000000000E+000
  0.177100000000000       0.000000000000000E+000
  0.183700000000000       0.000000000000000E+000
  0.190700000000000       0.000000000000000E+000
  0.198400000000000       0.000000000000000E+000
  0.206600000000000       0.000000000000000E+000
  0.213300000000000       0.000000000000000E+000
  0.214400000000000       0.000000000000000E+000
  0.226700000000000       0.000000000000000E+000
  0.230200000000000       0.000000000000000E+000
  0.237800000000000       0.000000000000000E+000
  0.239900000000000       0.000000000000000E+000
  0.248200000000000       0.000000000000000E+000
  0.265200000000000       0.000000000000000E+000
  0.269800000000000       0.000000000000000E+000
  0.275200000000000       0.000000000000000E+000
  0.280300000000000       0.000000000000000E+000
  0.289300000000000       0.000000000000000E+000
  0.296700000000000       0.000000000000000E+000
  0.302100000000000       0.000000000000000E+000
  0.330200000000000       0.000000000000000E+000
  0.334100000000000       0.000000000000000E+000
  0.340300000000000       0.000000000000000E+000
  0.346600000000000       0.000000000000000E+000
  0.361000000000000       0.000000000000000E+000
  0.365000000000000       0.000000000000000E+000
  0.404600000000000       0.000000000000000E+000
  0.435800000000000       0.000000000000000E+000
  0.467800000000000       0.000000000000000E+000
  0.486100000000000       0.000000000000000E+000
  0.508500000000000       0.000000000000000E+000
  0.546000000000000       0.000000000000000E+000
  0.576900000000000       0.000000000000000E+000
  0.579000000000000       0.000000000000000E+000
  0.587500000000000       0.000000000000000E+000
  0.589200000000000       0.000000000000000E+000
  0.643800000000000       0.000000000000000E+000
  0.656200000000000       0.000000000000000E+000
  0.667800000000000       0.000000000000000E+000
  0.706500000000000       0.000000000000000E+000
  0.852100000000000       0.000000000000000E+000
  0.894300000000000       0.000000000000000E+000
   1.01390000000000       0.000000000000000E+000
   1.08290000000000       0.000000000000000E+000
   1.12860000000000       0.000000000000000E+000
   1.36220000000000       0.000000000000000E+000
   1.39500000000000       0.000000000000000E+000
   1.46950000000000       0.000000000000000E+000
   1.52950000000000       0.000000000000000E+000
   1.66060000000000       0.000000000000000E+000
   1.68100000000000       0.000000000000000E+000
   1.69320000000000       0.000000000000000E+000
   1.70910000000000       0.000000000000000E+000
   1.81300000000000       0.000000000000000E+000
   1.97000000000000       0.000000000000000E+000
   2.05810000000000       0.000000000000000E+000
   2.15260000000000       0.000000000000000E+000
   2.32540000000000       0.000000000000000E+000
   2.43740000000000       0.000000000000000E+000
   3.24390000000000       0.000000000000000E+000
   3.26680000000000       0.000000000000000E+000
   3.30260000000000       0.000000000000000E+000
   3.42200000000000       0.000000000000000E+000
   3.50700000000000       0.000000000000000E+000
   3.55640000000000       0.000000000000000E+000
   3.63600000000000       0.000000000000000E+000
   3.70400000000000       0.000000000000000E+000
   3.70670000000000       0.000000000000000E+000
   3.77400000000000       0.000000000000000E+000
   3.84600000000000       0.000000000000000E+000
   3.92200000000000       0.000000000000000E+000
   4.00000000000000       0.000000000000000E+000
   5.       0.000000000000000E+000

end_table

thermal_kappa value=10.
end_macro accuglass


$ ***********************************
$ macro for sio2 
$ Bulk insulator SiO2  
$ [free-style]
$ Typical use:
$   load_macro name=sio2 mater=#m
$ ***********************************
begin_macro sio2 
material type=insulator  
$ set affinity for the purpose of plotting band diagram
affinity value=1.0
$band_gap value=8.
dielectric_constant value=3.9
$real_index  value=1.46
real_index variation=table
table(wavelength)
  0.1        2.00600000000000     
  0.133300000000000        2.00600000000000     
  0.134800000000000        1.96900000000000     
  0.136200000000000        1.93500000000000     
  0.137800000000000        1.90400000000000     
  0.139300000000000        1.87600000000000     
  0.140900000000000        1.85000000000000     
  0.142500000000000        1.82500000000000     
  0.144200000000000        1.80300000000000     
  0.145900000000000        1.78300000000000     
  0.147600000000000        1.76400000000000     
  0.149400000000000        1.74700000000000     
  0.151200000000000        1.73000000000000     
  0.153100000000000        1.71600000000000     
  0.155000000000000        1.70200000000000     
  0.159000000000000        1.67600000000000     
  0.163100000000000        1.65300000000000     
  0.167500000000000        1.63300000000000     
  0.172200000000000        1.61600000000000     
  0.177100000000000        1.60000000000000     
  0.183700000000000        1.58200000000000     
  0.190700000000000        1.56700000000000     
  0.198400000000000        1.55400000000000     
  0.206600000000000        1.54300000000000     
  0.213300000000000        1.53420000000000     
  0.214400000000000        1.53370000000000     
  0.226700000000000        1.52270000000000     
  0.230200000000000        1.52000000000000     
  0.237800000000000        1.51470000000000     
  0.239900000000000        1.51330000000000     
  0.248200000000000        1.50840000000000     
  0.265200000000000        1.50000000000000     
  0.269800000000000        1.49800000000000     
  0.275200000000000        1.49590000000000     
  0.280300000000000        1.49400000000000     
  0.289300000000000        1.49090000000000     
  0.296700000000000        1.48870000000000     
  0.302100000000000        1.48710000000000     
  0.330200000000000        1.48050000000000     
  0.334100000000000        1.47970000000000     
  0.340300000000000        1.47850000000000     
  0.346600000000000        1.47740000000000     
  0.361000000000000        1.47510000000000     
  0.365000000000000        1.47450000000000     
  0.404600000000000        1.46960000000000     
  0.435800000000000        1.46660000000000     
  0.467800000000000        1.46420000000000     
  0.486100000000000        1.46310000000000     
  0.508500000000000        1.46180000000000     
  0.546000000000000        1.46000000000000     
  0.576900000000000        1.45880000000000     
  0.579000000000000        1.45870000000000     
  0.587500000000000        1.45840000000000     
  0.589200000000000        1.45840000000000     
  0.643800000000000        1.45670000000000     
  0.656200000000000        1.45630000000000     
  0.667800000000000        1.45600000000000     
  0.706500000000000        1.45510000000000     
  0.852100000000000        1.45240000000000     
  0.894300000000000        1.45180000000000     
   1.01390000000000        1.45020000000000     
   1.08290000000000        1.44940000000000     
   1.12860000000000        1.44880000000000     
   1.36220000000000        1.44620000000000     
   1.39500000000000        1.44580000000000     
   1.46950000000000        1.44490000000000     
   1.52950000000000        1.44420000000000     
   1.66060000000000        1.44260000000000     
   1.68100000000000        1.44240000000000     
   1.69320000000000        1.44220000000000     
   1.70910000000000        1.44200000000000     
   1.81300000000000        1.44060000000000     
   1.97000000000000        1.43850000000000     
   2.05810000000000        1.43720000000000     
   2.15260000000000        1.44350000000000     
   2.32540000000000        1.43290000000000     
   2.43740000000000        1.43090000000000     
   3.24390000000000        1.41310000000000     
   3.26680000000000        1.41250000000000     
   3.30260000000000        1.41150000000000     
   3.42200000000000        1.40610000000000     
   3.50700000000000        1.40560000000000     
   3.55640000000000        1.40410000000000     
   3.63600000000000        1.40410000000000     
   3.70400000000000        1.40410000000000     
   3.70670000000000        1.39930000000000     
   3.77400000000000        1.39500000000000     
   3.84600000000000        1.39500000000000     
   3.92200000000000        1.39500000000000     
   4.00000000000000        1.39500000000000     
   5.       1.39500000000000     

end_table

$absorption value=0.
absorption real_index variation=table
table(wavelength)
  0.1        3195798.67837041     
  0.133300000000000        3195798.67837041     
  0.134800000000000        2526325.24962265     
  0.136200000000000        2103621.51253590     
  0.137800000000000        1267580.19985190     
  0.139300000000000        1407289.17145731     
  0.140900000000000        1177261.12214011     
  0.142500000000000        961217.120677298     
  0.144200000000000        730278.680640290     
  0.145900000000000        479744.237984788     
  0.147600000000000        269887.498966928     
  0.149400000000000        117757.154351425     
  0.151200000000000        38480.3544606369     
  0.153100000000000        10013.6983341072     
  0.155000000000000        2594.34748167415     
  0.159000000000000        371.458754009359     
  0.163100000000000       0.000000000000000E+000
  0.167500000000000       0.000000000000000E+000
  0.172200000000000       0.000000000000000E+000
  0.177100000000000       0.000000000000000E+000
  0.183700000000000       0.000000000000000E+000
  0.190700000000000       0.000000000000000E+000
  0.198400000000000       0.000000000000000E+000
  0.206600000000000       0.000000000000000E+000
  0.213300000000000       0.000000000000000E+000
  0.214400000000000       0.000000000000000E+000
  0.226700000000000       0.000000000000000E+000
  0.230200000000000       0.000000000000000E+000
  0.237800000000000       0.000000000000000E+000
  0.239900000000000       0.000000000000000E+000
  0.248200000000000       0.000000000000000E+000
  0.265200000000000       0.000000000000000E+000
  0.269800000000000       0.000000000000000E+000
  0.275200000000000       0.000000000000000E+000
  0.280300000000000       0.000000000000000E+000
  0.289300000000000       0.000000000000000E+000
  0.296700000000000       0.000000000000000E+000
  0.302100000000000       0.000000000000000E+000
  0.330200000000000       0.000000000000000E+000
  0.334100000000000       0.000000000000000E+000
  0.340300000000000       0.000000000000000E+000
  0.346600000000000       0.000000000000000E+000
  0.361000000000000       0.000000000000000E+000
  0.365000000000000       0.000000000000000E+000
  0.404600000000000       0.000000000000000E+000
  0.435800000000000       0.000000000000000E+000
  0.467800000000000       0.000000000000000E+000
  0.486100000000000       0.000000000000000E+000
  0.508500000000000       0.000000000000000E+000
  0.546000000000000       0.000000000000000E+000
  0.576900000000000       0.000000000000000E+000
  0.579000000000000       0.000000000000000E+000
  0.587500000000000       0.000000000000000E+000
  0.589200000000000       0.000000000000000E+000
  0.643800000000000       0.000000000000000E+000
  0.656200000000000       0.000000000000000E+000
  0.667800000000000       0.000000000000000E+000
  0.706500000000000       0.000000000000000E+000
  0.852100000000000       0.000000000000000E+000
  0.894300000000000       0.000000000000000E+000
   1.01390000000000       0.000000000000000E+000
   1.08290000000000       0.000000000000000E+000
   1.12860000000000       0.000000000000000E+000
   1.36220000000000       0.000000000000000E+000
   1.39500000000000       0.000000000000000E+000
   1.46950000000000       0.000000000000000E+000
   1.52950000000000       0.000000000000000E+000
   1.66060000000000       0.000000000000000E+000
   1.68100000000000       0.000000000000000E+000
   1.69320000000000       0.000000000000000E+000
   1.70910000000000       0.000000000000000E+000
   1.81300000000000       0.000000000000000E+000
   1.97000000000000       0.000000000000000E+000
   2.05810000000000       0.000000000000000E+000
   2.15260000000000       0.000000000000000E+000
   2.32540000000000       0.000000000000000E+000
   2.43740000000000       0.000000000000000E+000
   3.24390000000000       0.000000000000000E+000
   3.26680000000000       0.000000000000000E+000
   3.30260000000000       0.000000000000000E+000
   3.42200000000000       0.000000000000000E+000
   3.50700000000000       0.000000000000000E+000
   3.55640000000000       0.000000000000000E+000
   3.63600000000000       0.000000000000000E+000
   3.70400000000000       0.000000000000000E+000
   3.70670000000000       0.000000000000000E+000
   3.77400000000000       0.000000000000000E+000
   3.84600000000000       0.000000000000000E+000
   3.92200000000000       0.000000000000000E+000
   4.00000000000000       0.000000000000000E+000
   5.       0.000000000000000E+000

end_table

thermal_kappa value=10.
end_macro sio2

$ ***********************************
$ macro for sio2b 
$ Bulk insulator SiO2  
$ just another version of SiO2
$ [free-style]
$ Typical use:
$   load_macro name=sio2b mater=#m
$ ***********************************
begin_macro sio2b 
material type=insulator  
$ set affinity for the purpose of plotting band diagram
affinity value=1.0
$band_gap value=8.
dielectric_constant value=3.9
$real_index  value=1.46
real_index variation=table
table(wavelength)
  0.1        2.00600000000000     
  0.133300000000000        2.00600000000000     
  0.134800000000000        1.96900000000000     
  0.136200000000000        1.93500000000000     
  0.137800000000000        1.90400000000000     
  0.139300000000000        1.87600000000000     
  0.140900000000000        1.85000000000000     
  0.142500000000000        1.82500000000000     
  0.144200000000000        1.80300000000000     
  0.145900000000000        1.78300000000000     
  0.147600000000000        1.76400000000000     
  0.149400000000000        1.74700000000000     
  0.151200000000000        1.73000000000000     
  0.153100000000000        1.71600000000000     
  0.155000000000000        1.70200000000000     
  0.159000000000000        1.67600000000000     
  0.163100000000000        1.65300000000000     
  0.167500000000000        1.63300000000000     
  0.172200000000000        1.61600000000000     
  0.177100000000000        1.60000000000000     
  0.183700000000000        1.58200000000000     
  0.190700000000000        1.56700000000000     
  0.198400000000000        1.55400000000000     
  0.206600000000000        1.54300000000000     
  0.213300000000000        1.53420000000000     
  0.214400000000000        1.53370000000000     
  0.226700000000000        1.52270000000000     
  0.230200000000000        1.52000000000000     
  0.237800000000000        1.51470000000000     
  0.239900000000000        1.51330000000000     
  0.248200000000000        1.50840000000000     
  0.265200000000000        1.50000000000000     
  0.269800000000000        1.49800000000000     
  0.275200000000000        1.49590000000000     
  0.280300000000000        1.49400000000000     
  0.289300000000000        1.49090000000000     
  0.296700000000000        1.48870000000000     
  0.302100000000000        1.48710000000000     
  0.330200000000000        1.48050000000000     
  0.334100000000000        1.47970000000000     
  0.340300000000000        1.47850000000000     
  0.346600000000000        1.47740000000000     
  0.361000000000000        1.47510000000000     
  0.365000000000000        1.47450000000000     
  0.404600000000000        1.46960000000000     
  0.435800000000000        1.46660000000000     
  0.467800000000000        1.46420000000000     
  0.486100000000000        1.46310000000000     
  0.508500000000000        1.46180000000000     
  0.546000000000000        1.46000000000000     
  0.576900000000000        1.45880000000000     
  0.579000000000000        1.45870000000000     
  0.587500000000000        1.45840000000000     
  0.589200000000000        1.45840000000000     
  0.643800000000000        1.45670000000000     
  0.656200000000000        1.45630000000000     
  0.667800000000000        1.45600000000000     
  0.706500000000000        1.45510000000000     
  0.852100000000000        1.45240000000000     
  0.894300000000000        1.45180000000000     
   1.01390000000000        1.45020000000000     
   1.08290000000000        1.44940000000000     
   1.12860000000000        1.44880000000000     
   1.36220000000000        1.44620000000000     
   1.39500000000000        1.44580000000000     
   1.46950000000000        1.44490000000000     
   1.52950000000000        1.44420000000000     
   1.66060000000000        1.44260000000000     
   1.68100000000000        1.44240000000000     
   1.69320000000000        1.44220000000000     
   1.70910000000000        1.44200000000000     
   1.81300000000000        1.44060000000000     
   1.97000000000000        1.43850000000000     
   2.05810000000000        1.43720000000000     
   2.15260000000000        1.44350000000000     
   2.32540000000000        1.43290000000000     
   2.43740000000000        1.43090000000000     
   3.24390000000000        1.41310000000000     
   3.26680000000000        1.41250000000000     
   3.30260000000000        1.41150000000000     
   3.42200000000000        1.40610000000000     
   3.50700000000000        1.40560000000000     
   3.55640000000000        1.40410000000000     
   3.63600000000000        1.40410000000000     
   3.70400000000000        1.40410000000000     
   3.70670000000000        1.39930000000000     
   3.77400000000000        1.39500000000000     
   3.84600000000000        1.39500000000000     
   3.92200000000000        1.39500000000000     
   4.00000000000000        1.39500000000000     
   5.       1.39500000000000     

end_table

$absorption value=0.
absorption real_index variation=table
table(wavelength)
  0.1        3195798.67837041     
  0.133300000000000        3195798.67837041     
  0.134800000000000        2526325.24962265     
  0.136200000000000        2103621.51253590     
  0.137800000000000        1267580.19985190     
  0.139300000000000        1407289.17145731     
  0.140900000000000        1177261.12214011     
  0.142500000000000        961217.120677298     
  0.144200000000000        730278.680640290     
  0.145900000000000        479744.237984788     
  0.147600000000000        269887.498966928     
  0.149400000000000        117757.154351425     
  0.151200000000000        38480.3544606369     
  0.153100000000000        10013.6983341072     
  0.155000000000000        2594.34748167415     
  0.159000000000000        371.458754009359     
  0.163100000000000       0.000000000000000E+000
  0.167500000000000       0.000000000000000E+000
  0.172200000000000       0.000000000000000E+000
  0.177100000000000       0.000000000000000E+000
  0.183700000000000       0.000000000000000E+000
  0.190700000000000       0.000000000000000E+000
  0.198400000000000       0.000000000000000E+000
  0.206600000000000       0.000000000000000E+000
  0.213300000000000       0.000000000000000E+000
  0.214400000000000       0.000000000000000E+000
  0.226700000000000       0.000000000000000E+000
  0.230200000000000       0.000000000000000E+000
  0.237800000000000       0.000000000000000E+000
  0.239900000000000       0.000000000000000E+000
  0.248200000000000       0.000000000000000E+000
  0.265200000000000       0.000000000000000E+000
  0.269800000000000       0.000000000000000E+000
  0.275200000000000       0.000000000000000E+000
  0.280300000000000       0.000000000000000E+000
  0.289300000000000       0.000000000000000E+000
  0.296700000000000       0.000000000000000E+000
  0.302100000000000       0.000000000000000E+000
  0.330200000000000       0.000000000000000E+000
  0.334100000000000       0.000000000000000E+000
  0.340300000000000       0.000000000000000E+000
  0.346600000000000       0.000000000000000E+000
  0.361000000000000       0.000000000000000E+000
  0.365000000000000       0.000000000000000E+000
  0.404600000000000       0.000000000000000E+000
  0.435800000000000       0.000000000000000E+000
  0.467800000000000       0.000000000000000E+000
  0.486100000000000       0.000000000000000E+000
  0.508500000000000       0.000000000000000E+000
  0.546000000000000       0.000000000000000E+000
  0.576900000000000       0.000000000000000E+000
  0.579000000000000       0.000000000000000E+000
  0.587500000000000       0.000000000000000E+000
  0.589200000000000       0.000000000000000E+000
  0.643800000000000       0.000000000000000E+000
  0.656200000000000       0.000000000000000E+000
  0.667800000000000       0.000000000000000E+000
  0.706500000000000       0.000000000000000E+000
  0.852100000000000       0.000000000000000E+000
  0.894300000000000       0.000000000000000E+000
   1.01390000000000       0.000000000000000E+000
   1.08290000000000       0.000000000000000E+000
   1.12860000000000       0.000000000000000E+000
   1.36220000000000       0.000000000000000E+000
   1.39500000000000       0.000000000000000E+000
   1.46950000000000       0.000000000000000E+000
   1.52950000000000       0.000000000000000E+000
   1.66060000000000       0.000000000000000E+000
   1.68100000000000       0.000000000000000E+000
   1.69320000000000       0.000000000000000E+000
   1.70910000000000       0.000000000000000E+000
   1.81300000000000       0.000000000000000E+000
   1.97000000000000       0.000000000000000E+000
   2.05810000000000       0.000000000000000E+000
   2.15260000000000       0.000000000000000E+000
   2.32540000000000       0.000000000000000E+000
   2.43740000000000       0.000000000000000E+000
   3.24390000000000       0.000000000000000E+000
   3.26680000000000       0.000000000000000E+000
   3.30260000000000       0.000000000000000E+000
   3.42200000000000       0.000000000000000E+000
   3.50700000000000       0.000000000000000E+000
   3.55640000000000       0.000000000000000E+000
   3.63600000000000       0.000000000000000E+000
   3.70400000000000       0.000000000000000E+000
   3.70670000000000       0.000000000000000E+000
   3.77400000000000       0.000000000000000E+000
   3.84600000000000       0.000000000000000E+000
   3.92200000000000       0.000000000000000E+000
   4.00000000000000       0.000000000000000E+000
   5.       0.000000000000000E+000

end_table

thermal_kappa value=10.
end_macro sio2b
$ ***********************************
$ macro for tio2 
$ Bulk insulator TiO2  
$ [free-style]
$ Typical use:
$   load_macro name=tio2 mater=#m
$ ***********************************
begin_macro tio2 
material type=insulator  
dielectric_constant value=6.5
$ set affinity for the purpose of plotting band diagram
affinity value=2.
$band_gap value=8.
real_index  value=2.2
absorption value=0.
thermal_kappa value=10.
end_macro tio2
$************************************
$ macro for vacuum 
$ Vacuum as an insulator
$ [free-style]
$ Typical use:
$   load_macro name=vacuum mater=#m
$*************************************
begin_macro vacuum 
material type=insulator  
dielectric_constant value=1.0
$ set affinity for the purpose of plotting band diagram
affinity value=0.
$band_gap value=8.
real_index  value=1.00
absorption value=0.
$
$ Well, we do not know how much heat condutivity to set for vacuum
$   at the moment.  Heat can radiate through vacuum.
$
thermal_kappa value=1.
end_macro vacuum 
$************************************
$ macro for air  (same as vacuum)
$ [free-style]
$*************************************
begin_macro air
material type=insulator  
dielectric_constant value=1.0
real_index  value=1.00
$ set affinity for the purpose of plotting band diagram
affinity value=0.
$band_gap value=8.
absorption value=0.
$
$ Well, we do not know how much heat condutivity to set for air
$   at the moment.  Heat can radiate through air.
$
thermal_kappa value=1.
end_macro air
$************************************
$ macro for sin 
$ Bulk insulator SiN
$ [free-style]
$ Typical use:
$   load_macro name=sin mater=#m
$*************************************
begin_macro sin 
material type=insulator  
dielectric_constant value=7.5
$ set affinity for the purpose of plotting band diagram
affinity value=2.3
$band_gap value=8.

$real_index  value=2.05
real_index variation=table
table(wavelength)
  0.1       1.4170000    
  0.10332000       1.4170000    
  0.11271000       1.6570000    
  0.11808000       1.8270000    
  0.12398000       2.0000000    
  0.13051000       2.1620000    
  0.13776000       2.3260000    
  0.14586000       2.4920000    
  0.15498000       2.6510000    
  0.15997000       2.7110000    
  0.16531000       2.7530000    
  0.17101000       2.7660000    
  0.17711000       2.7520000    
  0.18367000       2.7240000    
  0.19074000       2.6820000    
  0.19837000       2.6200000    
  0.20663000       2.5410000    
  0.21562000       2.4640000    
  0.22542000       2.3930000    
  0.23615000       2.3310000    
  0.24796000       2.2780000    
  0.26101000       2.2340000    
  0.27551000       2.1980000    
  0.29172000       2.1670000    
  0.30995000       2.1410000    
  0.35423000       2.0990000    
  0.41327000       2.0660000    
  0.49592000       2.0410000    
  0.61990000       2.0220000    
  0.82653000       2.0080000    
   1.2398000       1.9980000    
   5.      1.9980000    

end_table

$absorption value=0.
absorption real_index variation=table
table(wavelength)
  0.1      0.17392480E+09
  0.10332000      0.17392480E+09
  0.11271000      0.16946929E+09
  0.11808000      0.16282645E+09
  0.12398000      0.15102349E+09
  0.13051000      0.13865278E+09
  0.13776000      0.12040947E+09
  0.14586000       99938228.    
  0.15498000       78002636.    
  0.15997000       68028236.    
  0.16531000       57012752.    
  0.17101000       44971749.    
  0.17711000       34979508.    
  0.18367000       25998916.    
  0.19074000       17985840.    
  0.19837000       11022576.    
  0.20663000       6203212.5    
  0.21562000       3321969.8    
  0.22542000       1616647.8    
  0.23615000       585348.62    
  0.24796000       248327.21    
  0.26101000       57774.203    
  0.27551000       10034.487    
  0.29172000       0.0000000    
  0.30995000       0.0000000    
  0.35423000       0.0000000    
  0.41327000       0.0000000    
  0.49592000       0.0000000    
  0.61990000       0.0000000    
  0.82653000       0.0000000    
   1.2398000       0.0000000    
   5.       0.0000000    

end_table

thermal_kappa value=10.
end_macro sin 
$************************************
$ macro for oxyni
$ Bulk insulator oxyni 
$ [free-style]
$ Typical use:
$   load_macro name=oxyni mater=#m
$*************************************
begin_macro oxyni 
material type=insulator  
dielectric_constant value=7.5
$ set affinity for the purpose of plotting band diagram
affinity value=1.
$band_gap value=8.
real_index  value=2.
absorption value=0.
thermal_kappa value=10.
end_macro oxyni 
$************************************
$ macro for photores
$ Bulk insulator photores
$ [free-style]
$ Typical use:
$   load_macro name=photores mater=#m
$*************************************
begin_macro photores
material type=insulator  
dielectric_constant value=7.5
$ set affinity for the purpose of plotting band diagram
affinity value=1.
$band_gap value=8.
real_index  value=1.43
absorption value=0.
thermal_kappa value=10.
end_macro photores
$ ***************************************************************
$ macro for tungsten (W)
$ [free-style]
$ Typical use:
$   load_macro name=tungsten mater=#m 
$ Work function is 4.10 eV, which may be used to compute the 
$ Schottky barrier height.
$ ***************************************************************
begin_macro tungsten
material type=resistor 
resistivity  value=2.e-8
affinity value=4.3
dielectric_constant value=-2.927e4
real_index value=3.
absorption value=0.01
thermal_kappa value=235.
end_macro  tungsten

$************************************
$ macro for alas oxide
$ Bulk AlAs oxide as an insulator
$ [free-style]
$ Typical use:
$   load_macro name=alas_oxide  mater=#m
$*************************************
begin_macro alas_oxide 
material type=insulator  
$
$ just a guess for the static dielectric constant
$
dielectric_constant value=7.5
real_index  value=1.7
absorption value=0.
$ set affinity for the purpose of plotting band diagram
affinity value=1.
$band_gap value=8.
thermal_kappa value=10.
end_macro alas_oxide 
$************************************
$ macro for GaAs as insulator (sandwiched between AlAs-oxide)
$ [free-style]
$ Typical use:
$   load_macro name=gaas_insulator  mater=#m
$*************************************
begin_macro gaas_insulator
material type=insulator  
$
$ just a guess for the static dielectric constant
$
dielectric_constant value=13.1
real_index variation=function
function(temper)
3.65+0.015*(temper-300.)/100.
end_function


absorption value=0.
$ set affinity for the purpose of plotting band diagram
affinity value=1.
$band_gap value=8.
thermal_kappa value=46.
$ specific heat (J/kg/K)
spec_heat value=330
end_macro gaas_insulator

$ ****************************************
$ macro for a-silicon 
$ Bulk amorphous silicon 
$ [free-style]
$ Typical use:
$   load_macro name=a-si mater=#m
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range wavelength=[0.1  5]
$ ***************************************
begin_macro a-si
$ 
$ Parameters for trapping states of a-Si vary widely.  The following
$ references have been consulted.
$
$ "Post-transit time-of-flight currents as a probe of the density of 
$ states in hydrogenated amorphous silicon,"
$ Seynhaeve, G. F.; Barclay, R. P.; Adriaenssens, G. J.; Marshall, J. M.,
$ Physical Review B, Volume 39, Issue 14, May 15, 1989, pp.10196-10205
$
$ "Semiconductor for solar cells," H J Moeller, 1993 Artech House
$
$ "Amorphous and microcrystalline silicon
$ solar cells - modeling, materals and device technology,"
$ R.E.I. Schropp and M. Zeman, Klumer Academic 1998.
$
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta  &&
  traplevel2_model=expo_tail traplevel2_tail_side=conduction &&
  traplevel2_charge_type=acceptor &&
  traplevel3_model=expo_tail traplevel3_tail_side=valence &&
  traplevel3_charge_type=donor &&
  traplevel4_model=gaussian traplevel4_charge_type=acceptor &&
  traplevel5_model=gaussian traplevel5_charge_type=donor 


dielectric_constant variation=table 
table(doping_p)
0.  11.9
1.e24 7.2
1.e25 7.2
end_table

electron_mass value=0.76
hole_mass value=2.52

band_gap variation=function
function(net_doping)
for net_doping>0.
1.78+0.02*(net_doping)*1.e-25
for else
1.78-0.17*(net_doping)*1.e-25
end_function

affinity value=4.0

max_electron_mob value=20.e-4
min_electron_mob value=1.e-4
electron_ref_dens value=1.0e25
alpha_n value=0.73 

max_hole_mob value=5.e-4
min_hole_mob value=1.e-4
hole_ref_dens value=1.e25
alpha_p value=0.7

norm_field value=4.e5
tau_energy value=1.d-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5
radiative_recomb value=2.e-21
auger_n value=0.
auger_p value=0.
lifetime_n value=1.e-7
lifetime_p value=1.e-7

real_index variation=table
table(wavelength)
  0.1       1.1169700    
  0.20748000       1.1169700    
  0.21078000       1.1559600    
  0.21388000       1.1871600    
  0.21739000       1.2339400    
  0.22068000       1.2807300    
  0.22373000       1.3119300    
  0.22651000       1.3587200    
  0.23045000       1.4211000    
  0.23529000       1.4834900    
  0.23915000       1.5380700    
  0.24314000       1.6004600    
  0.24727000       1.6706400    
  0.25153000       1.7486200    
  0.25595000       1.8032100    
  0.26099000       1.8967900    
  0.26575000       1.9825700    
  0.26919000       2.0449500    
  0.27221000       2.1073400    
  0.27634000       2.1853200    
  0.28005000       2.2399100    
  0.28387000       2.3178900    
  0.28837000       2.3958700    
  0.29183000       2.4816500    
  0.29598000       2.5752300    
  0.30149000       2.6532100    
  0.30465000       2.7467900    
  0.30851000       2.8325700    
  0.31316000       2.9027500    
  0.31656000       2.9885300    
  0.31933000       3.0665100    
  0.32287000       3.1367000    
  0.32722000       3.2068800    
  0.33169000       3.2848600    
  0.33551000       3.3706400    
  0.33941000       3.4486200    
  0.34504000       3.5422000    
  0.35001000       3.6513800    
  0.35427000       3.7293600    
  0.35863000       3.7995400    
  0.36491000       3.8775200    
  0.36675000       3.9243100    
  0.37333000       4.0022900    
  0.37817000       4.0646800    
  0.38517000       4.1348600    
  0.39243000       4.2050500    
  0.40107000       4.2752300    
  0.40667000       4.3298200    
  0.41242000       4.3766100    
  0.42443000       4.4156000    
  0.43586000       4.4467900    
  0.45208000       4.4935800    
  0.47261000       4.4935800    
  0.49010000       4.4935800    
  0.50539000       4.4623900    
  0.51982000       4.4545900    
  0.53313000       4.4311900    
  0.54920000       4.3844000    
  0.56849000       4.3454100    
  0.58211000       4.2986200    
  0.60133000       4.2596300    
  0.61921000       4.2284400    
  0.64384000       4.1894500    
  0.65838000       4.1348600    
  0.68307000       4.1036700    
  0.69947000       4.0646800    
  0.71666000       4.0256900    
  0.73846000       3.9867000    
  0.76161000       3.9477100    
  0.79053000       3.9087200    
  0.81713000       3.8619300    
  0.84558000       3.8151400    
  0.88138000       3.7683500    
  0.93212000       3.7059600    
  0.98239000       3.6591700    
   1.0310500       3.6045900    
   1.0929100       3.5811900    
   1.1720300       3.5500000    
   1.2526200       3.5188100    
   1.3576600       3.4954100    
   1.4971400       3.4798200    
   1.6312200       3.4642200    
   1.8139700       3.4564200    
   1.9603800       3.4330300    
   2.1017600       3.4330300    
   5.       3.4330300    

end_table


absorption variation=table
table(wavelength)
  0.1      0.13816890E+09
  0.20748000      0.13816890E+09
  0.21078000      0.13893834E+09
  0.21388000      0.13909847E+09
  0.21739000      0.13954342E+09
  0.22068000      0.13983419E+09
  0.22373000      0.13974716E+09
  0.22651000      0.13973908E+09
  0.23045000      0.14011408E+09
  0.23529000      0.14009615E+09
  0.23915000      0.14035399E+09
  0.24314000      0.13998319E+09
  0.24727000      0.13932272E+09
  0.25153000      0.13929971E+09
  0.25595000      0.13937895E+09
  0.26099000      0.13858156E+09
  0.26575000      0.13763048E+09
  0.26919000      0.13677546E+09
  0.27221000      0.13599296E+09
  0.27634000      0.13495684E+09
  0.28005000      0.13428718E+09
  0.28387000      0.13293385E+09
  0.28837000      0.13114572E+09
  0.29183000      0.13020229E+09
  0.29598000      0.12904836E+09
  0.30149000      0.12740263E+09
  0.30465000      0.12640371E+09
  0.30851000      0.12482217E+09
  0.31316000      0.12296873E+09
  0.31656000      0.12122602E+09
  0.31933000      0.11983366E+09
  0.32287000      0.11764329E+09
  0.32722000      0.11504362E+09
  0.33169000      0.11260368E+09
  0.33551000      0.11040585E+09
  0.33941000      0.10810352E+09
  0.34504000      0.10430699E+09
  0.35001000      0.10124938E+09
  0.35427000       98579696.    
  0.35863000       94744821.    
  0.36491000       89637883.    
  0.36675000       88314774.    
  0.37333000       82092232.    
  0.37817000       75262648.    
  0.38517000       68426477.    
  0.39243000       63332036.    
  0.40107000       59357435.    
  0.40667000       55377687.    
  0.41242000       50879450.    
  0.42443000       41868164.    
  0.43586000       37393501.    
  0.45208000       29543535.    
  0.47261000       23957627.    
  0.49010000       18282339.    
  0.50539000       15243851.    
  0.51982000       12308453.    
  0.53313000       10579035.    
  0.54920000       7808402.2    
  0.56849000       5866001.0    
  0.58211000       4758343.6    
  0.60133000       3331458.1    
  0.61921000       2540610.4    
  0.64384000       1636167.5    
  0.65838000       1188919.0    
  0.68307000       681066.12    
  0.69947000       443990.08    
  0.71666000       275807.51    
  0.73846000       163190.61    
  0.76161000       39996.206    
  0.79053000       11680.177    
  0.81713000       5426.4705    
  0.84558000       1993.1009    
  0.88138000       423.68906    
  0.93212000       146.89167    
  0.98239000       91.701158    
   1.0310500       74.118612    
   1.0929100       58.336562    
   1.1720300       47.883937    
   1.2526200       34.895148    
   1.3576600       20.061709    
   1.4971400       8.8948490    
   1.6312200       0.0000000    
   1.8139700       0.0000000    
   1.9603800       0.0000000    
   2.1017600       0.0000000    
   5.       0.0000000    

end_table

$ these are taken from silicon
thermal_kappa value=150.
$ specific heat (J/kg/K)
spec_heat value=712
$ mass density  (Kg/m^3)
mass_density value=2330


trap_conc_2 value=1.e23 
traplevel_tail_2 value=0.05 
trap_ncap_2 value=2.e-21 
trap_pcap_2 value=5.e-20 

trap_conc_3 value=1.e23  
traplevel_tail_3 value=0.05 
trap_ncap_3 value=5.e-20 
trap_pcap_3 value=2.e-21 

$ this is upper gaussian level versus net_doping, net_doping=donor-acceptor
intern_func1 variation=table
table(net_doping)
-1.e25    1.2
0.       0.7
1.e25    0.5
end_table

$ this is lower gaussian level versus net_doping, net_doping=donor-acceptor
intern_func2 variation=table
table(net_doping)
-1.e25    1.4
0.       0.9
1.e25    0.7
end_table

trap_conc_4 variation=table
table(doping_n)
0.     1.e22
1.e25  1.e23 
1.e26  1.e23 
end_table
trap_level_4 variation=function
function(net_doping)
intern_func1(net_doping)
end_function
traplevel_stddev_4 value=0.1 
trap_ncap_4 value=2.e-21 
trap_pcap_4 value=5.e-20 

trap_conc_5 variation=table
table(doping_p)
0.     1.e22
1.e25  1.e23 
1.e26  1.e23 
end_table
trap_level_5 variation=function
function(net_doping)
intern_func2(net_doping)
end_function

traplevel_stddev_5 value=0.1 
trap_ncap_5 value=5.e-20 
trap_pcap_5 value=2.e-21 

end_macro a-si


$ ****************************************
$ macro for a-igzo
$ Bulk amorphous IGZO
$
$ macro format is from macro a-si.
$ The detailed figures are based on
$
$ "Two-dimensional numerical simulation of radio frequency sputter amorphous
$ InGaZnO thin-film transistors,"
$ Tze-Ching Fung, Chiao-Shun Chuang, Charlene Chen, Katsumi Abe,
$ Robert Cottle, Mark Townsend, Hideya Kumomi, and Jerzy Kanicki,
$ Journal of Applied Physics 106, 084511 (2009); doi: 10.1063/1.3234400
$
$ [free-style]
$ Typical use:
$   load_macro name=a-igzo mater=#m
$ parameter_range net_doping=[-1.e26 1.e26]
$ ***************************************
begin_macro a-igzo
$
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta  &&
  traplevel2_model=expo_tail traplevel2_tail_side=conduction &&
  traplevel2_charge_type=acceptor &&
  traplevel3_model=expo_tail traplevel3_tail_side=valence &&
  traplevel3_charge_type=donor &&
  traplevel4_model=gaussian traplevel4_charge_type=donnor


dielectric_constant value=10.

electron_mass value=0.34
hole_mass value=0.34
band_gap value=3.05
affinity value=4.16

electron_mobility value=15.e-4
hole_mobility value=1.e-5

tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5
radiative_recomb value=2.e-21
auger_n value=0.
auger_p value=0.
lifetime_n value=1.e-7
lifetime_p value=1.e-7

real_index value=2.0


absorption  value=0.0

$ these are taken from silicon
$ thermal conductivity
$ in2o3 2.5 http://www.cnki.net/KCMS/detail/detail.aspx?QueryID=0&CurRec=2&recid=&filename=GNCL201214004&dbname=CJFD2012&dbcode=CJFQ&pr=&urlid=&yx=&v=MjY5NjIxTHV4WVM3RGgxVDNxVHJXTTFGckNVUkwrZVp1ZHZGeS9uVjc3S0lpUElZckc0SDlQTnE0OUZZSVI4ZVg=
$ ga2o3 13 http://adsabs.harvard.edu/abs/2008ApPhL..92t2118V
$ zno 100 http://scitation.aip.org/content/aip/journal/jap/107/6/10.1063/1.3330755
thermal_kappa value=53.875
$ specific heat (J/kg/K)
spec_heat value=712
$ mass density  (Kg/m^3)
$ in2o3 7180 ga2o3 5880 zno 5600 1:1:2
$http://www.guidechem.com/dictionary/cn/keys-zno-p1.html
mass_density value=6065

$ given g*exp(-E/Ea), trap_conc is Ea*g
trap_conc_2 value=2.0e23
traplevel_tail_2 value=0.013
trap_ncap_2 value=2.e-21
trap_pcap_2 value=5.e-20

trap_conc_3 value=1.9e23
traplevel_tail_3 value=0.12
trap_ncap_3 value=5.e-20
trap_pcap_3 value=2.e-21


$ t/sqrt(2*pi) exp(-0.5*(x/sig)**2)
$ conc=sig*t
$ this compares with g*exp(-(x/sig_r)**2) from the Fung ref.
$ sig=sig_r*sqrt(2)
$ t=sqrt(2*pi)*g
trap_conc_4 value=2.3e22
traplevel_stddev_4 value=0.1414
trap_ncap_4 value=2.e-21
trap_pcap_4 value=5.e-20
trap_level_4 value=0.15


end_macro a-igzo



$ ****************************************
$ macro for a-SiGe
$ Bulk amorphous Si1-xGex:H with bandgap 1.25-1.75 eV
$ [free-style]
$ Typical use:
$   load_macro name=a-sige var1=#h var2=#x mater=#m
$ paremeter range h=[0 0.2] 
$ paremeter range x=[0 0.6]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range wavelength=[0.1  5]
$ h - H fraction ratio; x - Ge concentration ratio
$ bandgap Eg=1.62+1.3*h-0.7*x, please check page 519,
$ chap 12, Xunming Deng & Eric A. Schiff,
$ "Amorphous Silicon-based Solar Cells"
$ in Handbook of Photovoltaic Science and Engineering)
$ 2003 John Wiley & Sons Ltd
$
$ real_index & absorption coefficients are calculated based
$ on the bandgap value determined by the above formula.
$ ***************************************
begin_macro a-sige
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta &&
  traplevel2_model=expo_tail traplevel2_tail_side=conduction &&
  traplevel2_charge_type=acceptor &&
  traplevel3_model=expo_tail traplevel3_tail_side=valence &&
  traplevel3_charge_type=donor &&
  traplevel4_model=gaussian traplevel4_charge_type=acceptor &&
  traplevel5_model=gaussian traplevel5_charge_type=donor 
$
$ this is a reference wavelength dependent refractive idnex
intern_func1 variation=table
table(lambda)
  -10     1.1
  0.20748 1.11697
  0.21078 1.15596
  0.21388 1.18716
  0.21739 1.23394
  0.22068 1.28073
  0.22373 1.31193
  0.22651 1.35872
  0.23045 1.4211
  0.23529 1.48349
  0.23915 1.53807
  0.24314 1.60046
  0.24727 1.67064
  0.25153 1.74862
  0.25595 1.80321
  0.26099 1.89679
  0.26575 1.98257
  0.26919 2.04495
  0.27221 2.10734
  0.27634 2.18532
  0.28005 2.23991
  0.28387 2.31789
  0.28837 2.39587
  0.29183 2.48165
  0.29598 2.57523
  0.30149 2.65321
  0.30465 2.74679
  0.30851 2.83257
  0.31316 2.90275
  0.31656 2.98853
  0.31933 3.06651
  0.32287 3.1367
  0.32722 3.20688
  0.33169 3.28486
  0.33551 3.37064
  0.33941 3.44862
  0.34504 3.5422
  0.35001 3.65138
  0.35427 3.72936
  0.35863 3.79954
  0.36491 3.87752
  0.36675 3.92431
  0.37333 4.00229
  0.37817 4.06468
  0.38517 4.13486
  0.39243 4.20505
  0.40107 4.27523
  0.40667 4.32982
  0.41242 4.37661
  0.42443 4.4156
  0.43586 4.44679
  0.45208 4.49358
  0.47261 4.49358
  0.4901 4.49358
  0.50539 4.46239
  0.51982 4.45459
  0.53313 4.43119
  0.5492 4.3844
  0.56849 4.34541
  0.58211 4.29862
  0.60133 4.25963
  0.61921 4.22844
  0.64384 4.18945
  0.65838 4.13486
  0.68307 4.10367
  0.69947 4.06468
  0.71666 4.02569
  0.73846 3.9867
  0.76161 3.94771
  0.79053 3.90872
  0.81713 3.86193
  0.84558 3.81514
  0.88138 3.76835
  0.93212 3.70596
  0.98239 3.65917
  1.03105 3.60459
  1.09291 3.58119
  1.17203 3.55
  1.25262 3.51881
  1.35766 3.49541
  1.49714 3.47982
  1.63122 3.46422
  1.81397 3.45642
  1.96038 3.43303
  2.10176 3.43303
  9.0     3.4
end_table
$
$ this is a reference absorption
$ handling of arguement of this function may drive lambda to negative value
$ let us just it it return a small number in such a case
intern_func2 variation=table
table(lambda)
  -10.      0.1
  0.      0.1
  0.20748 1.38169E8
  0.21078 1.38938E8
  0.21388 1.39098E8
  0.21739 1.39543E8
  0.22068 1.39834E8
  0.22373 1.39747E8
  0.22651 1.39739E8
  0.23045 1.40114E8
  0.23529 1.40096E8
  0.23915 1.40354E8
  0.24314 1.39983E8
  0.24727 1.39323E8
  0.25153 1.393E8
  0.25595 1.39379E8
  0.26099 1.38582E8
  0.26575 1.3763E8
  0.26919 1.36775E8
  0.27221 1.35993E8
  0.27634 1.34957E8
  0.28005 1.34287E8
  0.28387 1.32934E8
  0.28837 1.31146E8
  0.29183 1.30202E8
  0.29598 1.29048E8
  0.30149 1.27403E8
  0.30465 1.26404E8
  0.30851 1.24822E8
  0.31316 1.22969E8
  0.31656 1.21226E8
  0.31933 1.19834E8
  0.32287 1.17643E8
  0.32722 1.15044E8
  0.33169 1.12604E8
  0.33551 1.10406E8
  0.33941 1.08104E8
  0.34504 1.04307E8
  0.35001 1.01249E8
  0.35427 9.85797E7
  0.35863 9.47448E7
  0.36491 8.96379E7
  0.36675 8.83148E7
  0.37333 8.20922E7
  0.37817 7.52626E7
  0.38517 6.84265E7
  0.39243 6.3332E7
  0.40107 5.93574E7
  0.40667 5.53777E7
  0.41242 5.08795E7
  0.42443 4.18682E7
  0.43586 3.73935E7
  0.45208 2.95435E7
  0.47261 2.39576E7
  0.4901 1.82823E7
  0.50539 1.52439E7
  0.51982 1.23085E7
  0.53313 1.0579E7
  0.5492 7.8084E6
  0.56849 5.866E6
  0.58211 4.75834E6
  0.60133 3.33146E6
  0.61921 2.54061E6
  0.64384 1.63617E6
  0.65838 1.18892E6
  0.68307 681066.13301
  0.69947 443990.08982
  0.71666 275807.51852
  0.73846 163190.6084
  0.76161 39996.2069
  0.79053 11680.17723
  0.81713 5426.47058
  0.84558 1993.10089
  0.88138 423.68907
  0.93212 146.89167
  0.98239 91.70116
  1.03105 74.11861
  1.09291 58.33656
  1.17203 47.88394
  1.25262 34.89515
  1.35766 20.06171
  1.49714 8.89485
  1.63122 0.1
  1.81397 0.1
  1.96038 0.1
  2.10176 0.1
  9.0     0.1
end_table
$
$ this is just the bandgap
intern_func3 variation=function
function(h,x)
1.62 + 1.3 * h - 0.7 * x
end_function
$
dielectric_constant value=11.9
electron_mass value=0.33
hole_mass value=0.55
$
$band_gap value=intern_func3
band_gap variation=function
function(h,x)
eg=intern_func3(h,x);
eg
end_function
$
affinity value=4.0
max_electron_mob value=0.002
min_electron_mob value=0.0005
electron_ref_dens value=1.07e23
alpha_n value=0.73 
max_hole_mob value=0.0005
min_hole_mob value=0.00005
hole_ref_dens value=1.6e23
alpha_p value=0.7
$
norm_field value=4.e5
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5
radiative_recomb value=2.e-21
auger_n value=0.d-44
auger_p value=0.d-44
lifetime_n value=1.7e-6
lifetime_p value=3.4e-7
$
real_index variation=function
function(h,x,wavelength)
eghx=intern_func3(h,x);
debgap=1.75 - eghx;
phe=(1.243125/wavelength) + debgap;
lambda=1.243125/phe;
intern_func1(lambda)
end_function
$
absorption variation=function
function(h,x,wavelength)
eghx=intern_func3(h,x);
debgap=1.75 - eghx;
phe=(1.243125/wavelength) + debgap;
lambda=1.243125/phe;
intern_func2(lambda)
end_function
$

$ these are taken from silicon
thermal_kappa value=150.
$ specific heat (J/kg/K)
spec_heat value=712
$ mass density  (Kg/m^3)
mass_density value=2330


$ Trap states are modified from those of a-si17 based on the following ref:
$ "Urbach tail and gap states in hydrogenated a-SiC and a-SiGe alloys," 
$ A. Skumanich, a, A. Frova, a and N.M. Amera,
$ Solid State Communications,
$ Volume 54, Issue 7, May 1985, Pages 597-601 



trap_conc_2 value=1.e23 
traplevel_tail_2 value=0.05 
trap_ncap_2 value=2.e-21 
trap_pcap_2 value=5.e-20 

trap_conc_3 value=1.e23  
traplevel_tail_3 value=0.05 
trap_ncap_3 value=5.e-20 
trap_pcap_3 value=2.e-21 

$ this is upper gaussian level versus net_doping, net_doping=donor-acceptor
$ from a-Si
intern_func4 variation=table
table(net_doping)
-1.e25    1.2
0.       0.7
1.e25    0.5
end_table

$ this is lower gaussian level versus net_doping, net_doping=donor-acceptor
$ from a-Si
intern_func5 variation=table
table(net_doping)
-1.e25    1.4
0.       0.9
1.e25    0.7
end_table

trap_conc_4 variation=table
table(doping_n)
0.     1.e22
1.e25  1.e23 
1.e26  1.e23 
end_table
trap_level_4 variation=function
function(h,x,net_doping)
eg=intern_func3(h,x);
level=intern_func4(net_doping);
level*eg/1.7
end_function
traplevel_stddev_4 value=0.1 
trap_ncap_4 value=2.e-21 
trap_pcap_4 value=5.e-20 

trap_conc_5 variation=table
table(doping_p)
0.     1.e22
1.e25  1.e23 
1.e26  1.e23 
end_table
trap_level_5 variation=function
function(h,x,net_doping)
eg=intern_func3(h,x);
level=intern_func5(net_doping);
level*eg/1.7
end_function

traplevel_stddev_5 value=0.1 
trap_ncap_5 value=5.e-20 
trap_pcap_5 value=2.e-21 

end_macro a-sige


$ ***********************************
$ macro for a-SiC bandgap=1.75 eV
$ [free-style]
$ Bulk silicon carbide at 300K
$ Typical use:
$   load_macro name=a-sic mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range wavelength=[0.1  5]
$ ***************************************
begin_macro a-sic 
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta  &&
  traplevel2_model=expo_tail traplevel2_tail_side=conduction &&
  traplevel2_charge_type=acceptor &&
  traplevel3_model=expo_tail traplevel3_tail_side=valence &&
  traplevel3_charge_type=donor &&
  traplevel4_model=gaussian traplevel4_charge_type=acceptor &&
  traplevel5_model=gaussian traplevel5_charge_type=donor 

dielectric_constant value=10.
electron_mass value=0.6
hole_mass value=1.
band_gap value=1.75
$affinity value=4.17
affinity value=4.05

electron_mobility variation=function 
function(total_doping)
mu_max=0.04;
mu_min=0.0;
ref_dens=1.0d24;
alpha=1.;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.005;
mu_min=0.0;
ref_dens=1.d24;
alpha=0.7;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5
tau_energy value=1.d-13
beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
radiative_recomb value=2.d-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-7
lifetime_p value=1.e-7

$real_index value=3.4
real_index variation=table
table(wavelength)
0.1    3.39249  
0.3439 3.39249  
0.35109 3.43791 
0.35606 3.46462 
0.36065 3.48294 
0.36589 3.49723 
0.37074 3.5001  
0.37572 3.50205 
0.38257 3.50094 
0.38968 3.49012 
0.39581 3.47922 
0.40277 3.47002 
0.40866 3.46227 
0.4154 3.4495   
0.42166 3.43141 
0.42885 3.40151 
0.43552 3.38393 
0.44241 3.36642 
0.45033 3.34588 
0.4577 3.32545  
0.4636 3.30359  
0.47053 3.28791 
0.47949 3.25509 
0.48691 3.23329 
0.49359 3.21696 
0.50246 3.19643 
0.51061 3.17745 
0.51797 3.16402 
0.52774 3.14728 
0.53674 3.13518 
0.54725 3.10836 
0.55448 3.09516 
0.5619 3.08258  
0.57212 3.06284 
0.58407 3.04527 
0.59511 3.0268  
0.60368 3.00952 
0.61398 2.99494 
0.6231 2.98234  
0.63409 2.96708 
0.64054 2.95808 
0.6488 2.94605  
0.65385 2.93719 
0.66072 2.92978 
0.6642 2.92651  
0.67129 2.92231 
0.67489 2.91658 
0.68406 2.90275 
0.68779 2.89873 
0.69348 2.89426 
0.70121 2.88786 
0.70711 2.88029 
0.70911 2.87831 
0.71515 2.87235 
0.71924 2.86831 
0.7213 2.86627  
0.72755 2.86037 
0.72966 2.86037 
0.73391 2.86037 
0.73606 2.85963 
0.74039 2.85642 
0.74257 2.85475 
0.74698 2.85101 
0.75144 2.8501  
0.76052 2.8501  
0.77219 2.8501  
0.78667 2.8501  
0.79662 2.8501  
0.8017 2.8501   
0.80684 2.8501  
0.81204 2.8501  
0.81467 2.8501  
0.81467 2.8501  
0.81998 2.8501  
0.82807 2.8501  
0.83911 2.8501  
0.84759 2.8501  
0.85916 2.8501  
0.88638 2.8501  
0.91208 2.8501  
0.9221 2.8501   
0.93234 2.8501  
0.9393 2.8501   
0.95353 2.8501  
0.97194 2.8501  
0.99107 2.8501  
1.01098 2.8501  
1.0233 2.8501   
1.03594 2.8501  
1.05328 2.8501  
1.06216 2.8501  
1.0804 2.8501   
1.11881 2.8501  
1.15474 2.8501  
1.17632 2.8501  
1.19873 2.8501  
1.2161 2.8501   
1.2524 2.8501   
1.27783 2.8501  
1.29759 2.8501  
1.32491 2.8501  
1.339 2.8501    
1.36811 2.8501  
1.39852 2.8501 
5.      2.8501 

end_table


$absorption value=0.
absorption variation=table
table(wavelength)
  0.1    0.105657634869E+009
  0.343900000000E+000  0.105657634869E+009
  0.351090000000E+000  0.100000520834E+009
  0.356060000000E+000  0.946441182641E+008
  0.360650000000E+000  0.920751023870E+008
  0.365890000000E+000  0.824773466768E+008
  0.370740000000E+000  0.780603662876E+008
  0.375720000000E+000  0.738801049749E+008
  0.382570000000E+000  0.680256594903E+008
  0.389680000000E+000  0.661785425153E+008
  0.395810000000E+000  0.592795143031E+008
  0.402770000000E+000  0.545826081170E+008
  0.408660000000E+000  0.516587733411E+008
  0.415400000000E+000  0.488926805834E+008
  0.421660000000E+000  0.450182195583E+008
  0.428850000000E+000  0.414501229247E+008
  0.435520000000E+000  0.381659649762E+008
  0.442410000000E+000  0.341874814571E+008
  0.450330000000E+000  0.306232905638E+008
  0.457700000000E+000  0.281964976125E+008
  0.463600000000E+000  0.266864607361E+008
  0.470530000000E+000  0.245718975356E+008
  0.479490000000E+000  0.220106078552E+008
  0.486910000000E+000  0.197160731288E+008
  0.493590000000E+000  0.176609965663E+008
  0.502460000000E+000  0.158198816465E+008
  0.510610000000E+000  0.145662203551E+008
  0.517970000000E+000  0.130477050410E+008
  0.527740000000E+000  0.116877199992E+008
  0.536740000000E+000  0.101853297166E+008
  0.547250000000E+000  0.887579576714E+007
  0.554480000000E+000  0.773477244801E+007
  0.561900000000E+000  0.655736879843E+007
  0.572120000000E+000  0.587376569547E+007
  0.584070000000E+000  0.471311511768E+007
  0.595110000000E+000  0.410728226412E+007
  0.603680000000E+000  0.348193879649E+007
  0.613980000000E+000  0.287193902832E+007
  0.623100000000E+000  0.243482253935E+007
  0.634090000000E+000  0.200815394400E+007
  0.640540000000E+000  0.161125927898E+007
  0.648800000000E+000  0.132888207129E+007
  0.653850000000E+000  0.115813947117E+007
  0.660720000000E+000  0.955144588106E+006
  0.664200000000E+000  0.832460564637E+006
  0.671290000000E+000  0.725389714291E+006
  0.674890000000E+000  0.598256734934E+006
  0.684060000000E+000  0.480015297128E+006
  0.687790000000E+000  0.385145309689E+006
  0.693480000000E+000  0.317656568134E+006
  0.701210000000E+000  0.262004732365E+006
  0.707110000000E+000  0.210236263619E+006
  0.709110000000E+000  0.164099493575E+006
  0.715150000000E+000  0.124583049229E+006
  0.719240000000E+000  0.973175634308E+005
  0.721300000000E+000  0.759592068191E+005
  0.727550000000E+000  0.592435588032E+005
  0.729660000000E+000  0.463277923315E+005
  0.733910000000E+000  0.371558150634E+005
  0.736060000000E+000  0.298768423432E+005
  0.740390000000E+000  0.239314179909E+005
  0.742570000000E+000  0.197996870582E+005
  0.746980000000E+000  0.158199196743E+005
  0.751440000000E+000  0.123490712694E+005
  0.760520000000E+000  0.990871508610E+004
  0.772190000000E+000  0.863481299677E+004
  0.786670000000E+000  0.795051730867E+004
  0.796620000000E+000  0.712182672635E+004
  0.801700000000E+000  0.620622275296E+004
  0.806840000000E+000  0.555926866180E+004
  0.812040000000E+000  0.471311630837E+004
  0.814670000000E+000  0.388723453596E+004
  0.814670000000E+000  0.295202582080E+004
  0.819980000000E+000  0.250266907340E+004
  0.828070000000E+000  0.195360193543E+004
  0.839110000000E+000  0.170245261222E+004
  0.847590000000E+000  0.148357866645E+004
  0.859160000000E+000  0.129286066759E+004
  0.886380000000E+000  0.122363258165E+004
  0.912080000000E+000  0.132893557670E+004
  0.922100000000E+000  0.156753242292E+004
  0.932340000000E+000  0.184898197398E+004
  0.939300000000E+000  0.212175401638E+004
  0.953530000000E+000  0.243475489839E+004
  0.971940000000E+000  0.224180048891E+004
  0.991070000000E+000  0.195360928331E+004
  0.101098000000E+001  0.190056753452E+004
  0.102330000000E+001  0.174997118309E+004
  0.103594000000E+001  0.152498585647E+004
  0.105328000000E+001  0.136601774444E+004
  0.106216000000E+001  0.122362868792E+004
  0.108040000000E+001  0.109607387822E+004
  0.111881000000E+001  0.109607806456E+004
  0.115474000000E+001  0.129286465187E+004
  0.117632000000E+001  0.144331868420E+004
  0.119873000000E+001  0.170245058334E+004
  0.121610000000E+001  0.190056926373E+004
  0.125240000000E+001  0.165624443615E+004
  0.127783000000E+001  0.144331871187E+004
  0.129759000000E+001  0.125777013534E+004
  0.132491000000E+001  0.112665876638E+004
  0.133900000000E+001  0.955175555182E+003
  0.136811000000E+001  0.832376123259E+003
  0.139852000000E+001  0.705674510339E+003
  5                    0.1 
end_table

$ these are taken from silicon
thermal_kappa value=150.
$ specific heat (J/kg/K)
spec_heat value=712
$ mass density  (Kg/m^3)
mass_density value=2330




$ Trap states are modified from those of a-si17 based on the following ref:
$ "Urbach tail and gap states in hydrogenated a-SiC and a-SiGe alloys," 
$ A. Skumanich, a, A. Frova, a and N.M. Amera,
$ Solid State Communications,
$ Volume 54, Issue 7, May 1985, Pages 597-601 



trap_conc_2 value=1.e23 
traplevel_tail_2 value=0.05 
trap_ncap_2 value=2.e-21 
trap_pcap_2 value=5.e-20 

trap_conc_3 value=1.e23  
traplevel_tail_3 value=0.05 
trap_ncap_3 value=5.e-20 
trap_pcap_3 value=2.e-21 

$ this is upper gaussian level versus net_doping, net_doping=donor-acceptor
$ from a-Si
intern_func1 variation=table
table(net_doping)
-1.e25    1.2
0.       0.7
1.e25    0.5
end_table

$ this is lower gaussian level versus net_doping, net_doping=donor-acceptor
$ from a-Si
intern_func2 variation=table
table(net_doping)
-1.e25    1.4
0.       0.9
1.e25    0.7
end_table

trap_conc_4 variation=table
table(doping_n)
0.     6.e23
1.e25  7.5e23 
1.e26  7.5e23 
end_table
trap_level_4 variation=function
function(net_doping)
level=intern_func1(net_doping);
level*1.75/1.7
end_function
traplevel_stddev_4 value=0.1 
trap_ncap_4 value=2.e-21 
trap_pcap_4 value=5.e-20 

trap_conc_5 variation=table
table(doping_p)
0.     6.e23
1.e25  7.5e23 
1.e26  7.5e23 
end_table
trap_level_5 variation=function
function(net_doping)
level=intern_func2(net_doping);
level*1.75/1.7
end_function

traplevel_stddev_5 value=0.1 
trap_ncap_5 value=5.e-20 
trap_pcap_5 value=2.e-21 



end_macro a-sic

$ ****************************************
$ macro for a-silicon17 for bandgap 1.7 eV
$ Bulk amorphous silicon with bandgap of 1.7 eV
$ [free-style]
$ Typical use:
$   load_macro name=a-si17 mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range wavelength=[0.1  5]
$ ***************************************
begin_macro a-si17
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta  &&
  traplevel2_model=expo_tail traplevel2_tail_side=conduction &&
  traplevel2_charge_type=acceptor &&
  traplevel3_model=expo_tail traplevel3_tail_side=valence &&
  traplevel3_charge_type=donor &&
  traplevel4_model=gaussian traplevel4_charge_type=acceptor &&
  traplevel5_model=gaussian traplevel5_charge_type=donor 


dielectric_constant value=11.9
electron_mass value=0.33
hole_mass value=0.55
band_gap value=1.7
$affinity value=3.86
affinity value=4.0
max_electron_mob value=0.002
min_electron_mob value=0.0005
electron_ref_dens value=1.07d23
alpha_n value=0.73 
max_hole_mob value=0.0005
min_hole_mob value=0.00005
hole_ref_dens value=1.6d23
alpha_p value=0.7
norm_field value=4.e5
tau_energy value=1.d-13
beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
radiative_recomb value=2.d-21
auger_n value=0.d-44
auger_p value=0.d-44
lifetime_n value=1.7e-6
lifetime_p value=3.4e-7

$real_index value=3.4
real_index variation=table
table(wavelength)
  0.1       1.1169700    
  0.20748000       1.1169700    
  0.21078000       1.1559600    
  0.21388000       1.1871600    
  0.21739000       1.2339400    
  0.22068000       1.2807300    
  0.22373000       1.3119300    
  0.22651000       1.3587200    
  0.23045000       1.4211000    
  0.23529000       1.4834900    
  0.23915000       1.5380700    
  0.24314000       1.6004600    
  0.24727000       1.6706400    
  0.25153000       1.7486200    
  0.25595000       1.8032100    
  0.26099000       1.8967900    
  0.26575000       1.9825700    
  0.26919000       2.0449500    
  0.27221000       2.1073400    
  0.27634000       2.1853200    
  0.28005000       2.2399100    
  0.28387000       2.3178900    
  0.28837000       2.3958700    
  0.29183000       2.4816500    
  0.29598000       2.5752300    
  0.30149000       2.6532100    
  0.30465000       2.7467900    
  0.30851000       2.8325700    
  0.31316000       2.9027500    
  0.31656000       2.9885300    
  0.31933000       3.0665100    
  0.32287000       3.1367000    
  0.32722000       3.2068800    
  0.33169000       3.2848600    
  0.33551000       3.3706400    
  0.33941000       3.4486200    
  0.34504000       3.5422000    
  0.35001000       3.6513800    
  0.35427000       3.7293600    
  0.35863000       3.7995400    
  0.36491000       3.8775200    
  0.36675000       3.9243100    
  0.37333000       4.0022900    
  0.37817000       4.0646800    
  0.38517000       4.1348600    
  0.39243000       4.2050500    
  0.40107000       4.2752300    
  0.40667000       4.3298200    
  0.41242000       4.3766100    
  0.42443000       4.4156000    
  0.43586000       4.4467900    
  0.45208000       4.4935800    
  0.47261000       4.4935800    
  0.49010000       4.4935800    
  0.50539000       4.4623900    
  0.51982000       4.4545900    
  0.53313000       4.4311900    
  0.54920000       4.3844000    
  0.56849000       4.3454100    
  0.58211000       4.2986200    
  0.60133000       4.2596300    
  0.61921000       4.2284400    
  0.64384000       4.1894500    
  0.65838000       4.1348600    
  0.68307000       4.1036700    
  0.69947000       4.0646800    
  0.71666000       4.0256900    
  0.73846000       3.9867000    
  0.76161000       3.9477100    
  0.79053000       3.9087200    
  0.81713000       3.8619300    
  0.84558000       3.8151400    
  0.88138000       3.7683500    
  0.93212000       3.7059600    
  0.98239000       3.6591700    
   1.0310500       3.6045900    
   1.0929100       3.5811900    
   1.1720300       3.5500000    
   1.2526200       3.5188100    
   1.3576600       3.4954100    
   1.4971400       3.4798200    
   1.6312200       3.4642200    
   1.8139700       3.4564200    
   1.9603800       3.4330300    
   2.1017600       3.4330300    
   5.       3.4330300    

end_table


$absorption value=0.
absorption variation=table
table(wavelength)
  0.1      0.13816890E+09
  0.20748000      0.13816890E+09
  0.21078000      0.13893834E+09
  0.21388000      0.13909847E+09
  0.21739000      0.13954342E+09
  0.22068000      0.13983419E+09
  0.22373000      0.13974716E+09
  0.22651000      0.13973908E+09
  0.23045000      0.14011408E+09
  0.23529000      0.14009615E+09
  0.23915000      0.14035399E+09
  0.24314000      0.13998319E+09
  0.24727000      0.13932272E+09
  0.25153000      0.13929971E+09
  0.25595000      0.13937895E+09
  0.26099000      0.13858156E+09
  0.26575000      0.13763048E+09
  0.26919000      0.13677546E+09
  0.27221000      0.13599296E+09
  0.27634000      0.13495684E+09
  0.28005000      0.13428718E+09
  0.28387000      0.13293385E+09
  0.28837000      0.13114572E+09
  0.29183000      0.13020229E+09
  0.29598000      0.12904836E+09
  0.30149000      0.12740263E+09
  0.30465000      0.12640371E+09
  0.30851000      0.12482217E+09
  0.31316000      0.12296873E+09
  0.31656000      0.12122602E+09
  0.31933000      0.11983366E+09
  0.32287000      0.11764329E+09
  0.32722000      0.11504362E+09
  0.33169000      0.11260368E+09
  0.33551000      0.11040585E+09
  0.33941000      0.10810352E+09
  0.34504000      0.10430699E+09
  0.35001000      0.10124938E+09
  0.35427000       98579696.    
  0.35863000       94744821.    
  0.36491000       89637883.    
  0.36675000       88314774.    
  0.37333000       82092232.    
  0.37817000       75262648.    
  0.38517000       68426477.    
  0.39243000       63332036.    
  0.40107000       59357435.    
  0.40667000       55377687.    
  0.41242000       50879450.    
  0.42443000       41868164.    
  0.43586000       37393501.    
  0.45208000       29543535.    
  0.47261000       23957627.    
  0.49010000       18282339.    
  0.50539000       15243851.    
  0.51982000       12308453.    
  0.53313000       10579035.    
  0.54920000       7808402.2    
  0.56849000       5866001.0    
  0.58211000       4758343.6    
  0.60133000       3331458.1    
  0.61921000       2540610.4    
  0.64384000       1636167.5    
  0.65838000       1188919.0    
  0.68307000       681066.12    
  0.69947000       443990.08    
  0.71666000       275807.51    
  0.73846000       163190.61    
  0.76161000       39996.206    
  0.79053000       11680.177    
  0.81713000       5426.4705    
  0.84558000       1993.1009    
  0.88138000       423.68906    
  0.93212000       146.89167    
  0.98239000       91.701158    
   1.0310500       74.118612    
   1.0929100       58.336562    
   1.1720300       47.883937    
   1.2526200       34.895148    
   1.3576600       20.061709    
   1.4971400       8.8948490    
   1.6312200       0.0000000    
   1.8139700       0.0000000    
   1.9603800       0.0000000    
   2.1017600       0.0000000    
   5.       0.0000000    

end_table

$ these are taken from silicon
thermal_kappa value=150.
$ specific heat (J/kg/K)
spec_heat value=712
$ mass density  (Kg/m^3)
mass_density value=2330

$ a-Si trapping data are from various sources including
$ "Semiconductor for solar cells," H J Moeller, 1993 Artech House

trap_conc_2 value=1.e23 
traplevel_tail_2 value=0.05 
trap_ncap_2 value=2.e-21 
trap_pcap_2 value=5.e-20 

trap_conc_3 value=1.e23  
traplevel_tail_3 value=0.05 
trap_ncap_3 value=5.e-20 
trap_pcap_3 value=2.e-21 

$ this is upper gaussian level versus net_doping, net_doping=donor-acceptor
intern_func1 variation=table
table(net_doping)
-1.e25    1.2
0.       0.7
1.e25    0.5
end_table

$ this is lower gaussian level versus net_doping, net_doping=donor-acceptor
intern_func2 variation=table
table(net_doping)
-1.e25    1.4
0.       0.9
1.e25    0.7
end_table

trap_conc_4 variation=table
table(doping_n)
0.     6.e23
1.e25  7.5e23 
1.e26  7.5e23 
end_table
trap_level_4 variation=function
function(net_doping)
intern_func1(net_doping)
end_function
traplevel_stddev_4 value=0.1 
trap_ncap_4 value=2.e-21 
trap_pcap_4 value=5.e-20 

trap_conc_5 variation=table
table(doping_p)
0.     6.e23
1.e25  7.5e23 
1.e26  7.5e23 
end_table
trap_level_5 variation=function
function(net_doping)
intern_func2(net_doping)
end_function

traplevel_stddev_5 value=0.1 
trap_ncap_5 value=5.e-20 
trap_pcap_5 value=2.e-21 

end_macro a-si17

$
$ ********************************
$ macro for a-silicon11 for bandgap 1.1 eV
$ Bulk amorphase solicon with bandgap of 1.1 eV.
$ [free-style]
$ ********************************
begin_macro a-si11 
dielectric_constant value=11.9
electron_mass value=0.33
hole_mass value=0.55
band_gap value=1.1
affinity value=4.62
max_electron_mob value=0.008
min_electron_mob value=0.0008
electron_ref_dens value=1.07d23
alpha_n value=0.73 
max_hole_mob value=0.004
min_hole_mob value=0.0004
hole_ref_dens value=1.6d23
alpha_p value=0.7
norm_field value=4.e5
tau_energy value=1.d-13
beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
radiative_recomb value=2.d-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6
absorption value=0.
thermal_kappa value=150.
end_macro a-si11
$

$***********************************
$ macro sige
$ Bulk Si(1-x)Ge(x) on 001 silicon
$ [free-style]
$ Revised Dec 2001.
$ Typical use:
$   load_macro name=sige var1=#x mater=#m
$ parameter_range x=[0 1]
$***********************************
begin_macro sige
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
11.9 + 4.1 * x
end_function
electron_mass variation=function 
function(x)
0.321 * (1.0 - x) + 0.42*x - 0.183*(1-x)*x
end_function
hole_mass variation=function
function(x)
0.55 * (1.0 - x) + 0.2915*x - 0.096*(1-x)*x
end_function

$ Bandgap narrowing not included here but
$   may be included using a separate statement: "bandgap_narrow"
$band_gap variation=function 
$function(x)
$1.08 - 1.0512 * x + 0.5595 * x * x
$end_function
$
band_gap  variation=function  
function(temper,x) 
eg0=1.166;
alpha=4.73e-4;
beta=636;
egsi=eg0-alpha*temper**2/(temper+beta);
eg01=0.7437;
alpha1=4.774e-4;
beta1=235;
egge=eg01-alpha1*temper**2/(temper+beta1);
(egsi*(1-x))+(egge*x)-(0.4*(1-x)*x)
end_function

$ old version, with Slotboom model built in macro:
$band_gap variation=function 
$function(x)
$dop=1.e18 ;
$dop1=1.e17 ;
$acc=dlog( dop / dop1 ) ;
$deleg=0.009* ( acc+ dsqrt( acc*acc + 0.5 ) ) ;
$1.08 - 1.0512 * x + 0.5595 * x * x - deleg
$end_function

$ sep08 revised to 4.05
affinity variation=function 
function(x)
4.05 + 0.1 * x
end_function




$
$electron_mobility variation=function 
$function(x,doping_n,doping_p,trap_1)
$dum=(1.0-x)/0.143 + x/0.38 + (1.0-x)*x/100.0;
$mu_max=1.0/dum;
$mu_min=0.0055;
$ref_dens=1.07e23;
$alpha=0.73;
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$
$hole_mobility variation=function 
$function(x,doping_n,doping_p,trap_1)
$dum=(1.0-x)/0.046 + x/0.18 - (1.0-x)*x/0.01;
$mu_max=1.0/dum;
$mu_min=0.0049;
$ref_dens=1.6e23;
$alpha=0.7;
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function
$
$ The above functions of electron/hole mobilities are in theory 
$ equivalent to the following 8 statements.
$ But a rough mesh may result in some difference.  
$

max_electron_mob variation=function 
function(x) 
dum=(1.0-x)/0.143 + x/0.38 + (1.0-x)*x/100.0;
1.0/dum
end_function
min_electron_mob value=0.0055
electron_ref_dens value=1.07e23
alpha_n value=0.73

$max_hole_mob variation=function
$function(x)
$dum=(1.0-x)/0.046 + x/0.18 - (1.0-x)*x/0.01;
$1.0/dum
$end_function

$ Formula fitted by Piotr Mensz, Nov2005
max_hole_mob variation=function
function(x)
for   0.<x<0.7 
1.7665*x**2 - 1.6314*x + 0.4895
for  0.7<x<1.
22.552*x**2 - 33.744*x + 12.856 
end_function

min_hole_mob value=0.0049
hole_ref_dens value=1.6e23
alpha_p value=0.7

beta_n value=2.
electron_sat_vel variation=function
function(x)
1.e5*(1.0-x) + 0.7e5*x - 2.28e5*(1.0-x)*x
end_function
beta_p value=1.
hole_sat_vel variation=function
function(x)
0.704e5*(1.0-x) + 0.63e5*x
end_function
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-21
auger_n value=0.d-44
auger_p value=0.d-44
real_index value=3.5 
lifetime_n value=1.e-6
lifetime_p value=1.e-6
absorption value=0.
thermal_kappa value=150.
end_macro sige
$**********************************************
$ macro zncdse_24  
$ Bulk macro of ZnCdSe at 2.4 eV bandgap
$ [free-style]
$ Typical use:
$   load_macro name=zncdse_24 mater=#m
$ Contributor: Peter Mensz
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ *********************************************
begin_macro zncdse_24   
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=9.2
electron_mass value=0.16
hole_mass value=0.782
band_gap value=2.40
affinity value=3.82

electron_mobility variation=function 
function(total_doping)
mu_max=0.0740;
mu_min=0.;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=8.935e-3;
mu_min=0.;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index  value=2.3930
absorption value=0.
thermal_kappa value=46.
end_macro zncdse_24   
$**********************************************
$ macro znmgsse_284 
$ Bulk macro of ZnMgSSe
$ [free-style]
$ The variable x is proportional to composition of Mg.
$ When x varies from 0 to 1, the bandgap varies from
$ 2.84 to 2.71 eV.
$ Typical use:
$   load_macro name=znmgsse_284 mater=#m var1=#x var_symbol1=x
$ Contributed: Peter Mensz
$ parameter_range x=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ *********************************************
begin_macro znmgsse_284 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta 
$
dielectric_constant variation=function 
function(x)
mat1=9.3;
mat2=9.2;
mat1 + (mat2 - mat1) * x
end_function
$
electron_mass variation=function 
function(x)
mat1=0.2;
mat2=0.18;
mat1 + (mat2 - mat1) * x
end_function
$
hole_mass variation=function 
function(x)
mat1=0.649;
mat2=0.647;
mat1 + (mat2 - mat1) * x
end_function
$
band_gap  variation=function 
function(x)
mat1=2.84;
mat2=2.71;
mat1 + (mat2 - mat1) * x
end_function
$
affinity variation=function 
function(x)
mat1=3.72;
mat2=3.82;
mat1 + (mat2 - mat1) * x
end_function
$

electron_mobility variation=function 
function(x,total_doping)
mat1=0.0195;
mat2=0.0585;
mu_max=mat1 + (mat2 - mat1) * x;
mu_min=0.;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

$
hole_mobility variation=function 
function(x,total_doping)
mat1=1.787e-3;
mat2=7.148e-3;
mu_max=mat1 + (mat2 - mat1) * x;
mu_min=0.;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
$
real_index  variation=function 
function(x)
mat1=2.2863;
mat2=2.4130;
mat1 + (mat2 - mat1) * x
end_function
$
absorption value=0.
thermal_kappa value=46.
end_macro znmgsse_284 

$ ***********************************************
$ acitve layer macro : ZnCdSe/ZnSSe
$ Quantum well ZnCdSe of 2.4 eV unstrained gap
$ Quantum barrier ZnSSe of 2.7 eV unstrained gap
$ Contributed: Peter Mensz
$ [free-style]
$ Typical use:
$   get_active_layer name=ZnCdSe_24/ZnSSe_27 mater=#m
$ **********************************************
$
begin_active_layer ZnCdSe_24/ZnSSe_27 
$
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well value=2.4 
eg0_bar value=2.71
lband_well value=0.3
lband_bar value=0.3
$
$  compressive strain is negative:
$  lattice.well=5.7464 lattice.bar=5.6653 &&
$
strain_well value=-0.0141
strain_bar value=0.
band_offset value=0.806
delta_so_well value=0.44
delta_so_bar value=0.44
$
mass_gamma_well value=0.16 
mass_l_well value=0.56
mass_gamma_bar value=0.18 
mass_l_bar  value=0.56
$
gamma1_well value=2.987
gamma2_well value=0.779
gamma3_well value=0.779
a_well value=-5.86 
b_well value=-1.12
c11_well value=8.1
c12_well value=4.91
$
gamma1_bar value=4.189
gamma2_bar value=1.261
gamma3_bar value=1.261
a_bar value=-5.86
b_bar value=-1.12
c11_bar value=8.1
c12_bar value=4.91
lattice_constant value=5.6653
end_active_layer ZnCdSe_24/ZnSSe_27


$ **********************************************************
$ macro ingaasp-gaas
$ [free-style]
$ For ingaasp    In(1-x)Ga(x)As(y)P(1-y)   matched to GaAs
$                relation between x and y:
$                x=(1.00+y)/2.08 
$ Or more axactly: x=(1+y)/(2.08-0.08y) such that if x=1,y=1.
$
$ Temperature version of ingaasp-gaas. Temperature dependent
$ functions are taken from ingaasp.temp (InGaAsP matched to InP).
$ renamed from ingaasp-gaas.temp
$
$   Modified/contributed  May 1996   Stefan Mohrdiek   
$   Refractive Index is for Lasers at 670 nm
$
$Universal refractive index formula for all wavelength (Stefan's fit):
$ 3.103+y*0.26695+(0.36085+y*0.31611)*exp((0.6767-lambda)/0.206)
$ Typical use:
$   load_macro name=ingaasp-gaas var1=#y mater=#m var_symbol1=y 
$
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************************
begin_macro ingaasp-gaas
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function
function(y) 
11.858+1.484*y-0.4038*y*y
end_function
electron_mass variation=function
function(y)
0.123-0.03*y-0.0236*y*y
end_function
hole_mass variation=function
function(y)
vmlh=0.160-0.0682*y-0.00524*y*y ;
vmhh=0.413-0.1286*y+0.1130*y*y ;
( vmlh**(3/2) +vmhh**(3/2)  ) ** (2 / 3)
end_function
band_gap variation=function
function(y,temper)
$$$1.926 - 0.259*y -0.241*y*y
$----------------------------------------------------------
shift=-4.1e-4 * temper**2 /(temper+136) +8.4633030E-02;
1.91 - 1.44*y +2.87*y*y-3.23*y*y*y+1.31*y*y*y*y+shift
$----------------------------------------------------------
end_function
affinity variation=function
function(y,temper)
$$$off=0.5 ;
$$$eg=1.926 - 0.259*y -0.241*y*y ;
$----------------------------------------------------------
off=0.2 ;
eg=1.91 - 1.44*y +2.87*y*y-3.23*y*y*y+1.31*y*y*y*y ;
$----------------------------------------------------------
eg0=1.426 ;
shift=-4.1e-4 * temper**2 /(temper+136) +8.4633030E-02;
4.07+off*(eg0-eg-shift)
end_function
$
$ mobility data of binaries from  L. Landolt-Bornstein, 
$ "Numerical data and functions
$ in science and technology.'', edited by O. Madelung, 
$ Springer, Berlin, 1982,
$ vols. 17a \& 22a.
$max_electron_mob variation=function
$function(y) 
$x=(1+y)/(2.08-0.08*y);
$GaAs=0.85 ;
$InAs=2.6 ;
$InP=0.45 ;
$GaP=0.018 ;
$term1=(1.-x)*y*InAs+(1.-x)*(1.-y)*InP ;
$term2=x*y*GaAs+x*(1.-y)*GaP ;
$term1+term2
$end_function
$

electron_mobility variation=function 
function(y,temper,total_doping)
fac= (300/temper) **1.25 ;
mu_max=(0.48+0.4*y)*fac;
mu_min=0.;
ref_dens=1.0d24;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
$
$ mobility data of binaries from  L. Landolt-Bornstein, 
$ "Numerical data and functions
$ in science and technology.'', edited by O. Madelung, 
$ Springer, Berlin, 1982,
$ vols. 17a \& 22a.
$max_hole_mob variation=function
$function(y) 
$x=(1+y)/(2.08-0.08*y);
$GaAs=0.04 ;
$InAs=0.027 ;
$InP=0.036 ;
$GaP=0.0135 ;
$term1=(1.-x)*y*InAs+(1.-x)*(1.-y)*InP ;
$term2=x*y*GaAs+x*(1.-y)*GaP ;
$term1+term2
$end_function
$
hole_mobility variation=function 
function(temper,total_doping)
mu_max=0.036 * (300/temper)**2.2;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field variation=function
function(y,temper)
4.e5 + 8.e5 * y
end_function
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel variation=function
function(y,temper) 
1.e5 * sqrt(temper/300)
end_function
beta_p value=1.
hole_sat_vel variation=function
function(y,temper) 
1.e5 * (300/temper)**2.2
end_function
radiative_recomb value=2.d-16
auger_n value=3.5d-41
auger_p value=3.5d-41
lifetime_n value=1.e-7
lifetime_p value=1.e-7
$ refractive index only for 808 nm / see formula above
real_index variation=function
function(y,temper)
3.2938+0.43407*y
end_function
$----------------------------------------------------------
absorption value=0.
thermal_kappa value=46.
end_macro ingaasp-gaas
$****************************************************************
$macro  for Al{0.26}Ga{0.26}In{0.48}P
$ [free-style]
$      Contributor:  Nicolas Cordero (10/3/'93)
$ Typical use:
$   load_macro name=lat_mat_algainp mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$****************************************************************
begin_macro lat_mat_algainp
material type=semicond band_valleys=(1 1) &&
el_vel_model=n.gaas hole_vel_model=beta
dielectric_constant value=11.0
electron_mass value=0.099
hole_mass value=0.645
band_gap value=2.2
affinity value=3.6825

electron_mobility variation=function 
function(total_doping)
mu_max=0.015;
mu_min=0.;
ref_dens=5.0d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.018;
mu_min=0.;
ref_dens=2.75d23;
alpha=0.397;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2
electron_sat_vel value=1.0e5
beta_p value=1
hole_sat_vel value=1.0d5
norm_field value=4.e5
tau_energy value=1.0e-13
radiative_recomb  value=2.0d-16
auger_n value=2d-42
auger_p value=2d-42
lifetime_n value=1.0e-7
lifetime_p value=1.0e-7
real_index value=3.465
end_macro lat_mat_algainp
$********************************************************
$ Macro for In{0.5}(Ga{1-x}Al{x}){0.5}P
$ [free-style]
$      Contributor:  Nicolas Cordero (10/3/'93)    
$
$   Modified/contributed  May 1996   Stefan Mohrdiek   
$   Refartive index is for Lasers at 670 nm
$ Typical use:
$   load_macro name=ingaalp var1=#x mater=#m var_symbol1=x
$ parameter_range x=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$********************************************************
begin_macro ingaalp
material type=semicond band_valleys=(1 1) &&
   el_vel_model=n.gaas hole_vel_model=beta
dielectric_constant variation=function
function(x)
$12-2*x
$Interp. from the data of AlP, GaP, InP, which from Adachi -82 and 
$InP and related book -92:
9.8*x*0.51 + 11.1*(1-x)*0.51 + 12.4*0.49
end_function
electron_mass variation=function
function(x)
for 0.<x<0.7
$0.099
$From the book: Quantum Well Lasers, Ed. P. Zory, Academic 
$Press, Inc.(1993), Ch. 9:
0.11
for 0.7<x<1.0
0.35
end_function
hole_mass variation=function
function(x)
$From the book: Quantum Well Lasers, Ed. P. Zory, Academic 
$Press, Inc.(1993), Ch. 9:
$0.62+0.05*x
((0.62+0.05*x)**(3/2) + (0.11+0.03*x)**(3/2))**(2/3)
end_function
band_gap variation=function
function(x)
for 0.<x<0.7
1.9+0.6*x
for 0.7<x<1.0
2.25+0.1*x
end_function
affinity variation=function
function(x)
for 0.<x<0.7
4.07+0.5*(1.425-(1.9+0.6*x))
for 0.7<x<1.0
4.07+0.5*(1.425-(2.25+0.1*x))
end_function

electron_mobility variation=function 
function(total_doping)
mu_max=0.015;
mu_min=0.;
ref_dens=5.0d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.018;
mu_min=0.;
ref_dens=2.75d23;
alpha=0.397;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2
electron_sat_vel value=1.0e5
beta_p value=1
hole_sat_vel value=1.0d5
norm_field value=4.e5
tau_energy value=1.0e-13
radiative_recomb  value=2.0d-16
auger_n value=2d-43
auger_p value=2d-43
lifetime_n value=1.0e-7
lifetime_p value=1.0e-7
real_index variation=function
function(x)
$the original
$3.65-0.37*x
$
$ From Y. Yaneko and K. Kishino, "Refractive indices measurement of
$ (GaInP)m/(AlInP)n quasi-quaternaries and GaInP/AlInP multiple quantum
$ wells," J. Appl. Phys., vol. 76, 3, pp. 1809-1818, 1994
$ wlength=wavelength given in micrometers
wlength=0.670;
$ oscillator energy Eo
Eo=4.17+0.49*x;
$ dispersion energy Ed
Ed=35.79-1.16*x;
$ photon energy Ep
Ep=1.239852066/wlength;
$ direct band gap energy Egamma
Egamma=-3.8324+1.374*Eo;
E1=Ed/Eo;
E2=Ed*Ep**2/Eo**3;
E3=Ed*Ep**4/(2*Eo**3*(Eo**2-Egamma**2));
E4=(2*Eo**2-Egamma**2-Ep**2)/(Egamma**2-Ep**2);
dsqrt(1+E1+E2+E3*dlog(E4))
$
$From Single Oscillator (for the wavelength 670 nm): J. Buus and J. Adams, 
$ Solid-State and Electron Devices, vol. 3, 189 (1979).
$dsqrt(1+(3.39+1.216*x*0.51)*(28.07+3.373*x*0.51)/((3.39+1.216*x
$*0.51)**2- 3.4225))
$
$From Moser et al. (for the wavelength 670 nm): M. Moser et al.,
$ Appl. Phys. Lett. vol. 64, 235 (1994):
$Eto=0.04 !
$Gto=4.4e-3 !
$A=0.72 + 0.35 *x !
$E1=3.35 + 0.38 *x !
$Eg=1.90 + 0.48 *x !
$G1=34.7 !
$G2=140 !
$E2=5.20 + 0.35 *x !
$dsqrt(1+ Gto/(Eto**2 - 1.85**2) + A/3.14159 * dlog((E1**2
$- 1.85**2) / (Eg**2 - 1.85**2)) + G1/(E1**2 - 1.85**2)
$+ G2/(E2**2 - 1.85**2))
$
end_function
thermal_kappa value=46.
end_macro ingaalp
$********************************************************
$ Macro for In{0.5}Al{0.5}P
$ [free-style]
$      Contributor:  Nicolas Cordero (10/3/'93)
$ Typical use:
$   load_macro name=inalp05 mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$********************************************************
begin_macro inalp05
material type=semicond band_valleys=(1 1) &&
   el_vel_model=n.gaas hole_vel_model=beta
dielectric_constant value=10.0
electron_mass value=0.23
hole_mass value=0.36
band_gap value=2.43
affinity value=3.57

electron_mobility variation=function 
function(total_doping)
mu_max=0.015;
mu_min=0.;
ref_dens=5.0d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.018;
mu_min=0.;
ref_dens=2.75d23;
alpha=0.397;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2
electron_sat_vel value=1.0e5
beta_p value=1
hole_sat_vel value=1.0d5
norm_field value=4.e5
tau_energy value=1.0e-13
radiative_recomb  value=2.0d-16
auger_n value=2d-42
auger_p value=2d-42
lifetime_n value=1.0e-7
lifetime_p value=1.0e-7
real_index value=3.28
thermal_kappa value=40
end_macro inalp05
$ **************************************************************
$  macro for bulk 
$  In(1-x-y)Ga(x)Al(y)As
$  lattice matched to InP with x=0.47-y
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law
$  and were given by 
$
$  D. Olego, T.Y. Chang, E.A. Silberg, E.A. Caridi, and A. Pinczuk,
$  "Compositional dependence of band-gap energy and conduction-band
$  effective mass of In(1-x-y)Ag(x)Al(y)As lattice matched to InP.",
$  Appl. Phys. Lett., vol. 41, pp. 476-478, 1982
$
$ Typical use:
$   load_macro name=ingaalas_yt var1=#y mater=#m var_symbol1=y 
$
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************************************
begin_macro ingaalas_yt
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
$
dielectric_constant variation=function 
function(y)
x=0.47-y;
dielga=12.85;
dielin=15.15;
dielal=10.279;
dielin+x*(dielga-dielin)+y*(dielal-dielin) 
end_function
$
electron_mass variation=function 
function(y)
x=0.47-y;
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
x*(emnga-emnin)+y*(emnal-emnin)+emnin
end_function
$
hole_mass  variation=function 
function(y)
x=0.47-y;
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
g1q=x*(g1ga-g1in)+y*(g1al-g1in)+g1in ;
g2q=x*(g2ga-g2in)+y*(g2al-g2in)+g2in ;
emvhh=1./(g1q-2.*g2q) ;
emvlh=1./(g1q+2.*g2q) ;
( emvhh**(3/2)+emvlh**(3/2) )**(2/3)
end_function
$
band_gap variation=function 
function(y,temper)
x=0.47-y;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*x+2.093*y ;
term2=0.436*x**2 +0.577*y**2+1.013*x*y ;
term1+term2+shift-shift0
end_function
$
affinity variation=function
function(y,temper)
x=0.47-y;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*x+2.093*y ;
term2=0.436*x**2 +0.577*y**2+1.013*x*y ;
eg=term1+term2+shift-shift0 ;
x_ref=0;
y_ref=0.48;
term3=0.36+0.629*x_ref+2.093*y_ref ;
term4=0.436*x_ref**2 +0.577*y_ref**2+1.013*x_ref*y_ref ;
eg_ref=term3+term4+shift-shift0 ;
offset=0.72;
4.07-offset*(eg-eg_ref)
end_function
$
electron_mobility variation=function 
function(total_doping)
mu_max=1.46;
mu_min=0.;
ref_dens=2.1d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.22;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n value=2.d-41
auger_p value=2.d-41
real_index variation=function 
function(y,temper)
x=0.47-y;
ind_gaas=3.65;
ind_inas=3.892;
ind_alas=2.92;
ind_inas+x*(ind_gaas-ind_inas)+y*(ind_alas-ind_inas) 
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=6.
end_macro ingaalas_yt
$
$ **************************************************************
$  macro for bulk 
$  In(1-x-y)Ga(x)Al(y)As with arbitrary x,y.
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law
$  and were given by 
$
$  D. Olego, T.Y. Chang, E.A. Silberg, E.A. Caridi, and A. Pinczuk,
$  "Compositional dependence of band-gap energy and conduction-band
$  effective mass of In(1-x-y)Ag(x)Al(y)As lattice matched to InP.",
$  Appl. Phys. Lett., vol. 41, pp. 476-478, 1982
$
$ Typical use:
$   load_macro name=ingaalas_xyt var1=#x var2=#y mater=#m &&
$     var_symbol1=x var_symbol2=y 
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************************************
begin_macro ingaalas_xyt
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
$
dielectric_constant variation=function 
function(x,y)
dielga=12.85;
dielin=15.15;
dielal=10.279;
dielin+x*(dielga-dielin)+y*(dielal-dielin) 
end_function
$
electron_mass variation=function 
function(x,y)
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
x*(emnga-emnin)+y*(emnal-emnin)+emnin
end_function
$
hole_mass  variation=function 
function(x,y)
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
g1q=x*(g1ga-g1in)+y*(g1al-g1in)+g1in ;
g2q=x*(g2ga-g2in)+y*(g2al-g2in)+g2in ;
emvhh=1./(g1q-2.*g2q) ;
emvlh=1./(g1q+2.*g2q) ;
( emvhh**(3/2)+emvlh**(3/2) )**(2/3)
end_function
$
band_gap variation=function 
function(x,y,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*x+2.093*y ;
term2=0.436*x**2 +0.577*y**2+1.013*x*y ;
term1+term2+shift-shift0
end_function
$
affinity variation=function
function(x,y,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*x+2.093*y ;
term2=0.436*x**2 +0.577*y**2+1.013*x*y ;
eg=term1+term2+shift-shift0 ;
x_ref=0;
y_ref=0.48;
term3=0.36+0.629*x_ref+2.093*y_ref ;
term4=0.436*x_ref**2 +0.577*y_ref**2+1.013*x_ref*y_ref ;
eg=term1+term2+shift-shift0 ;
eg_ref=term3+term4+shift-shift0 ;
offset=0.72;
4.07-offset*(eg-eg_ref)
end_function
$

electron_mobility variation=function 
function(total_doping)
mu_max=1.46;
mu_min=0.;
ref_dens=2.1d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.22;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n value=2.d-41
auger_p value=2.d-41
real_index variation=function 
function(x,y,temper)
ind_gaas=3.65;
ind_inas=3.892;
ind_alas=2.92;
ind_inas+x*(ind_gaas-ind_inas)+y*(ind_alas-ind_inas) 
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=6.
end_macro ingaalas_xyt
$
$ ******************************************************
$ acitve layer macro : Al(xw)Ga(1-xw)As/Al(xb)Ga(1-xb)As 
$ [free-style]
$ xw, xb=Al comp. in well,  barrier, temper=well temperature
$ Typical use:
$   get_active_layer name=AlGaAs/AlGaAs  mater=#m &&
$     var1=#xw var2=#xb var_symbol1=xw var_symbol2=xb
$ parameter_range xw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range temper=[77 600] 
$ ******************************************************
$
begin_active_layer AlGaAs/AlGaAs
$
layer_type type=unstrained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,temper)
for   0.<xw<0.45 
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.424+1.247*xw+shift-shift0
for  0.45<xw<1.
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.9+.125*xw+0.143*xw**2+shift-shift0
end_function
$
lband_well value=0.28
$
eg0_bar variation=function 
function(xb,temper)
for   0.<xb<0.45 
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.424+1.247*xb+shift-shift0
for  0.45<xb<1.
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.9+.125*xb+0.143*xb**2+shift-shift0
end_function
$
lband_bar value=0.28
$
$ revised jun04
$delta_so_well value=0.366
delta_so_well variation=function 
function(xw,xb,temper)
0.343-0.0628*xw
end_function
delta_so_bar variation=function 
function(xw,xb,temper)
0.343-0.0628*xb
end_function
$
band_offset value=0.6
$
mass_gamma_well variation=function  
function(xw)
0.067+0.083*xw
end_function
$
mass_gamma_bar variation=function 
function(xb)
0.067+0.083*xb
end_function
$
mass_l_well variation=function 
function(xw)
0.56+0.1*xw
end_function
$
mass_l_bar variation=function 
function(xb)
0.56+0.1*xb
end_function

$
gamma1_well variation=function 
function(xw)
g1ga=6.9 ;
g1al=3.45 ;
g1ga*(1.-xw)+g1al*xw
end_function
$
gamma2_well variation=function 
function(xw)
g2ga=2.2 ;
g2al=0.68 ;
g2ga*(1.-xw)+g2al*xw
end_function
$
gamma3_well variation=function 
function(xw)
g3ga=2.9 ;
g3al=1.29 ;
g3ga*(1.-xw)+g3al*xw
end_function
$
a_well variation=function 
function(xw)
dhga=-9.8 ;
dhal=-9.8 ;
dhga* (1. - xw) +dhal*xw
end_function
$
b_well variation=function 
function(xw)
duga=-1.76 ;
dual=-1.76 ;
duga*(1.-xw)+dual*xw
end_function
$
c11_well variation=function 
function(xw)
c11ga=11.9 ;
c11al=12.02 ;
c11ga*(1.-xw)+c11al*xw
end_function
$
c12_well variation=function 
function(xw)
c12ga=5.38 ;
c12al=5.70 ;
c12ga*(1.-xw)+c12al*xw
end_function
$
gamma1_bar variation=function
function(xb)
g1ga=6.9 ;
g1al=3.45 ;
g1ga*(1.-xb)+g1al*xb
end_function
$
gamma2_bar variation=function
function(xb)
g2ga=2.2 ;
g2al=0.68 ;
g2ga*(1.-xb)+g2al*xb
end_function
$
gamma3_bar variation=function
function(xb)
g3ga=2.9 ;
g3al=1.29 ;
g3ga*(1.-xb)+g3al*xb
end_function
$
a_bar variation=function
function(xb)
dhga=-9.8 ;
dhal=-9.8 ;
dhga*(1.-xb)+dhal*xb
end_function
$
b_bar variation=function
function(xb)
duga=-1.76 ;
dual=-1.76 ;
duga*(1.-xb)+dual*xb
end_function
$
c11_bar variation=function
function(xb)
c11ga=11.9 ;
c11al=12.02 ;
c11ga*(1.-xb)+c11al*xb
end_function
$
c12_bar variation=function
function(xb)
c12ga=5.38 ;
c12al=5.70 ;
c12ga*(1.-xb)+c12al*xb
end_function
$

kane_para_f_well variation=function
function(xw)
gaas=-1.94;
alas=-0.48;
(1-xw)*gaas+xw*alas
end_function

kane_para_f_bar variation=function
function(xb)
gaas=-1.94;
alas=-0.48;
(1-xb)*gaas+xb*alas
end_function


lattice_constant value=5.65325
$
end_active_layer AlGaAs/AlGaAs

$ ***********************************************
$ acitve layer macro : In(xw)Ga(1-xw)As/Al(xb)Ga(1-xb)As
$ [free-style]
$ xw=Indium composition in well, 
$ xb=Al. comp. in barrier,  temper=temperature
$ Typical use:
$   get_active_layer name=InGaAs/AlGaAs  mater=#m &&
$     var1=#xw var2=#xb var_symbol1=xw var_symbol2=xb
$ parameter_range xw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range temper=[77 600] 
$ **********************************************
$
begin_active_layer InGaAs/AlGaAs
$
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,temper)
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
$1.424-1.4895*xw+0.4205*xw*xw+shift-shift0
$ Ref: Appl. Phys. Lett.  58 (20) p. 2208
1.424-1.614*xw+0.55*xw*xw+shift-shift0
end_function
$
eg0_bar variation=function 
function(xb,temper)
for   0.<xb<0.45 
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.424+1.247*xb+shift-shift0
for  0.45<xb<1.
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.9+.125*xb+0.143*xb**2+shift-shift0
end_function
$
lband_well value=0.28
$
lband_bar value=0.28
$
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,temper)
a0ga=5.65325;
a0in=6.0584;
acomp=a0ga+xw*(a0in-a0ga);
(a0ga-acomp)/acomp
end_function
$
strain_bar value=0.
$
band_offset value=0.6
$
delta_so_well variation=function 
function(xw)
0.366-0.0451*xw+0.0691*xw*xw
end_function
$
delta_so_bar value=0.366
$
mass_gamma_well variation=function 
function(xw)
0.063-0.036*xw
end_function
$
mass_l_well value=0.56
$
mass_gamma_bar variation=function 
function(xb)
0.067+0.083*xb
end_function
$
mass_l_bar variation=function 
function(xb)
0.56+0.1*xb
end_function
$
gamma1_well  variation=function 
function(xw)
g1ga=6.9 ;
g1in=19.7 ;
g1ga+xw*(g1in-g1ga)
end_function
$
gamma2_well  variation=function 
function(xw)
g2ga=2.2 ;
g2in=8.4 ;
g2ga+xw*(g2in-g2ga)
end_function
$
gamma3_well  variation=function 
function(xw)
g3ga=2.9 ;
g3in=9.3 ;
g3ga+xw*(g3in-g3ga)
end_function
$
a_well  variation=function 
function(xw)
dhga=-9.8 ;
dhin=-5.0 ;
dhga+xw*(dhin-dhga)
end_function
$
b_well  variation=function 
function(xw)
duga=-1.76 ;
duin=-1.8 ;
duga+xw*(duin-duga)
end_function
$
c11_well  variation=function 
function(xw)
c11ga=11.9 ;
c11in=8.33 ;
c11ga+xw*(c11in-c11ga)
end_function
$
c12_well  variation=function 
function(xw)
c12ga=5.38 ;
c12in=4.53 ;
c12ga+xw*(c12in-c12ga)
end_function
$
gamma1_bar variation=function
function(xb)
g1ga=6.9 ;
g1al=3.45 ;
g1ga*(1.-xb)+g1al*xb
end_function
$
gamma2_bar variation=function
function(xb)
g2ga=2.2 ;
g2al=0.68 ;
g2ga*(1.-xb)+g2al*xb
end_function
$
gamma3_bar variation=function
function(xb)
g3ga=2.9 ;
g3al=1.29 ;
g3ga*(1.-xb)+g3al*xb
end_function
$
a_bar variation=function
function(xb)
dhga=-9.8 ;
dhal=-9.8 ;
dhga*(1.-xb)+dhal*xb
end_function
$
b_bar variation=function
function(xb)
duga=-1.76 ;
dual=-1.76 ;
duga*(1.-xb)+dual*xb
end_function
$
c11_bar variation=function
function(xb)
c11ga=11.9 ;
c11al=12.02 ;
c11ga*(1.-xb)+c11al*xb
end_function
$
c12_bar variation=function
function(xb)
c12ga=5.38 ;
c12al=5.70 ;
c12ga*(1.-xb)+c12al*xb
end_function

kane_para_f_well variation=function
function(xw)
inas=-2.9;
gaas=-1.94;
xw*inas+(1-xw)*gaas
end_function

kane_para_f_bar variation=function
function(xb)
alas=-0.48;
gaas=-1.94;
xb*alas+(1-xb)*gaas
end_function

$
lattice_constant value=5.65325
$
end_active_layer InGaAs/AlGaAs

$****************************************************
$ Active layer macro for bulk Al(xw)Ga(1-xw)As
$ [free-style]
$ This can be considered a speccial case of quantum well
$ except that information regarding the barrier is
$ not required.
$ Typical use:
$   get_active_layer name=AlGaAs mater=#m &&
$     var1=#xw var_symbol1=xw 
$ parameter_range xw=[0 1]
$ parameter_range temper=[77 600] 
$****************************************************
begin_active_layer AlGaAs
$
layer_type type=bulk valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,temper)
for   0.<xw<0.45 
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.424+1.247*xw+shift-shift0
for  0.45<xw<1.
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.9+.125*xw+0.143*xw**2+shift-shift0
end_function
$
lband_well value=0.28
$
delta_so_well value=0.366
$
mass_gamma_well variation=function  
function(xw)
0.067+0.083*xw
end_function
$
mass_l_well variation=function 
function(xw)
0.56+0.1*xw
end_function
$
gamma1_well variation=function 
function(xw)
g1ga=6.9 ;
g1al=3.45 ;
g1ga*(1.-xw)+g1al*xw
end_function
$
gamma2_well variation=function 
function(xw)
g2ga=2.2 ;
g2al=0.68 ;
g2ga*(1.-xw)+g2al*xw
end_function

kane_para_f_well variation=function
function(xw)
gaas=-1.94;
alas=-0.48;
(1-xw)*gaas+xw*alas
end_function

$
lattice_constant value=5.65325
end_active_layer AlGaAs
$ **************************************************************
$
$  Active layer macro of 
$  strained well of In(1-xw)Ga(xw)As(yw)P(1-yw) with
$  strained barrier of In(1-xb)Ga(xb)As(yb)P(1-yb) 
$  grown on material lattice matched to GaAs.
$  [free-style]
$
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to GaAs if x and y is related by
$  x=(1+y)/(2.08-0.08*y)
$  
$  The band gap of InGaAsP lattice matched to GaAs is given by 
$  E_g=1.926-0.259*y-0.241*y**2
$  E_g=1.91 - 1.44*y+2.87*y*y-3.23*y*y*y+1.31*y*y*y*y  Mohrdiek 95
$
$  5 parameters are used: (xw, yw, xb, yb, temper)
$
$   Modified/contributed  May 1996   Stefan Mohrdiek   
$ Typical use:
$   get_active_layer name=InGaAsP/GaAs  mater=#m &&
$     var1=#xw var2=#yw var3=#xb var4=#yb &&
$     var_symbol1=xw var_symbol2=yw var_symbol3=xb var_symbol4=yb 
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range yb=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAsP/GaAs
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ this is the unstrained bandgap Eg0_bilin(xw,yw) for well
$ using bi-linear combination of ternaries.
$  
ext_func1 variation=function 
function(xw,yw)
for 0.<xw*yw<0.9999 
fabd=1.347+0.643*xw+0.786*xw*xw ;
fabc=0.36+0.505*xw+0.555*xw*xw ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xw*(1.-xw)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xw)*facd+xw*fbcd ) ;
term3=xw*(1.-xw)+yw*(1.-yw) ;
(term1+term2)/(term3+1.e-6)
for 0.9999<xw*yw<1. 
1.424
end_function
$
$
$ this is the unstrained bandgap Eg0_bilin(xb,yb) for barrier 
$ using bi-linear combination of ternaries.
$  
ext_func2 variation=function 
function(xb,yb)
for 0.<xb*yb<0.9999 
fabd=1.347+0.643*xb+0.786*xb*xb ;
fabc=0.36+0.505*xb+0.555*xb*xb ;
facd=1.347-1.083*yb+0.091*yb*yb ;
fbcd=2.74-1.473*yb+0.146*yb*yb ;
term1=xb*(1.-xb)* ( (1.-yb)*fabd+yb*fabc ) ;
term2=yb*(1.-yb)*( (1.-xb)*facd+xb*fbcd ) ;
term3=xb*(1.-xb)+yb*(1.-yb) ;
(term1+term2)/(term3+1.e-6)
for 0.9999<xb*yb<1. 
1.424
end_function
$
$ this is the unstrained bandgap Eg0_bilin(xw=xm,yw) for well
$ using bi-linear combination of ternaries.  
$ X is set to lattice matched composition for calcation purpose
$ 
ext_func3 variation=function 
function(xw,yw)
for 0.<(1+yw)/(2.08-0.08*yw)*yw<0.9999 
xm=(1+yw)/(2.08-0.08*yw) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xm*(1.-xm)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yw*(1.-yw) ;
(term1+term2)/(term3+1.e-6)
for 0.9999<(1+yw)/(2.08-0.08*yw)*yw<1.
1.424
end_function
$
$ this is the unstrained bandgap Eg0_bilin(xb=xm,yb) for barrier 
$ using bi-linear combination of ternaries.
$ X is set to lattice matched composition for calcation purpose
$  
ext_func4 variation=function 
function(xb,yb)
for 0.<(1+yb)/(2.08-0.08*yb)*yb<0.9999 
xm=(1+yb)/(2.08-0.08*yb) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yb+0.091*yb*yb ;
fbcd=2.74-1.473*yb+0.146*yb*yb ;
term1=xm*(1.-xm)* ( (1.-yb)*fabd+yb*fabc ) ;
term2=yb*(1.-yb)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yb*(1.-yb) ;
(term1+term2)/(term3+1.e-6)
for 0.9999<(1+yb)/(2.08-0.08*yb)*yb<1.
1.424
end_function
$
$ Theory of unstrained bandgap:
$ Given bandgap of matched line (xm,ym): Eg0_match(ym)
$ and measured ternary bandgaps, we interpolate as follows:
$ If (x,y) is within the left side of the matched line (xm,ym):
$ Eg0=Eg0_bilin(x,y)+(x/xm)*(Eg0_match(y)-Eg0_bilin(xm,y))
$ If (x,y) is within the right side of the matched line (xm,ym):
$ Eg0=Eg0_bilin(x,y)+[(1-x)/(1-xm)]*(Eg0_match(y)-Eg0_bilin(xm,y))
$
$ The above formula ensures that the unstrained bandgap
$ agrees with experiment at ternaries and at the matched line (xm,ym).
$ For any other composition, we draw horizontal line across
$ (x,y) and linearly interpolate given the three known points:
$ (0,y), (xm,y), (1,y)
$
eg0_well variation=function 
function(xw,yw,temper)
for 0.<xw<(1+yw)/(2.08-0.08*yw) 
xm=(1+yw)/(2.08-0.08*yw) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
fact=xw/xm ;
$ eg0=1.926-0.259*yw-0.241*yw*yw ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yw +2.87*yw*yw-3.23*yw*yw*yw+1.31*yw*yw*yw*yw ;
$----------------------------------------------------------
ext_func1+fact*(eg0-ext_func3)+shift-shift0
for (1+yw)/(2.08-0.08*yw)<xw<1.
xm=(1+yw)/(2.08-0.08*yw) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
fact=(1.-xw)/(1.-xm+1.e-6) ;
$ eg0=1.926-0.259*yw-0.241*yw*yw ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yw +2.87*yw*yw-3.23*yw*yw*yw+1.31*yw*yw*yw*yw ;
$----------------------------------------------------------
ext_func1+fact*(eg0-ext_func3)+shift-shift0
end_function
$
eg0_bar variation=function 
function(xb,yb,temper)
for 0.<xb<(1+yb)/(2.08-0.08*yb) 
xm=(1+yb)/(2.08-0.08*yb) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
fact=xb/xm ;
$ eg0=1.926-0.259*yb-0.241*yb*yb ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yb +2.87*yb*yb-3.23*yb*yb*yb+1.31*yb*yb*yb*yb ;
$----------------------------------------------------------
ext_func2+fact*(eg0-ext_func4)+shift-shift0
for (1+yb)/(2.08-0.08*yb)<xb<1.
xm=(1+yb)/(2.08-0.08*yb) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
fact=(1.-xb)/(1.-xm+1.e-6) ;
$$$$$ eg0=1.926-0.259*yb-0.241*yb*yb ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yb +2.87*yb*yb-3.23*yb*yb*yb+1.31*yb*yb*yb*yb ;
$----------------------------------------------------------
ext_func2+fact*(eg0-ext_func4)+shift-shift0
end_function
$
lband_well variation=function 
function(xw,yw)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$
lband_bar variation=function
function(xb,yb)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xb)*yb*delein+(1.-xb)*(1.-yb)*deleip ;
term2=xb*yb*delega+xb*(1.-yb)*delegp ;
term1+term2
end_function
$
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0ga=5.65325 ;
a0ip=5.8688 ;
acomp=0.01724*xw*yw-0.44824*xw+0.2155*yw+a0ip ;
(a0ga-acomp)/acomp
end_function
$
strain_bar variation=function  
function(xb,yb)
a0ga=5.65325 ;
a0ip=5.8688 ;
acomp=0.01724*xb*yb-0.44824*xb+0.2155*yb+a0ip ;
(a0ga-acomp)/acomp
end_function
$
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
band_offset value=0.2
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
$
delta_so_well variation=function 
function(xw,yw)
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
$
delta_so_bar  variation=function
function(xb,yb)
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xb)*yb*delin+(1.-xb)*(1.-yb)*delip ;
term2=xb*yb*delga+xb*(1.-yb)*delgp ;
term1+term2 
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
mass_gamma_bar variation=function 
function(xb,yb)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xb)*yb*emnin+(1.-xb)*(1.-yb)*emnip ;
term2=xb*yb*emnga+xb*(1.-yb)*emngp ;
term1+term2
end_function
$
mass_l_bar value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3ga=2.9 ;
g3gp=1.25 ;
g3in=9.1 ;
g3ip=2.0 ;
term1=(1.-xw)*yw*g3in+(1.-xw)*(1.-yw)*g3ip ;
term2=xw*yw*g3ga+xw*(1.-yw)*g3gp ;
term1+term2
end_function
$
a_well  variation=function 
function(xw,yw)
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xw)*yw*dhin+(1.-xw)*(1.-yw)*dhip ;
term2=xw*yw*dhga+xw*(1.-yw)*dhgp ;
term1+term2
end_function
$
b_well  variation=function 
function(xw,yw)
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xw)*yw*duin+(1.-xw)*(1.-yw)*duip ;
term2=xw*yw*duga+xw*(1.-yw)*dugp ;
term1+term2
end_function
$
c11_well  variation=function 
function(xw,yw)
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xw)*yw*c11in+(1.-xw)*(1.-yw)*c11ip ;
term2=xw*yw*c11ga+xw*(1.-yw)*c11gp ;
term1+term2
end_function
$
c12_well  variation=function 
function(xw,yw)
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xw)*yw*c12in+(1.-xw)*(1.-yw)*c12ip ;
term2=xw*yw*c12ga+xw*(1.-yw)*c12gp ;
term1+term2
end_function
$
gamma1_bar variation=function
function(xb,yb)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xb)*yb*g1in+(1.-xb)*(1.-yb)*g1ip ;
term2=xb*yb*g1ga+xb*(1.-yb)*g1gp ;
term1+term2
end_function
$
gamma2_bar variation=function
function(xb,yb)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xb)*yb*g2in+(1.-xb)*(1.-yb)*g2ip ;
term2=xb*yb*g2ga+xb*(1.-yb)*g2gp ;
term1+term2
end_function
$
gamma3_bar variation=function
function(xb,yb)
g3ga=2.9 ;
g3gp=1.25 ;
g3in=9.1 ;
g3ip=2.0 ;
term1=(1.-xb)*yb*g3in+(1.-xb)*(1.-yb)*g3ip ;
term2=xb*yb*g3ga+xb*(1.-yb)*g3gp ;
term1+term2
end_function
$
a_bar variation=function
function(xb,yb)
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xb)*yb*dhin+(1.-xb)*(1.-yb)*dhip ;
term2=xb*yb*dhga+xb*(1.-yb)*dhgp ;
term1+term2
end_function
$
b_bar variation=function
function(xb,yb)
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xb)*yb*duin+(1.-xb)*(1.-yb)*duip ;
term2=xb*yb*duga+xb*(1.-yb)*dugp ;
term1+term2
end_function
$
c11_bar variation=function
function(xb,yb,temper)
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xb)*yb*c11in+(1.-xb)*(1.-yb)*c11ip ;
term2=xb*yb*c11ga+xb*(1.-yb)*c11gp ;
term1+term2
end_function
$
c12_bar variation=function
function(xb,yb,temper)
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xb)*yb*c12in+(1.-xb)*(1.-yb)*c12ip ;
term2=xb*yb*c12ga+xb*(1.-yb)*c12gp ;
term1+term2
end_function

$ In(1-x)Ga(x)As(y)P(1-y)
kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9;
GaAs=-1.94;
InP=-1.31;
GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function

kane_para_f_bar variation=function
function(xb,yb)
InAs=-2.9;
GaAs=-1.94;
InP=-1.31;
GaP=-2.04;
(1-xb)*yb*InAs+xb*yb*GaAs+(1-xb)*(1-yb)*InP+xb*(1-yb)*GaP
end_function

lattice_constant value=5.65325

end_active_layer InGaAsP/GaAs
$ **************************************************************
$
$  Active layer macro of
$  Strained well of 
$  In(1-xw-yw)Ga(xw)Al(yw)As/In(1-xb-yb)Ga(xb)Al(yb)As
$  Grown on material lattice matched to InP
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law
$  and were given by 
$
$  D. Olego, T.Y. Chang, E.A. Silberg, E.A. Caridi, and A. Pinczuk,
$  "Compositional dependence of band-gap energy and conduction-band
$  effective mass of In(1-x-y)Ag(x)Al(y)As lattice matched to InP.",
$  Appl. Phys. Lett., vol. 41, pp. 476-478, 1982
$  
$ Typical use:
$   get_active_layer name=InGaAlAs/InP mater=#m &&
$     var1=#xw var2=#yw var3=#xb var4=#yb &&
$     var_symbol1=xw var_symbol2=yw var_symbol3=xb var_symbol4=yb 
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range yb=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAlAs/InP
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*xw+2.093*yw ;
term2=0.436*xw**2 +0.577*yw**2+1.013*xw*yw ;
term1+term2+shift-shift0
end_function
$
eg0_bar variation=function 
function(xb,yb,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*xb+2.093*yb ;
term2=0.436*xb**2 +0.577*yb**2+1.013*xb*yb ;
term1+term2+shift-shift0
end_function
$
lband_well value=0.28
$
lband_bar value=0.28
$
band_offset value=0.72
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)As)(z)(In(1-y1)Al(y1)As)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$  Compressive strain is negative:
$
strain_well variation=function 
function(xw,yw,temper)
a0gaas=5.65325 ;
a0alas=5.6605 ;
a0inas=6.05840 ;
a0inp=5.8688 ;
axy=a0inas+xw*(a0gaas-a0inas)+yw*(a0alas-a0inas) ;
(a0inp-axy)/axy
end_function
$
strain_bar variation=function 
function(xb,yb,temper)
a0gaas=5.65325 ;
a0alas=5.6605 ;
a0inas=6.05840 ;
a0inp=5.8688 ;
axy=a0inas+xb*(a0gaas-a0inas)+yb*(a0alas-a0inas) ;
(a0inp-axy)/axy
end_function
$
$
delta_so_well variation=function 
function(xw,yw,temper)
delal=0.279 ;
delga=0.34 ;
delin=0.43 ;
xw*(delga-delin)+yw*(delal-delin)+delin
end_function
$
delta_so_bar  variation=function
function(xb,yb)
delal=0.279 ;
delga=0.34 ;
delin=0.43 ;
xb*(delga-delin)+yb*(delal-delin)+delin
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
xw*(emnga-emnin)+yw*(emnal-emnin)+emnin
end_function
$
mass_l_well value=0.56
$
mass_gamma_bar variation=function 
function(xb,yb,temper)
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
xb*(emnga-emnin)+yb*(emnal-emnin)+emnin
end_function
$
mass_l_bar value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
xw*(g1ga-g1in)+yw*(g1al-g1in)+g1in
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
xw*(g2ga-g2in)+yw*(g2al-g2in)+g2in
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3al=1.29 ;
g3ga=2.9 ;
g3in=9.3 ;
xw*(g3ga-g3in)+yw*(g3al-g3in)+g3in
end_function
$
a_well  variation=function 
function(xw,yw)
dhal=-9.8 ;
dhga=-9.8 ;
dhin=-5.0 ;
xw*(dhga-dhin)+yw*(dhal-dhin)+dhin
end_function
$
b_well  variation=function 
function(xw,yw)
dual=-1.76 ;
duga=-1.76 ;
duin=-1.8 ;
xw*(duga-duin)+yw*(dual-duin)+duin
end_function
$
c11_well  variation=function 
function(xw,yw)
c11al=12.02 ;
c11ga=11.9 ;
c11in=8.33 ;
xw*(c11ga-c11in)+yw*(c11al-c11in)+c11in
end_function
$
c12_well  variation=function 
function(xw,yw)
c12al=5.70 ;
c12ga=5.38 ;
c12in=4.53 ;
xw*(c12ga-c12in)+yw*(c12al-c12in)+c12in
end_function
$
gamma1_bar variation=function
function(xb,yb)
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
xb*(g1ga-g1in)+yb*(g1al-g1in)+g1in
end_function
$
gamma2_bar variation=function
function(xb,yb,temper)
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
xb*(g2ga-g2in)+yb*(g2al-g2in)+g2in
end_function
$
gamma3_bar variation=function
function(xb,yb,temper)
g3al=1.29 ;
g3ga=2.9 ;
g3in=9.3 ;
xb*(g3ga-g3in)+yb*(g3al-g3in)+g3in
end_function
$
a_bar variation=function
function(xb,yb)
dhal=-9.8 ;
dhga=-9.8 ;
dhin=-5.0 ;
xb*(dhga-dhin)+yb*(dhal-dhin)+dhin
end_function
$
b_bar variation=function
function(xb,yb)
dual=-1.76 ;
duga=-1.76 ;
duin=-1.8 ;
xb*(duga-duin)+yb*(dual-duin)+duin
end_function
$
c11_bar variation=function
function(xb,yb)
c11al=12.02 ;
c11ga=11.9 ;
c11in=8.33 ;
xb*(c11ga-c11in)+yb*(c11al-c11in)+c11in
end_function
$
c12_bar variation=function
function(xb,yb)
c12al=5.70 ;
c12ga=5.38 ;
c12in=4.53 ;
xb*(c12ga-c12in)+yb*(c12al-c12in)+c12in
end_function

$  In(1-xw-yw)Ga(xw)Al(yw)As/In(1-xb-yb)Ga(xb)Al(yb)As

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9;
GaAs=-1.94;
AlAs=-0.48;
InAs*(1-xw-yw)+GaAs*xw+AlAs*yw
end_function

kane_para_f_bar variation=function
function(xb,yb)
InAs=-2.9;
GaAs=-1.94;
AlAs=-0.48;
InAs*(1-xb-yb)+GaAs*xb+AlAs*yb
end_function


lattice_constant value=5.8688 
end_active_layer InGaAlAs/InP
$ **************************************************************
$
$  Active layer macro of bulk
$  In(1-xw-yw)Ga(xw)Al(yw)As
$  Grown on material lattice matched to InP
$  Lattice matched to InP with xw=0.47-yw
$  [free-style]
$
$  This compound comes from two ternarires
$  (In(1-x1)Ga(x1)As)(z)(In(1-y1)Al(y1)As)(1-z)
$  where x1*z=x and y1*(1-z)=y
$ Typical use:
$   get_active_layer name=InGaAlAs mater=#m &&
$     var1=#yw var_symbol1=yw 
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAlAs
layer_type type=bulk valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(yw,temper)
xw=0.47-yw;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*xw+2.093*yw ;
term2=0.436*xw**2 +0.577*yw**2+1.013*xw*yw ;
term1+term2+shift-shift0
end_function
$
lband_well value=0.28
$
$
delta_so_well variation=function 
function(yw)
xw=0.47-yw;
delal=0.279 ;
delga=0.34 ;
delin=0.43 ;
xw*(delga-delin)+yw*(delal-delin)+delin
end_function
$
mass_gamma_well variation=function 
function(yw)
xw=0.47-yw;
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
xw*(emnga-emnin)+yw*(emnal-emnin)+emnin
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(yw)
xw=0.47-yw;
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
xw*(g1ga-g1in)+yw*(g1al-g1in)+g1in
end_function
$
gamma2_well  variation=function 
function(yw)
xw=0.47-yw;
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
xw*(g2ga-g2in)+yw*(g2al-g2in)+g2in
end_function

kane_para_f_well variation=function
function(yw)
xw=0.47-yw;
InAs=-2.9;
GaAs=-1.94;
AlAs=-0.48;
InAs*(1-xw-yw)+GaAs*xw+AlAs*yw
end_function
$
lattice_constant value=5.8688 
end_active_layer InGaAlAs
$ **************************************************************
$  macro for bulk 
$  In(1-x-y)Ga(x)Al(y)P
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law
$  similar to In(1-x-y)Ga(x)Al(y)As with As replaced by P.
$  Here, InGaAlP may be regarded as the compound of
$   [In(1-xp)Ga(xp)P]z +  [In(1-yp)Al(yp)P](1-z)  
$  =[InP(1-xp)+GaP(xp)]z +  [InP(1-yp)+AlP(yp)](1-z)  
$  =InP(1-xp)z+GaP(xp)z +  InP(1-yp)(1-z)+AlP(yp)(1-z)  
$  =InP(z-xp*z+1-z-yp(1-z))+GaP(xp)z + AlP(yp)(1-z)  
$  =InP(1-xp*z-yp(1-z))+GaP(xp)z + AlP(yp)(1-z)  
$  =InP(1-x-y)+GaP(x) + AlP(y)  
$  where x=xp*z , y=yp*(1-z)
$  In terms of binaries:
$  In(1-x-y)Ga(x)Al(y)P=InP(z-x)+GaP(x)+InP(1-z-y)+AlP(y)
$                      =InP(1-x-y)+GaP(x)+AlP(y)
$
$ Bowing parameter K is defined such that for A(x)B(1-x)C
$
$ V(x)=x*V(AC)+(1-x)*V(BC)-x*(1-x)*K(ABC)
$
$ Quaternary alloy A(1-x-y)B(x)C(y)D, bowing parameters may be used as
$
$ V(x,y)=V(AD)*(1-x-y)+V(BD)*x+V(CD)*y 
$        -[ (1-x-y)*x*K(ABD)+(1-x-y)*y*K(ACD)+x*y*K(BCD) ]
$ Please note the minus sign.
$
$ Ref: A.A. Mbaye and C. Verie, "Electronic structure of
$      trimetallic III-V alloys:  The Al(1-x-z)Ga(x)In(z)P system",
$      Phys. Rev. B, vol 29, No. 6, pp. 3756-3758, 1984.
$
$ Typical use:
$   load_macro name=ingaalp_xyt  mater=#m &&
$     var1=#x var2=#y var_symbol1=x var_symbol2=y
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************************************
begin_macro ingaalp_xyt
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
$
dielectric_constant variation=function 
function(x,y)
diel_GaP=11.1;
diel_InP=12.56;
diel_AlP=9.8;
diel_InP*(1-x-y)+x*diel_GaP+y*diel_AlP 
end_function
$
electron_mass variation=function 
function(x,y)
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-x-y)+x*emn_GaP+y*emn_AlP
end_function
$
hole_mass  variation=function 
function(x,y)
g1_GaP=4.20;
g2_GaP=0.98;
g1_InP=5.0 ;
g2_InP=1.5 ;
g1_AlP=3.47;
g2_AlP=0.06;
g1q=g1_InP*(1-x-y)+x*g1_GaP+y*g1_AlP ;
g2q=g2_InP*(1-x-y)+x*g2_GaP+y*g2_AlP ;
emvhh=1/(g1q-2.*g2q) ;
emvlh=1/(g1q+2.*g2q) ;
( emvhh**(3/2)+emvlh**(3/2) )**(2/3)
end_function
$
$ Bandgap parameters are available from
$ A.A. Mbaye adn C. Verie, "Electronic structure of trimetallic
$ III-V alloys: The Al(1-x-z)G(x)In(z)P system," Phys. Rev. B,
$ vol. B29, pp. 3756-3758, 1984.
$
$ Direct gap is given here assuming composition is chosen such
$ that Gamma band is the lowest minima.
$
band_gap variation=function 
function(x,y,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-x-y)+x*E_GaP+y*E_AlP;
Bowing=(1-x-y)*x*K_InGaP+(1-x-y)*y*K_InAlP+x*y*K_GaAlP;
Linear-Bowing+shift-shift0
end_function
$
affinity variation=function
function(x,y,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-x-y)+x*E_GaP+y*E_AlP;
Bowing=(1-x-y)*x*K_InGaP+(1-x-y)*y*K_InAlP+x*y*K_GaAlP;
eg=Linear-Bowing+shift-shift0;
eg0=1.425;
offset=0.5;  
4.07-offset*(eg-eg0)
end_function
$
$ at 15 deg orientation mu_n = 0.2
$ at 0  deg orientation mu_n = 0.185
$

electron_mobility variation=function 
function(total_doping)
mu_max=0.2;
mu_min=0.;
ref_dens=5.d23;
alpha=0.9;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

$
hole_mobility variation=function 
function(total_doping)
mu_max=0.22;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n value=2.d-43
auger_p value=2.d-43
$
$ for real index, we assume that the wavelength is 2. eV
$
real_index variation=function 
function(x,y)
ind_InP=3.54;
ind_GaP=3.40;
ind_AlP=2.87;
ind_InP*(1-x-y)+x*ind_GaP+y*ind_AlP
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=40.
end_macro ingaalp_xyt
$
$ **************************************************************
$
$  Active layer macro of strained well/barrier of 
$  In(1-xw-yw)Ga(xw)Al(yw)P/In(1-xb-yb)Ga(xb)Al(yb)P
$  Grown on material lattice matched to GaAs
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law.
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)P)(z)+(In(1-y1)Al(y1)P)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$ Please note the minus sign for Bowing coefficient.
$
$ Ref: A.A. Mbaye and C. Verie, "Electronic structure of
$      trimetallic III-V alloys:  The Al(1-x-z)Ga(x)In(z)P system",
$      Phys. Rev. B, vol 29, No. 6, pp. 3756-3758, 1984.
$
$   Modified/contributed  May 1996   Stefan Mohrdiek   
$ Typical use:
$   get_active_layer name=InGaAlP/GaAs mater=#m &&
$     var1=#xw var2=#yw var3=#xb var4=#yb && 
$     var_symbol1=xw var_symbol2=yw var_symbol3=xb var_symbol4=yb
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range yb=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAlP/GaAs
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ direct gap is used here.
$
eg0_well variation=function 
function(xw,yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-xw-yw)+xw*E_GaP+yw*E_AlP;
Bowing=(1-xw-yw)*xw*K_InGaP+(1-xw-yw)*yw*K_InAlP+xw*yw*K_GaAlP;
Linear-Bowing+shift-shift0
end_function
$
eg0_bar variation=function 
function(xb,yb,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-xb-yb)+xb*E_GaP+yb*E_AlP;
Bowing=(1-xb-yb)*xb*K_InGaP+(1-xb-yb)*yb*K_InAlP+xb*yb*K_GaAlP;
Linear-Bowing+shift-shift0
end_function
$
lband_well value=0.28
$
lband_bar value=0.28
$
band_offset value=0.5
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)P)(z)+(In(1-y1)Al(y1)P)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$  Compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0_InP=5.8688 ;
a0_GaP=5.45052 ;
a0_AlP=5.46354 ;
a0_GaAs=5.65325 ;
axy=a0_InP*(1-xw-yw)+xw*a0_GaP+yw*a0_AlP;
(a0_GaAs-axy)/axy
end_function
$
strain_bar variation=function 
function(xb,yb)
a0_InP=5.8688 ;
a0_GaP=5.45052 ;
a0_AlP=5.46354 ;
a0_GaAs=5.65325 ;
axy=a0_InP*(1-xb-yb)+xb*a0_GaP+yb*a0_AlP;
(a0_GaAs-axy)/axy
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
del_InP=0.10 ;
del_GaP=0.08 ;
del_AlP=0.01 ;
del_InP*(1-xw-yw)+xw*del_GaP+yw*del_AlP
end_function
$
delta_so_bar  variation=function
function(xb,yb)
del_InP=0.10 ;
del_GaP=0.08 ;
del_AlP=0.01 ;
del_InP*(1-xb-yb)+xb*del_GaP+yb*del_AlP
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-xw-yw)+xw*emn_GaP+yw*emn_AlP
end_function
$
mass_l_well value=0.56
$
mass_gamma_bar variation=function 
function(xb,yb)
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-xb-yb)+xb*emn_GaP+yb*emn_AlP
end_function
$
mass_l_bar value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1_GaP=4.20;
g1_InP=5.0 ;
g1_AlP=3.47;
g1_InP*(1-xw-yw)+xw*g1_GaP+yw*g1_AlP
end_function
$
gamma1_bar variation=function
function(xb,yb)
g1_GaP=4.20;
g1_InP=5.0 ;
g1_AlP=3.47;
g1_InP*(1-xb-yb)+xb*g1_GaP+yb*g1_AlP
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2_GaP=0.98;
g2_InP=1.5 ;
g2_AlP=0.06;
g2_InP*(1-xw-yw)+xw*g2_GaP+yw*g2_AlP
end_function
$
gamma2_bar variation=function
function(xb,yb)
g2_GaP=0.98;
g2_InP=1.5 ;
g2_AlP=0.06;
g2_InP*(1-xb-yb)+xb*g2_GaP+yb*g2_AlP
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3_InP=2.76;
g3_GaP=1.66;
g3_AlP=1.15;
g3_InP*(1-xw-yw)+xw*g3_GaP+yw*g3_AlP
end_function
$
gamma3_bar variation=function
function(xb,yb)
g3_InP=2.76;
g3_GaP=1.66;
g3_AlP=1.15;
g3_InP*(1-xb-yb)+xb*g3_GaP+yb*g3_AlP
end_function
$
a_well  variation=function 
function(xw,yw)
a_InP=-6.35 ;
a_GaP=-9.3 ;
a_AlP=-8; 
a_InP*(1-xw-yw)+xw*a_GaP+yw*a_AlP
end_function
$
a_bar variation=function
function(xb,yb)
a_InP=-6.35 ;
a_GaP=-9.3 ;
a_AlP=-8; 
a_InP*(1-xb-yb)+xb*a_GaP+yb*a_AlP
end_function
$
b_well  variation=function 
function(xw,yw)
b_InP=-2.0 ;
b_GaP=-1.8 ;
b_AlP=-2 ;         
b_InP*(1-xw-yw)+xw*b_GaP+yw*b_AlP
end_function
$
b_bar variation=function
function(xb,yb)
b_InP=-2.0 ;
b_GaP=-1.8 ;
b_AlP=-2 ;         
b_InP*(1-xb-yb)+xb*b_GaP+yb*b_AlP
end_function
$
c11_well  variation=function 
function(xw,yw)
c11_InP=10.11 ;
c11_GaP=14.11 ;
c11_AlP=13.2 ;
c11_InP*(1-xw-yw)+xw*c11_GaP+yw*c11_AlP
end_function
$
c11_bar variation=function
function(xb,yb)
c11_InP=10.11 ;
c11_GaP=14.11 ;
c11_AlP=13.2 ;
c11_InP*(1-xb-yb)+xb*c11_GaP+yb*c11_AlP
end_function
$
c12_well  variation=function 
function(xw,yw)
c12_InP=5.61 ;
c12_GaP=6.398 ;
c12_AlP=6.30 ;
c12_InP*(1-xw-yw)+xw*c12_GaP+yw*c12_AlP
end_function
$
c12_bar variation=function
function(xb,yb)
c12_InP=5.61 ;
c12_GaP=6.398 ;
c12_AlP=6.30 ;
c12_InP*(1-xb-yb)+xb*c12_GaP+yb*c12_AlP
end_function

kane_para_f_well variation=function
function(xw,yw)
InP=-1.31;
GaP=-2.04;
AlP=-0.65;
InP*(1-xw-yw)+GaP*xw+AlP*yw
end_function

kane_para_f_bar variation=function
function(xb,yb)
InP=-1.31;
GaP=-2.04;
AlP=-0.65;
InP*(1-xb-yb)+GaP*xb+AlP*yb
end_function

lattice_constant value=5.65325
end_active_layer InGaAlP/GaAs

$ **************************************************************
$
$  Active layer macro of strained well/barrier of 
$  In(1-xw-yw)Ga(xw)Al(yw)P/In(1-xb-yb)Ga(xb)Al(yb)P
$  Grown on material lattice matched to GaAs
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law.
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)P)(z)+(In(1-y1)Al(y1)P)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$ Please note the minus sign for Bowing coefficient.
$
$ Ref: A.A. Mbaye and C. Verie, "Electronic structure of
$      trimetallic III-V alloys:  The Al(1-x-z)Ga(x)In(z)P system",
$      Phys. Rev. B, vol 29, No. 6, pp. 3756-3758, 1984.
$
$   Modified/contributed  May 1996   Stefan Mohrdiek   
$ Typical use:
$   get_active_layer name=InGaAlP/GaAs_2010Mar mater=#m &&
$     var1=#xw var2=#yw var3=#xb var4=#yb && 
$     var_symbol1=xw var_symbol2=yw var_symbol3=xb var_symbol4=yb
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range yb=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAlP_yt/GaAs_2010Mar
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ direct gap is used here.
$
eg0_well variation=function 
function(yw,temper)
for 0.0<y<0.35
xw=0.51532-0.96887*yw;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-xw-yw)+xw*E_GaP+yw*E_AlP;
Bowing=(1-xw-yw)*xw*K_InGaP+(1-xw-yw)*yw*K_InAlP+xw*yw*K_GaAlP;
Linear-Bowing+shift-shift0
for else
yy=0.35d0;
xx=0.51532-0.96887*yy;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-xx-yy)+xx*E_GaP+yy*E_AlP;
Bowing=(1-xx-yy)*xx*K_InGaP+(1-xx-yy)*yy*K_InAlP+xx*yy*K_GaAlP;
Linear-Bowing+shift-shift0
end_function
$
eg0_bar variation=function 
function(xb,yb,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-xb-yb)+xb*E_GaP+yb*E_AlP;
Bowing=(1-xb-yb)*xb*K_InGaP+(1-xb-yb)*yb*K_InAlP+xb*yb*K_GaAlP;
Linear-Bowing+shift-shift0
end_function
$
lband_well value=0.28
$
lband_bar value=0.28
$
band_offset value=0.5
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)P)(z)+(In(1-y1)Al(y1)P)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$  Compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0_InP=5.8688 ;
a0_GaP=5.45052 ;
a0_AlP=5.46354 ;
a0_GaAs=5.65325 ;
axy=a0_InP*(1-xw-yw)+xw*a0_GaP+yw*a0_AlP;
(a0_GaAs-axy)/axy
end_function
$
strain_bar variation=function 
function(xb,yb)
a0_InP=5.8688 ;
a0_GaP=5.45052 ;
a0_AlP=5.46354 ;
a0_GaAs=5.65325 ;
axy=a0_InP*(1-xb-yb)+xb*a0_GaP+yb*a0_AlP;
(a0_GaAs-axy)/axy
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
del_InP=0.10 ;
del_GaP=0.08 ;
del_AlP=0.01 ;
del_InP*(1-xw-yw)+xw*del_GaP+yw*del_AlP
end_function
$
delta_so_bar  variation=function
function(xb,yb)
del_InP=0.10 ;
del_GaP=0.08 ;
del_AlP=0.01 ;
del_InP*(1-xb-yb)+xb*del_GaP+yb*del_AlP
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-xw-yw)+xw*emn_GaP+yw*emn_AlP
end_function
$
mass_l_well value=0.56
$
mass_gamma_bar variation=function 
function(xb,yb)
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-xb-yb)+xb*emn_GaP+yb*emn_AlP
end_function
$
mass_l_bar value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1_GaP=4.20;
g1_InP=5.0 ;
g1_AlP=3.47;
g1_InP*(1-xw-yw)+xw*g1_GaP+yw*g1_AlP
end_function
$
gamma1_bar variation=function
function(xb,yb)
g1_GaP=4.20;
g1_InP=5.0 ;
g1_AlP=3.47;
g1_InP*(1-xb-yb)+xb*g1_GaP+yb*g1_AlP
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2_GaP=0.98;
g2_InP=1.5 ;
g2_AlP=0.06;
g2_InP*(1-xw-yw)+xw*g2_GaP+yw*g2_AlP
end_function
$
gamma2_bar variation=function
function(xb,yb)
g2_GaP=0.98;
g2_InP=1.5 ;
g2_AlP=0.06;
g2_InP*(1-xb-yb)+xb*g2_GaP+yb*g2_AlP
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3_InP=2.76;
g3_GaP=1.66;
g3_AlP=1.15;
g3_InP*(1-xw-yw)+xw*g3_GaP+yw*g3_AlP
end_function
$
gamma3_bar variation=function
function(xb,yb)
g3_InP=2.76;
g3_GaP=1.66;
g3_AlP=1.15;
g3_InP*(1-xb-yb)+xb*g3_GaP+yb*g3_AlP
end_function
$
a_well  variation=function 
function(xw,yw)
a_InP=-6.35 ;
a_GaP=-9.3 ;
a_AlP=-8; 
a_InP*(1-xw-yw)+xw*a_GaP+yw*a_AlP
end_function
$
a_bar variation=function
function(xb,yb)
a_InP=-6.35 ;
a_GaP=-9.3 ;
a_AlP=-8; 
a_InP*(1-xb-yb)+xb*a_GaP+yb*a_AlP
end_function
$
b_well  variation=function 
function(xw,yw)
b_InP=-2.0 ;
b_GaP=-1.8 ;
b_AlP=-2 ;         
b_InP*(1-xw-yw)+xw*b_GaP+yw*b_AlP
end_function
$
b_bar variation=function
function(xb,yb)
b_InP=-2.0 ;
b_GaP=-1.8 ;
b_AlP=-2 ;         
b_InP*(1-xb-yb)+xb*b_GaP+yb*b_AlP
end_function
$
c11_well  variation=function 
function(xw,yw)
c11_InP=10.11 ;
c11_GaP=14.11 ;
c11_AlP=13.2 ;
c11_InP*(1-xw-yw)+xw*c11_GaP+yw*c11_AlP
end_function
$
c11_bar variation=function
function(xb,yb)
c11_InP=10.11 ;
c11_GaP=14.11 ;
c11_AlP=13.2 ;
c11_InP*(1-xb-yb)+xb*c11_GaP+yb*c11_AlP
end_function
$
c12_well  variation=function 
function(xw,yw)
c12_InP=5.61 ;
c12_GaP=6.398 ;
c12_AlP=6.30 ;
c12_InP*(1-xw-yw)+xw*c12_GaP+yw*c12_AlP
end_function
$
c12_bar variation=function
function(xb,yb)
c12_InP=5.61 ;
c12_GaP=6.398 ;
c12_AlP=6.30 ;
c12_InP*(1-xb-yb)+xb*c12_GaP+yb*c12_AlP
end_function

kane_para_f_well variation=function
function(xw,yw)
InP=-1.31;
GaP=-2.04;
AlP=-0.65;
InP*(1-xw-yw)+GaP*xw+AlP*yw
end_function

kane_para_f_bar variation=function
function(xb,yb)
InP=-1.31;
GaP=-2.04;
AlP=-0.65;
InP*(1-xb-yb)+GaP*xb+AlP*yb
end_function

lattice_constant value=5.65325
end_active_layer InGaAlP/GaAs_2010Mar
$ **************************************************************
$
$  Complex Active layer macro of strained well/barrier of
$  In(1-xw-yw)Ga(xw)Al(yw)P Grown on material lattice matched to GaAs
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law.
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)P)(z)+(In(1-y1)Al(y1)P)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$ Please note the minus sign for Bowing coefficient.
$
$ Ref: A.A. Mbaye and C. Verie, "Electronic structure of
$      trimetallic III-V alloys:  The Al(1-x-z)Ga(x)In(z)P system",
$      Phys. Rev. B, vol 29, No. 6, pp. 3756-3758, 1984.
$
$   Modified/contributed  May 1996   Stefan Mohrdiek
$ Typical use:
$   get_active_layer name=InGaAlP/GaAs mater=#m &&
$     var1=#xw var2=#yw var_symbol1=xw var_symbol2=yw
$  Repeated use of the above together with repeated use of
$   active_reg will allow the construction of complex active region.
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600]
$ ***************************************************************
begin_active_layer cx-InGaAlP/GaAs
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1
$
$ direct gap is used here.
$
eg0_well variation=function
function(xw,yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347;
E_GaP=2.780;
E_AlP=3.62;
K_InGaP=0.69;
K_InAlP=0.4;
K_GaAlP=0.01;
Linear=E_InP*(1-xw-yw)+xw*E_GaP+yw*E_AlP;
Bowing=(1-xw-yw)*xw*K_InGaP+(1-xw-yw)*yw*K_InAlP+xw*yw*K_GaAlP;
Linear-Bowing+shift-shift0
end_function
$
$
lband_well value=0.28
$
$
band_offset value=0.5
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)P)(z)+(In(1-y1)Al(y1)P)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$  Compressive strain is negative:
$
strain_well variation=function
function(xw,yw)
a0_InP=5.8688 ;
a0_GaP=5.45052 ;
a0_AlP=5.46354 ;
a0_GaAs=5.65325 ;
axy=a0_InP*(1-xw-yw)+xw*a0_GaP+yw*a0_AlP;
(a0_GaAs-axy)/axy
end_function
$
$
$
delta_so_well variation=function
function(xw,yw)
del_InP=0.10 ;
del_GaP=0.08 ;
del_AlP=0.01 ;
del_InP*(1-xw-yw)+xw*del_GaP+yw*del_AlP
end_function
$
$
mass_gamma_well variation=function
function(xw,yw)
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-xw-yw)+xw*emn_GaP+yw*emn_AlP
end_function
$
mass_l_well value=0.56
$
$
gamma1_well  variation=function
function(xw,yw)
g1_GaP=4.20;
g1_InP=5.0 ;
g1_AlP=3.47;
g1_InP*(1-xw-yw)+xw*g1_GaP+yw*g1_AlP
end_function
$
$
gamma2_well  variation=function
function(xw,yw)
g2_GaP=0.98;
g2_InP=1.5 ;
g2_AlP=0.06;
g2_InP*(1-xw-yw)+xw*g2_GaP+yw*g2_AlP
end_function
$
$
gamma3_well  variation=function
function(xw,yw)
g3_InP=2.76;
g3_GaP=1.66;
g3_AlP=1.15;
g3_InP*(1-xw-yw)+xw*g3_GaP+yw*g3_AlP
end_function
$
$
a_well  variation=function
function(xw,yw)
a_InP=-6.35 ;
a_GaP=-9.3 ;
a_AlP=-8;
a_InP*(1-xw-yw)+xw*a_GaP+yw*a_AlP
end_function
$
$
b_well  variation=function
function(xw,yw)
b_InP=-2.0 ;
b_GaP=-1.8 ;
b_AlP=-2 ;
b_InP*(1-xw-yw)+xw*b_GaP+yw*b_AlP
end_function
$
$
c11_well  variation=function
function(xw,yw)
c11_InP=10.11 ;
c11_GaP=14.11 ;
c11_AlP=13.2 ;
c11_InP*(1-xw-yw)+xw*c11_GaP+yw*c11_AlP
end_function
$
$
c12_well  variation=function
function(xw,yw)
c12_InP=5.61 ;
c12_GaP=6.398 ;
c12_AlP=6.30 ;
c12_InP*(1-xw-yw)+xw*c12_GaP+yw*c12_AlP
end_function
$

kane_para_f_well variation=function
function(xw,yw)
InP=-1.31;
GaP=-2.04;
AlP=-0.65;
InP*(1-xw-yw)+GaP*xw+AlP*yw
end_function

lattice_constant value=5.65325
end_active_layer cx-InGaAlP/GaAs
$**********************************************************
$ macro c_gan
$ Bulk Cubic GaN parameters       
$ [free-style]
$ Contributor: Khalid Shahzad 
$ Typical use:
$   load_macro name=c_gan mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ *********************************************
begin_macro c_gan 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=9.5
electron_mass value=0.15
$m=0.2 for hexagonal
hole_mass value=0.8
band_gap value=3.2397
$band_gap value=3.2
$Eg=3.39 for hexagonal
affinity value=3.967

electron_mobility variation=function 
function(total_doping)
mu_max=100.d-4;
mu_min=0.d0;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=10.d-4;
mu_min=0.d0;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=50.e-12
lifetime_p value=500.e-12
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index  value=2.57
$ 2.57 at 400nm 
$ 2.67 at 367nm 
absorption value=0.
end_macro c_gan   
$**********************************************
$ macro c_aln 
$ Bulk Cubic AlN parameters       
$ [free-style]
$ Contributor: Khalid Shahzad 
$ Typical use:
$   load_macro name=c_aln mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ *********************************************
begin_macro c_aln 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=8.5
electron_mass value=0.21
hole_mass value=0.8
band_gap value=4.8407
$band_gap value=5.11
$Eg=6.2 for hexagonal
affinity value=2.0

electron_mobility variation=function 
function(total_doping)
mu_max=100.d-4;
mu_min=0.d0;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=10.d-4;
mu_min=0.d0;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=50.d-12
lifetime_p value=500.d-12
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index  value=2.15
absorption value=0.
end_macro c_aln   
$**********************************************
$ macro c_inn 
$ Bulk Cubic InN parameters       
$ [free-style]
$ Contributor: Khalid Shahzad 
$ Typical use:
$   load_macro name=c_inn mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ *********************************************
begin_macro c_inn 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=8.5
electron_mass value=0.14
$m=0.11 for hexagonal
hole_mass value=0.8
band_gap value=0.7111
$band_gap value=2.2
$Eg=1.89 for hexagonal
affinity value=5.017

electron_mobility variation=function 
function(total_doping)
mu_max=100.d-4;
mu_min=0.d0;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=10.d-4;
mu_min=0.d0;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=50.d-12
lifetime_p value=500.d-12
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index  value=2.9
absorption value=0.
end_macro c_inn   
$**********************************************
$ macro c_ingan 
$ [free-style]
$ Cubic In(x)Ga(1-x)N parameters       
$ Contributor: Khalid Shahzad 
$ Typical use:
$   load_macro name=c_ingan var_symbol1=x var1=#x mater=#m
$ parameter_range x=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ *********************************************
begin_macro c_ingan 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=8.5
electron_mass variation=function
function(x)
gan=.15;
inn=.14;
x * inn + (1-x) * gan
end_function
hole_mass value=0.8
band_gap variation=function
function(x)
gan=3.2397;
inn=0.7111;
$gan=3.2;
$inn=2.2;
x * inn + (1-x) * gan
end_function
affinity variation=function
function(x)
gan=3.2397;
inn=0.7111;
$gan=3.2;
$inn=2.2;
aff=3.967;
$ affinity of GaN
ign = x * inn + (1-x) * gan;
aff + (gan - ign) * 0.7
$ 70/30 offset between GaN and InN
end_function

electron_mobility variation=function 
function(total_doping)
mu_max=100.d-4;
mu_min=0.d0;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=10.d-4;
mu_min=0.d0;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=50.d-12
lifetime_p value=500.d-12
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index variation=function
function(x)
gan=2.57;
inn=2.9;
x * inn + (1-x) * gan
end_function
absorption value=0.
end_macro c_ingan   
$**********************************************
$ macro c_algan 
$ [free-style]
$ Bulk Cubic Al(x)Ga(1-x)N parameters       
$ Contributor: Khalid Shahzad 
$ Typical use:
$   load_macro name=c_algan var_symbol1=x var1=#x mater=#m
$ parameter_range x=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ *********************************************
begin_macro c_algan 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=8.5
electron_mass variation=function
function(x)
gan=.15;
aln=.21;
x * aln + (1-x) * gan
end_function
hole_mass value=0.8
band_gap variation=function
function(x)
gan=3.2397;
aln=4.8407;
$gan=3.2;
$aln=5.11;
x * aln + (1-x) * gan
end_function
affinity variation=function
function(x)
gan=3.2397;
aln=4.8407;
$gan=3.2;
$aln=5.11;
aff=2.0;
$ affinity of AlN
agn = x * aln + (1-x) * gan;
aff + (aln - agn) * 0.7
$ 70/30 offset between GaN and AlN
end_function

electron_mobility variation=function 
function(total_doping)
mu_max=0.01;
mu_min=0.d0;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=1.d-3;
mu_min=0.d0;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-9
lifetime_p value=10.e-9
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index variation=function
function(x)
c0=2.72;
c1=-2.16828;
c2=6.82232;
c3=-11.1526;
$ at 370nm 
c3 * x*x*x + c2 * x*x + c1 * x + c0
end_function
absorption value=0.
end_macro c_algan   
$*********************************************************
$**********************************************************
$ macro h_sic 
$ Bulk Hexagonal SiC parameters       
$ [free-style]
$ Contributor: Khalid Shahzad 
$ Typical use:
$   load_macro name=h_sic mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ *********************************************
begin_macro h_sic
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=9.7
electron_mass value=0.15
hole_mass value=0.8
band_gap value=2.9
affinity value=3.967

$ Assume same as GaN

electron_mobility variation=function 
function(total_doping)
mu_max=1000.d-4;
mu_min=0.d0;
ref_dens=1.69d23;
alpha=0.436 ;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=40.d-4;
mu_min=0.d0;
alpha=0.4;
ref_dens=2.75d23;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


alpha_p value=0.395
beta_n value=2.
electron_sat_vel value=1.d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-9
lifetime_p value=1.e-9
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index  value=3.0
$ Guess at 370nm
absorption value=0.
end_macro h_sic
$ **************************************************************
$
$  Active layer macro for bulk In(1-x-y)Ga(x)Al(y)P system 
$  lattice matched to GaAs.
$  [free-style]
$
$  Lattice Matching Condition:
$
$  a0_InP*(1-x-y)+x*a0_GaP+y*a0_AlP=a0_GaAs
$  (a0_InP -a0_GaP)*x= (a0_InP -a0_GaAs) -(a0_InP -a0_AlP)*y
$
$     x=A-B*y
$     A=(a0_InP -a0_GaAs)/(a0_InP -a0_GaP)=0.5153244
$     B=(a0_InP -a0_AlP)/(a0_InP -a0_GaP)=0.9688724    
$  or
$     x=0.51532-0.96887*y
$
$  Conversion to In(1-Y){Ga(1-X)Al(X)}(Y)P:
$
$  Using   y=X*Y,   x=Y*(1-X),  we get Y*(1-X)=A-B*X*Y => (B-1)*X*Y=A-Y
$  Since (B-1) is small, Y=A approximately.
$  Using Y=0.5 X=0.2 we get the following correction:
$  -0.03*0.1=A-Y => Y=0.515+0.003=0.518 => Y=0.52
$
$  Thus, the lattice matching formula can be written as
$
$    In(0.48){Ga(1-X)Al(X)}(0.52)P:
$
$  To use our macro here, Convert X to y using:
$
$    y=0.52*X
$
$ Typical use:
$   get_active_layer name=InGaAlP  mater=#m &&
$     var1=#yw var_symbol1=yw 
$
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAlP
layer_type type=bulk valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ direct gap is used here.
$
eg0_well variation=function
function(yw,temper)
xw=0.51532-0.96887*yw ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-xw-yw)+xw*E_GaP+yw*E_AlP;
Bowing=(1-xw-yw)*xw*K_InGaP+(1-xw-yw)*yw*K_InAlP+xw*yw*K_GaAlP;
Linear-Bowing+shift-shift0
end_function
$
$
lband_well value=0.28
$
$
delta_so_well variation=function 
function(yw)
xw=0.51532-0.96887*yw ;
del_InP=0.10 ;
del_GaP=0.08 ;
del_AlP=0.01 ;
del_InP*(1-xw-yw)+xw*del_GaP+yw*del_AlP
end_function
$
$
mass_gamma_well variation=function 
function(yw)
xw=0.51532-0.96887*yw ;
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-xw-yw)+xw*emn_GaP+yw*emn_AlP
end_function
$
mass_l_well value=0.56
$
$
gamma1_well  variation=function 
function(yw)
xw=0.51532-1.0832*yw ;
g1_GaP=4.20;
g1_InP=5.0 ;
g1_AlP=3.47;
g1_InP*(1-xw-yw)+xw*g1_GaP+yw*g1_AlP
end_function
$
$
gamma2_well  variation=function 
function(yw)
xw=0.51532-0.96887*yw ;
g2_GaP=0.98;
g2_InP=1.5 ;
g2_AlP=0.06;
g2_InP*(1-xw-yw)+xw*g2_GaP+yw*g2_AlP
end_function
$
$
gamma3_well  variation=function 
function(yw)
xw=0.51532-0.96887*yw ;
g3_InP=2.76;
g3_GaP=1.66;
g3_AlP=1.15;
g3_InP*(1-xw-yw)+xw*g3_GaP+yw*g3_AlP
end_function
$
kane_para_f_well variation=function
function(yw)
xw=0.51532-0.96887*yw;
InP=-1.31;
GaP=-2.04;
AlP=-0.65;
InP*(1-xw-yw)+GaP*xw+AlP*yw
end_function
$
lattice_constant value=5.65325
end_active_layer InGaAlP
$*********************************************************
$ macro : InGaAsP/InGaAlAs-InP
$  Active layer macro for quantum well system of 
$  strained well of In(1-xw)Ga(xw)As(yw)P(1-yw) with
$  strained barrier of In(1-xb-yb)Ga(xb)Al(yb)As
$  grown on material lattice matched to InP.
$  [free-style]
$
$  Please note that we use the following info to construct
$  the macro: For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to InP if x and y is related by
$  x=0.1894*y/( 0.4184-0.013*y )
$  
$  The band gap of lattice matched InGaAsP is given by 
$  E_g=1.347- 0.778*y + 0.149*y**2 
$
$
$ Typical use:
$   get_active_layer name=InGaAsP/InGaAlAs-InP mater=#m &&
$     var1=#xw var2=#yw var3=#xb var4=#yb &&
$     var_symbol1=xw var_symbol2=yw var_symbol3=xb var_symbol4=yb
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range yb=[0 1]
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_active_layer InGaAsP/InGaAlAs-InP
$
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ Use of interpolation to get the bandgap from
$ ternaries.
ext_func1 variation=function 
function(xw,yw,temper)
for 0.<xw+yw<1.e-6
1.347
for 1.e-6<xw+yw<2.
fabd=1.347+0.643*xw+0.786*xw*xw ;
fabc=0.36+0.505*xw+0.555*xw*xw ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xw*(1.-xw)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xw)*facd+xw*fbcd ) ;
term3=xw*(1.-xw)+yw*(1.-yw) ;
(term1+term2)/term3
end_function
$
$ Interpolated bandgap at the lattice matched line
$    
$ext_func3 variation=function 
$function(xw,yw,temper)
$for 0.<xw+yw<1.e-6
$1.347
$for 1.e-6<xw+yw<2.
$xm=0.1894*yw/(0.4184-0.013*yw) ;
$fabd=1.347+0.643*xm+0.786*xm*xm ;
$fabc=0.36+0.505*xm+0.555*xm*xm ;
$facd=1.347-1.083*yw+0.091*yw*yw ;
$fbcd=2.74-1.473*yw+0.146*yw*yw ;
$term1=xm*(1.-xm)* ( (1.-yw)*fabd+yw*fabc ) ;
$term2=yw*(1.-yw)*( (1.-xm)*facd+xm*fbcd ) ;
$term3=xm*(1.-xm)+yw*(1.-yw) ;
$(term1+term2)/term3
$end_function
$ modified jul05
ext_func3 variation=function 
function(xw,yw,temper)
for 0.<yw<1.e-6
1.347
for else
xm=0.1894*yw/(0.4184-0.013*yw) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xm*(1.-xm)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yw*(1.-yw) ;
(term1+term2)/term3
end_function
$
$ Unstrained well bandgap with correction term
$   so that it equals the unstrained bandgap at
$   the lattice matched line.
$
eg0_well variation=function 
function(xw,yw,temper)
for 0.<xw<0.1894*yw/(0.4184-0.013*yw) 
xm=0.1894*yw/(0.4184-0.013*yw) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
fact=xw/(xm+1.e-6) ;
eg0=1.347- 0.778*yw + 0.149*yw**2 ;
ext_func1+fact*(eg0-ext_func3)+shift-shift0
for 0.1894*yw/(0.4184-0.013*yw)<xw<1.
xm=0.1894*yw/(0.4184-0.013*yw) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
fact=(1.-xw)/(1.-xm) ;
eg0=1.347- 0.778*yw + 0.149*yw**2 ;
ext_func1+fact*(eg0-ext_func3)+shift-shift0
end_function
$
$
eg0_bar variation=function 
function(xb,yb,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*xb+2.093*yb ;
term2=0.436*xb**2 +0.577*yb**2+1.013*xb*yb ;
term1+term2+shift-shift0
end_function
$
$
lband_well variation=function 
function(xw,yw)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$
lband_bar value=0.28
$
band_offset value=0.72
$
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,yw,temper)
a0ip=5.8688 ;
acomp=0.013*xw*yw-0.4184*xw+0.1894*yw+a0ip ;
(a0ip-acomp)/a0ip
end_function
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)As)(z)(In(1-y1)Al(y1)As)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
strain_bar variation=function 
function(xb,yb,temper)
a0gaas=5.65325 ;
a0alas=5.6605 ;
a0inas=6.05840 ;
a0inp=5.8688 ;
axy=a0inas+xb*(a0gaas-a0inas)+yb*(a0alas-a0inas) ;
(a0inp-axy)/axy
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
$
delta_so_bar  variation=function
function(xb,yb)
delal=0.279 ;
delga=0.34 ;
delin=0.43 ;
xb*(delga-delin)+yb*(delal-delin)+delin
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
mass_gamma_bar variation=function 
function(xb,yb)
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
xb*(emnga-emnin)+yb*(emnal-emnin)+emnin
end_function
$
mass_l_bar value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3ga=2.9 ;
g3gp=1.25 ;
g3in=9.1 ;
g3ip=2.0 ;
term1=(1.-xw)*yw*g3in+(1.-xw)*(1.-yw)*g3ip ;
term2=xw*yw*g3ga+xw*(1.-yw)*g3gp ;
term1+term2
end_function
$
a_well  variation=function 
function(xw,yw)
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xw)*yw*dhin+(1.-xw)*(1.-yw)*dhip ;
term2=xw*yw*dhga+xw*(1.-yw)*dhgp ;
term1+term2
end_function
$
b_well  variation=function 
function(xw,yw)
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xw)*yw*duin+(1.-xw)*(1.-yw)*duip ;
term2=xw*yw*duga+xw*(1.-yw)*dugp ;
term1+term2
end_function
$
c11_well  variation=function 
function(xw,yw)
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xw)*yw*c11in+(1.-xw)*(1.-yw)*c11ip ;
term2=xw*yw*c11ga+xw*(1.-yw)*c11gp ;
term1+term2
end_function
$
c12_well  variation=function 
function(xw,yw)
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xw)*yw*c12in+(1.-xw)*(1.-yw)*c12ip ;
term2=xw*yw*c12ga+xw*(1.-yw)*c12gp ;
term1+term2
end_function
$
gamma1_bar variation=function
function(xb,yb)
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
xb*(g1ga-g1in)+yb*(g1al-g1in)+g1in
end_function
$
gamma2_bar variation=function
function(xb,yb)
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
xb*(g2ga-g2in)+yb*(g2al-g2in)+g2in
end_function
$
gamma3_bar variation=function
function(xb,yb)
g3al=1.29 ;
g3ga=2.9 ;
g3in=9.3 ;
xb*(g3ga-g3in)+yb*(g3al-g3in)+g3in
end_function
$
a_bar variation=function
function(xb,yb)
dhal=-9.8 ;
dhga=-9.8 ;
dhin=-5.0 ;
xb*(dhga-dhin)+yb*(dhal-dhin)+dhin
end_function
$
b_bar variation=function
function(xb,yb)
dual=-1.76 ;
duga=-1.76 ;
duin=-1.8 ;
xb*(duga-duin)+yb*(dual-duin)+duin
end_function
$
c11_bar variation=function
function(xb,yb)
c11al=12.02 ;
c11ga=11.9 ;
c11in=8.33 ;
xb*(c11ga-c11in)+yb*(c11al-c11in)+c11in
end_function
$
c12_bar variation=function
function(xb,yb)
c12al=5.70 ;
c12ga=5.38 ;
c12in=4.53 ;
xb*(c12ga-c12in)+yb*(c12al-c12in)+c12in
end_function

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function

kane_para_f_bar variation=function
function(xb,yb)
InAs=-2.9; GaAs=-1.94; AlAs=-0.48;
InAs*(1-xb-yb)+GaAs*xb+AlAs*yb
end_function

$
$ The base lattice constant
lattice_constant value=5.8688
$
end_active_layer InGaAsP/InGaAlAs-InP
$ ***********************************************
$ macro : gasb
$ Bulk GaSb 
$ [free-style]
$ Typical use:
$   load_macro name=gasb mater=#m
$
$ Contributor: Yet-zen Liu
$ Key refernces for GaSb/AlAsSb system:
$ [1] R.A. Kiehl, and T.C.L. Gerhard Sollner, "High speed 
$     heterojuction devices," Semiconductors and Semimetals, 
$     vol 41, p231,  Academy Press. 
$ [2] Tiwari and Frank, APL, vol 60, page 631 (1992).
$
$ lattice constant=6.09593 A
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************
begin_macro gasb  
$
$ Use the same type of velocity model as GaAs
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant   value=14.8
electron_mass  value=0.042
$
$ VMR-paper: gamma1=13.4 gamma2=4.7 gamma3=6.0
$ ==> holemass=0.262
$
$hole_mass  value=0.4116566    
hole_mass  value=0.262
band_gap  value=0.725
affinity  value=4.06
$
$
$ Electron hall mobility was report to be 0.25 m^2/V/s by
$ Mathur, P. C. and S. Jain, Phys. Rev. B19, 6 (1979) 3159-3166. 
$ at low doping.
$
electron_mobility variation=function 
function(total_doping)
mu_max=0.25;
mu_min=0.;
ref_dens=2.d23;
alpha=0.5;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
$ Hole mobility was reported to be around 0.1 m^2/V/s by
$ Johnson, G. R., B. C. Cavenett, and T. M. Kerr, 
$ Semicond. Sci. Technol. 3, (1988) 1157-1165
$
$
hole_mobility variation=function 
function(total_doping)
mu_max=0.1;
mu_min=0.;
ref_dens=1.d22;
alpha=0.5;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n  value=2.
electron_sat_vel  value=1.d5
beta_p  value=1.
hole_sat_vel  value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb value=2.d-16
auger_n value=3.d-41
auger_p value=3.d-41
real_index value=3.9731 
absorption value=0.
thermal_kappa value=50.
end_macro gasb
$ ***********************************************
$ macro : inas
$ Bulk InAs
$ [free-style]
$ Typical use:
$   load_macro name=inas mater=#m
$
$ Parameters taken from http://www.ioffe.ru/SVA/NSM/Semicond
$ and references therein.
$
$ lattice constant=6.0583 A
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************
begin_macro inas
$
$ Use the same type of velocity model as GaAs
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant   value=15.15
electron_mass  value=0.023
hole_mass variation=function
function(temper)
m_hh=0.41;m_lh=0.026;
( m_hh**(3/2)+m_lh**(3/2)  ) ** (2 / 3)
end_function
band_gap variation=function 
function(temper)
0.415-2.76e-4*temper**2/(temper+83.)
end_function
$ affinity is a fitted parameter here
$affinity  value=4.9
affinity  value=5.7
$
$
electron_mobility variation=function 
function(total_doping)
mu_max=3.;
mu_min=1.;
ref_dens=2.d23;
alpha=0.6;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
$
hole_mobility variation=function 
function(total_doping)
mu_max=0.1;
mu_min=0.;
ref_dens=1.d23;
alpha=0.6;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n  value=2.
electron_sat_vel  value=1.d5
beta_p  value=1.
hole_sat_vel  value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb value=2.d-16
auger_n value=3.d-41
auger_p value=3.d-41
real_index value=3.9731 
absorption value=0.
thermal_kappa value=2.7
end_macro inas
$ *******************************************
$ macro : alassb
$ Bulk AlAs(x)Sb(1-x)
$ [free-style]
$ Typical use:
$   load_macro name=alassb var1=#x mater=#m var_symbol1=x
$ Contributor: Yet-zen Liu
$ Key refernces for GaSb/AlAsSb system:
$ [1] R.A. Kiehl, and T.C.L. Gerhard Sollner, "High speed 
$     heterojuction devices," Semiconductors and Semimetals, 
$     vol 41, p231,  Academy Press. 
$ [2] Tiwari and Frank, APL, vol 60, page 631 (1992).
$
$ parameter_range x=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
begin_macro alassb 
$
$ Use the same type of velocity model as GaAs
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
diel_alsb=10.3;
diel_alas=10.1;
diel_alsb+(diel_alas-diel_alsb)*x
end_function
$
electron_mass variation=function 
function(x)
ems_alsb=0.23;
ems_alas=0.15;
ems_alsb+(ems_alas-ems_alsb)*x
end_function
$
hole_mass  variation=function 
function(x)
mvhh_alsb=0.728;
mvlh_alsb=0.14; 
g1_alas=3.45 ;
g2_alas=0.68 ;
mvhh_alas=1./(g1_alas-2.*g2_alas) ;
mvlh_alas=1./(g1_alas+2.*g2_alas) ;
mvhh0=mvhh_alsb+(mvhh_alas-mvhh_alsb)*x;
mvlh0=mvlh_alsb+(mvlh_alas-mvlh_alsb)*x;
( mvhh0**(3/2)+mvlh0**(3/2) )**(2/3)
end_function
$
band_gap variation=function 
function(x)
eg_AlSb=2.3;
eg_AlAs=3.0;
eg_AlSb+(eg_AlAs-eg_AlSb)*x
end_function
$
affinity variation=function
function(x)
af_AlSb=3.65;
af_AlAs=3.5;
af_AlSb+(af_AlAs-af_AlSb)*x
end_function
$
electron_mobility variation=function 
function(x,total_doping)
un_AlSb=0.020;
un_AlAs=0.029;
mu_max=un_AlSb+(un_AlAs-un_AlAs)*x;
mu_min=0.;
ref_dens=2.1d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
hole_mobility variation=function 
function(x,total_doping)
up_AlSb=0.04;
up_AlAs=0.0767;
mu_max=up_AlSb+(up_AlAs-up_AlAs)*x;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n value=1.d-41
auger_p value=1.d-41
real_index variation=function 
function(x)
ind_AlAs=3.006;
ind_AlSb=3.2961;
ind_AlSb+(ind_AlAs-ind_AlAs)*x
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
end_macro alassb
$ ***********************************************
$ macro : algaassb 
$ Bulk Al(1-x)Ga(x)As(y)Sb(1-y)
$ [free-style]
$ May be regarded as linear combination of
$ GaAs(xy)+AlSb(1-x)(1-y)+AlAs((1-x)y)+GaSb(x(1-y))
$ Typical use:
$   load_macro name=algaassb var1=#x var2=#y mater=#m &&
$   var_symbol1=x var_symbol2=y
$ Contributor: Yet-zen Liu
$ Revised 2005 (Ken U.)
$
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$*********************************************************
begin_macro algaassb  
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
$
dielectric_constant variation=function 
function(x,y)
GaAs=13.1;
GaSb=14.8;
AlSb=10.3;
AlAs=10.1;
GaAs*x*y+AlSb*(1-x)*(1-y)+AlAs*(1-x)*y+GaSb*x*(1-y)
end_function
$
electron_mass variation=function 
function(x,y)
GaAs=0.067;
GaSb=0.042;
AlSb=0.23;
AlAs=0.15;
GaAs*x*y+AlSb*(1-x)*(1-y)+AlAs*(1-x)*y+GaSb*x*(1-y)
end_function
$
hole_mass variation=function 
function(x,y)
GaAs=0.642;
$GaSb=0.4116566;    
GaSb=0.262;    
mvhh_alsb=0.728;
mvlh_alsb=0.14; 
AlSb=( mvhh_alsb**(3/2)+mvlh_alsb**(3/2) )**(2/3);
g1_alas=3.45 ;
g2_alas=0.68 ;
mvhh_alas=1./(g1_alas-2.*g2_alas) ;
mvlh_alas=1./(g1_alas+2.*g2_alas) ;
AlAs=( mvhh_alas**(3/2)+mvlh_alas**(3/2) )**(2/3);
GaAs*x*y+AlSb*(1-x)*(1-y)+AlAs*(1-x)*y+GaSb*x*(1-y)
end_function
$
band_gap variation=function 
function(x,y)
GaAs=1.424;
GaSb=0.725;
AlSb=2.3;
AlAs=3.0;
GaAs*x*y+AlSb*(1-x)*(1-y)+AlAs*(1-x)*y+GaSb*x*(1-y)
end_function
$
affinity variation=function 
function(x,y)
GaAs=4.07;
GaSb=4.06;
AlSb=3.65;
AlAs=3.5;
GaAs*x*y+AlSb*(1-x)*(1-y)+AlAs*(1-x)*y+GaSb*x*(1-y)
end_function
$
$
electron_mobility variation=function 
function(x,y,total_doping)
GaAs=0.85;
GaSb=0.22;
AlSb=0.020;
AlAs=0.029;
mu_max=GaAs*x*y+AlSb*(1-x)*(1-y)+AlAs*(1-x)*y+GaSb*x*(1-y);
mu_min=0.;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
hole_mobility variation=function 
function(x,y,total_doping)
GaAs=0.04;
GaSb=0.1;
AlSb=0.04;
AlAs=0.0767;
mu_max=GaAs*x*y+AlSb*(1-x)*(1-y)+AlAs*(1-x)*y+GaSb*x*(1-y);
mu_min=0.;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.0d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-7
lifetime_p value=1.e-7
radiative_recomb  value=2.d-16
auger_n value=1.d-41
auger_p value=1.d-41
real_index variation=function 
function(x,y)
GaAs=3.65;
GaSb=3.9731; 
AlAs=3.006;
AlSb=3.2961;
GaAs*x*y+AlSb*(1-x)*(1-y)+AlAs*(1-x)*y+GaSb*x*(1-y)
end_function
$
absorption value=0.
thermal_kappa value=46.
$ specific heat (J/kg/K)
spec_heat value=330
$ mass density  (Kg/m^3)
mass_density value=5320
end_macro algaassb 


$ **************************************************************
$ macro for bulk 
$ In(x)Ga(y)Al(1-x-y)P(z)Sb(1-z)
$  [free-style]
$
$  This macro combines macro ingaalp_xyzt and macros of insb, gasb and  
$   alassb.  Please see references therein.
$ 
$ Typical use:
$   load_macro name=ingaalpsb_xyz var1=#x var2=#y var3=#z mater=#m &&
$   var_symbol1=x var_symbol2=y var_symbol3=z 
$ -------------------------------------------------------------------
$ Basic theory:
$this is is regarded as two independent material merging into each other:
$In(x) Ga(y) Al(1-x-y) and P(z) Sb(1-z)
$For any physical quantity Q, this is taken as linear combination of 
$Q(x,y,z)= z*x*Q_InP   +  z*y * Q_GaP + z*(1-x-y)*Q_AlP
$(1-z)*x Q_InSb  +  (1-z)*y*Q_GaSb + (1-z)*(1-x-y) Q_AlSb  
$ Bowing coefficients may be used to correct the above.
$
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range z=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$
$ ***************************************************************
begin_macro ingaalpsb
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
$
dielectric_constant variation=function 
function(x,y,z)
diel_InP=12.56;
diel_GaP=11.1;
diel_AlP=9.8;
diel_InSb=16.8;
diel_GaSb=14.8;
diel_AlSb=10.3;
z*x*diel_InP   +  z*y * diel_GaP + z*(1-x-y)*diel_AlP
+(1-z)*x *diel_InSb  +  (1-z)*y*diel_GaSb + (1-z)*(1-x-y)*diel_AlSb  
end_function
$
electron_mass variation=function 
function(x,y,z)
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InSb=0.0135;
emn_GaSb=0.042;
emn_AlSb=0.23;
z*x*emn_InP   +  z*y * emn_GaP + z*(1-x-y)*emn_AlP
+(1-z)*x *emn_InSb  +  (1-z)*y*emn_GaSb + (1-z)*(1-x-y)*emn_AlSb  
end_function
$
hole_mass  variation=function 
function(x,y,z)
g1_GaP=4.20;
g2_GaP=0.98;
emvhh_GaP=1/(g1_GaP-2.*g2_GaP) ;
emvlh_GaP=1/(g1_GaP+2.*g2_GaP) ;
hm_GaP=( emvhh_GaP**(3/2)+emvlh_GaP**(3/2) )**(2/3);
hm_InP=0.588;
g1_AlP=3.47;
g2_AlP=0.06;
emvhh_AlP=1/(g1_AlP-2.*g2_AlP) ;
emvlh_AlP=1/(g1_AlP+2.*g2_AlP) ;
hm_AlP=( emvhh_AlP**(3/2)+emvlh_AlP**(3/2) )**(2/3);
hm_InSb=0.266;
hm_GaSb=0.262;
mvhh_alsb=0.728;
mvlh_alsb=0.14; 
hm_AlSb=( mvhh_alsb**(3/2)+mvlh_alsb**(3/2) )**(2/3);
z*x*hm_InP   +  z*y * hm_GaP + z*(1-x-y)*hm_AlP
+(1-z)*x *hm_InSb  +  (1-z)*y*hm_GaSb + (1-z)*(1-x-y)*hm_AlSb  
end_function
$
$ this is just the bandgap
intern_func1 variation=function 
function(x,y,z,temper)
shift=-4.1e-4*temper**2/(temper+136.);
shift0=-4.1e-4*300.**2/(300.+136.);
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
E_InSb=0.235-3.2e-4 * 300**2 /(300+170);
E_GaSb=0.725;
E_AlSb=2.3;
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear1=z*x*E_InP   +  z*y * E_GaP + z*(1-x-y)*E_AlP;
Linear2=(1-z)*x *E_InSb  +  (1-z)*y*E_GaSb + (1-z)*(1-x-y)*E_AlSb;  
Bowing1=z*z*x*y*K_InGaP+z*z*x*(1-x-y)*K_InAlP+z*z*y*(1-x-y)*K_GaAlP;
Linear1+Linear2-Bowing1+shift-shift0
end_function

band_gap variation=function 
function(x,y,z,temper)
value=intern_func1(z,y,z,temper);
value
end_function
$
affinity variation=function
function(x,y,z,temper)
eg=intern_func1(x,y,z,temper);
eg0=1.425;
offset=0.5;  
4.07-offset*(eg-eg0)
end_function
$
$ at 15 deg orientation mu_n = 0.2
$ at 0  deg orientation mu_n = 0.185
$

electron_mobility variation=function 
function(total_doping)
mu_max=0.2;
mu_min=0.;
ref_dens=5.e23;
alpha=0.9;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

$
hole_mobility variation=function 
function(total_doping)
mu_max=0.22;
mu_min=0.;
ref_dens=9.6e20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.e5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.e-16
auger_n value=2.e-43
auger_p value=2.e-43
$
$ for real index, we assume that the wavelength is 2. eV
$ jk
real_index variation=function 
function(x,y,z)
ind_InP=3.54;
ind_GaP=3.40;
ind_AlP=2.87;
ind_InSb=4.; 
ind_GaSb=3.9731;
ind_AlSb=3.2961;
z*x*ind_InP   +  z*y * ind_GaP + z*(1-x-y)*ind_AlP
+(1-z)*x *ind_InSb  +  (1-z)*y*ind_GaSb + (1-z)*(1-x-y)*ind_AlSb  
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=40.
end_macro ingaalpsb

$ *******************************************
$ macro : gapsb
$ Bulk GaP(1-x)Sb(x)
$ [free-style]
$ Typical use:
$   load_macro name=gapsb var1=#x mater=#m var_symbol1=x
$
$ 08/2011 by George & Z Q Li modified from gaassb and gap
$ 
$ parameter_range x=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
**************************************************
begin_macro gapsb 
$
$ Use the same velocity model type as GaP
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta
$
dielectric_constant variation=function 
function(x)
GaP=11.1;
GaSb=14.8;
GaP*(1-x) + GaSb*x
end_function
$
electron_mass variation=function 
function(x)
GaP=0.17;
GaSb=0.039;
GaP*(1-x) + GaSb*x
end_function
$
hole_mass  variation=function 
function(x)
GaP_mhh=0.44643;
GaP_mlh=0.16234;
GaSb_mhh=0.28;
GaSb_mlh=0.05 ;
mvhh0= GaP_mhh*(1-x) + GaSb_mhh*x;
mvlh0= GaP_mlh*(1-x) + GaSb_mlh*x;
( mvhh0**(3/2)+mvlh0**(3/2) )**(2/3)
end_function
$
band_gap variation=function 
function(x)
GaP=2.78;
GaSb=0.725;
GaP*(1-x) + GaSb*x-x*(1-x)*1.43
end_function
$
affinity variation=function
function(x)
GaP=4.07;
GaSb=4.06;
GaP*(1-x) + GaSb*x
end_function
$
electron_mobility variation=function 
function(x,total_doping)
GaP=0.2;
GaSb=0.22;
mu_max=GaP*(1-x)+GaSb*x;
mu_min=0.;
ref_dens=2.1d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
hole_mobility variation=function 
function(x,total_doping)
GaP=0.22;
GaSb=0.1;
mu_max=GaP*(1-x)+GaSb*x;
mu_min=0.;
ref_dens=1.0d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
$auger_n value=1.d-41
$auger_p value=1.d-41
auger_n value=1.d-42
auger_p value=1.d-42
$
real_index variation=function 
function(x)
GaP=3.40;
GaSb=3.9731;
GaP*(1-x) + GaSb*x
end_function
$
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=40.
$
end_macro gapsb

$ **************************************************************
$  GaSb/AlAsSb
$  Active layer macro for quantum well of 
$  Strained well of GaSb with
$  Strained barrier of AlAs(x)Sb(1-x)
$  Grown on material lattice matched to InAs (a0=6.05840) 
$  [free-style]
$
$ Typical use:
$   get_active_layer name=GaSb/AlAsSb mater=#m  var1=#x &&
$     var_symbol1=x 
$ parameter_range x=[0 1]
$ ********************************************************
begin_active_layer GaSb/AlAsSb
$
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
eg0_well value=0.725
lband_well value=0.085
$  compressive strain is negative:
strain_well variation=function 
function(x)
GaSb=6.09593;
InAs=6.05840; 
(InAs-GaSb)/GaSb
end_function
delta_so_well value=.236 
mass_gamma_well value=0.042
mass_l_well value=0.56
gamma1_well value=13.3 
gamma2_well value=4.4
gamma3_well value=5.7
a_well value=-14
b_well value=-3.3
c11_well value=0.885 
c12_well value=0.404   
$
$ This is the undtrained offset in k.p thoery
$ Or it is the actual band offset in parabolic subband model.
band_offset value=0.5
$
eg0_bar variation=function 
function(x)
AlSb=2.3;
AlAs=3.0;
AlSb+(AlAs-AlSb)*x
end_function
$
lband_bar value=0.2
$
strain_bar variation=function  
function(x)
ax=5.6611*x + 6.1355*(1-x);
InAs=6.05840; 
(InAs-ax)/ax
end_function
$
$
delta_so_bar  value=0.3
$
mass_gamma_bar variation=function 
function(x)
AlSb=0.23;
AlAs=0.15;
AlSb+(AlAs-AlSb)*x
end_function
$
mass_l_bar value=0.56
$
gamma1_bar variation=function
function(x)
AlSb=4.15;
AlAs=3.45;
AlSb+(AlAs-AlSb)*x
end_function
$
gamma2_bar variation=function
function(x)
AlSb=1.01;
AlAs=0.68;
AlSb+(AlAs-AlSb)*x
end_function
$
gamma3_bar variation=function
function(x)
AlSb=1.75;
AlAs=1.29;
AlSb+(AlAs-AlSb)*x
end_function
$
a_bar variation=function
function(x)
AlSb=-3.5;
AlAs=-9.8;
AlSb+(AlAs-AlSb)*x
end_function
$
b_bar variation=function
function(x)
AlSb=-1.35;
AlAs=-1.76 ;
AlSb+(AlAs-AlSb)*x
end_function
$
c11_bar value=12.02 ;
$
c12_bar value=5.70 ;
$
lattice_constant value=6.05840 
$
end_active_layer GaSb/AlAsSb
$
$ **************************************************************
$  macro for bulk 
$  In(1-x-y)Ga(x)Al(y)P
$  Lattcie matched to GaAs.   Since x is related to y,
$  We only use y in this macro
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law
$  similar to In(1-x-y)Ga(x)Al(y)As with As replaced by P.
$  Here, InGaAlP may be regarded as the compound of
$   [In(1-xp)Ga(xp)P]z +  [In(1-yp)Al(yp)P](1-z)  
$  =[InP(1-xp)+GaP(xp)]z +  [InP(1-yp)+AlP(yp)](1-z)  
$  =InP(1-xp)z+GaP(xp)z +  InP(1-yp)(1-z)+AlP(yp)(1-z)  
$  =InP(z-xp*z+1-z-yp(1-z))+GaP(xp)z + AlP(yp)(1-z)  
$  =InP(1-xp*z-yp(1-z))+GaP(xp)z + AlP(yp)(1-z)  
$  =InP(1-x-y)+GaP(x) + AlP(y)  
$  where x=xp*z , y=yp*(1-z)
$  In terms of binaries:
$  In(1-x-y)Ga(x)Al(y)P=InP(z-x)+GaP(x)+InP(1-z-y)+AlP(y)
$                      =InP(1-x-y)+GaP(x)+AlP(y)
$
$ Bowing parameter K is defined such that for A(x)B(1-x)C
$
$ V(x)=x*V(AC)+(1-x)*V(BC)-x*(1-x)*K(ABC)
$
$ Quaternary alloy A(1-x-y)B(x)C(y)D, bowing parameters may be used as
$
$ V(x,y)=V(AD)*(1-x-y)+V(BD)*x+V(CD)*y 
$        -[ (1-x-y)*x*K(ABD)+(1-x-y)*y*K(ACD)+x*y*K(BCD) ]
$ Please note the minus sign.
$
$ Ref: A.A. Mbaye and C. Verie, "Electronic structure of
$      trimetallic III-V alloys:  The Al(1-x-z)Ga(x)In(z)P system",
$      Phys. Rev. B, vol 29, No. 6, pp. 3756-3758, 1984.
$
$  Lattice Matching Condition:
$
$  a0_InP*(1-x-y)+x*a0_GaP+y*a0_AlP=a0_GaAs
$  (a0_InP -a0_GaP)*x= (a0_InP -a0_GaAs) -(a0_InP -a0_AlP)*y
$
$     x=A-B*y
$     A=(a0_InP -a0_GaAs)/(a0_InP -a0_GaP)=0.5153244
$     B=(a0_InP -a0_AlP)/(a0_InP -a0_GaP)=0.9688724    
$  or
$     x=0.51532-0.96887*y
$
$
$ Typical use:
$   load_macro name=ingaalp_yt  mater=#m &&
$     var1=#y var_symbol1=y 
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]

$ conversion to older Macro for In{0.5}(Ga{1-x}Al{x}){0.5}P
$ 0.5*x  --> y here
$ ***************************************************************
begin_macro ingaalp_yt
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
$
dielectric_constant variation=function 
function(y)
x=0.51532-0.96887*y;
diel_GaP=11.1;
diel_InP=12.56;
diel_AlP=9.8;
diel_InP*(1-x-y)+x*diel_GaP+y*diel_AlP 
end_function
$
electron_mass variation=function 
function(y)
x=0.51532-0.96887*y;
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-x-y)+x*emn_GaP+y*emn_AlP
end_function
$
hole_mass  variation=function 
function(y)
x=0.51532-0.96887*y;
g1_GaP=4.20;
g2_GaP=0.98;
g1_InP=5.0 ;
g2_InP=1.5 ;
g1_AlP=3.47;
g2_AlP=0.06;
g1q=g1_InP*(1-x-y)+x*g1_GaP+y*g1_AlP ;
g2q=g2_InP*(1-x-y)+x*g2_GaP+y*g2_AlP ;
emvhh=1/(g1q-2.*g2q) ;
emvlh=1/(g1q+2.*g2q) ;
( emvhh**(3/2)+emvlh**(3/2) )**(2/3)
end_function
$
$ Bandgap parameters are available from
$ A.A. Mbaye adn C. Verie, "Electronic structure of trimetallic
$ III-V alloys: The Al(1-x-z)G(x)In(z)P system," Phys. Rev. B,
$ vol. B29, pp. 3756-3758, 1984.
$
$ Direct gap is given here assuming composition is chosen such
$ that Gamma band is the lowest minima.
$
band_gap variation=function 
function(y,temper)
x=0.51532-0.96887*y;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-x-y)+x*E_GaP+y*E_AlP;
Bowing=(1-x-y)*x*K_InGaP+(1-x-y)*y*K_InAlP+x*y*K_GaAlP;
Linear-Bowing+shift-shift0
end_function
$
affinity variation=function
function(y,temper)
x=0.51532-0.96887*y;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-x-y)+x*E_GaP+y*E_AlP;
Bowing=(1-x-y)*x*K_InGaP+(1-x-y)*y*K_InAlP+x*y*K_GaAlP;
eg=Linear-Bowing+shift-shift0;
eg0=1.425;
offset=0.5;  
4.07-offset*(eg-eg0)
end_function
$
$ at 15 deg orientation, mu_n=0.2
$ at 0 deg orientation, mu_n=0.185
$
electron_mobility variation=function 
function(total_doping)
mu_max=0.2;
mu_min=0.;
ref_dens=5.d23;
alpha=0.9;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
hole_mobility variation=function 
function(total_doping)
mu_max=0.22;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n value=2.d-43
auger_p value=2.d-43
$
$ for real index, we assume that the wavelength is 2. eV
$
real_index variation=function 
function(y)
x=0.51532-0.96887*y;
ind_InP=3.54;
ind_GaP=3.40;
ind_AlP=2.87;
ind_InP*(1-x-y)+x*ind_GaP+y*ind_AlP
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=26.
end_macro ingaalp_yt
$ **************************************************************
$  macro for bulk 
$  In(1-x-y)Ga(x)Al(y)P
$  Lattcie matched to GaAs.   Since x is related to y,
$  We only use y in this macro
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law
$  similar to In(1-x-y)Ga(x)Al(y)As with As replaced by P.
$  Here, InGaAlP may be regarded as the compound of
$   [In(1-xp)Ga(xp)P]z +  [In(1-yp)Al(yp)P](1-z)  
$  =[InP(1-xp)+GaP(xp)]z +  [InP(1-yp)+AlP(yp)](1-z)  
$  =InP(1-xp)z+GaP(xp)z +  InP(1-yp)(1-z)+AlP(yp)(1-z)  
$  =InP(z-xp*z+1-z-yp(1-z))+GaP(xp)z + AlP(yp)(1-z)  
$  =InP(1-xp*z-yp(1-z))+GaP(xp)z + AlP(yp)(1-z)  
$  =InP(1-x-y)+GaP(x) + AlP(y)  
$  where x=xp*z , y=yp*(1-z)
$  In terms of binaries:
$  In(1-x-y)Ga(x)Al(y)P=InP(z-x)+GaP(x)+InP(1-z-y)+AlP(y)
$                      =InP(1-x-y)+GaP(x)+AlP(y)
$
$ Bowing parameter K is defined such that for A(x)B(1-x)C
$
$ V(x)=x*V(AC)+(1-x)*V(BC)-x*(1-x)*K(ABC)
$
$ Quaternary alloy A(1-x-y)B(x)C(y)D, bowing parameters may be used as
$
$ V(x,y)=V(AD)*(1-x-y)+V(BD)*x+V(CD)*y 
$        -[ (1-x-y)*x*K(ABD)+(1-x-y)*y*K(ACD)+x*y*K(BCD) ]
$ Please note the minus sign.
$
$ Ref: A.A. Mbaye and C. Verie, "Electronic structure of
$      trimetallic III-V alloys:  The Al(1-x-z)Ga(x)In(z)P system",
$      Phys. Rev. B, vol 29, No. 6, pp. 3756-3758, 1984.
$
$  Lattice Matching Condition:
$
$  a0_InP*(1-x-y)+x*a0_GaP+y*a0_AlP=a0_GaAs
$  (a0_InP -a0_GaP)*x= (a0_InP -a0_GaAs) -(a0_InP -a0_AlP)*y
$
$     x=A-B*y
$     A=(a0_InP -a0_GaAs)/(a0_InP -a0_GaP)=0.5153244
$     B=(a0_InP -a0_AlP)/(a0_InP -a0_GaP)=0.9688724    
$  or
$     x=0.51532-0.96887*y
$
$
$ Typical use:
$   load_macro name=ingaalp_yt_2010Mar  mater=#m &&
$     var1=#y var_symbol1=y 
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]

$ conversion to older Macro for In{0.5}(Ga{1-x}Al{x}){0.5}P
$ 0.5*x  --> y here
$ ***************************************************************
begin_macro ingaalp_yt_2010Mar
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
$
dielectric_constant variation=function 
function(y)
x=0.51532-0.96887*y;
diel_GaP=11.1;
diel_InP=12.56;
diel_AlP=9.8;
diel_InP*(1-x-y)+x*diel_GaP+y*diel_AlP 
end_function
$
electron_mass variation=function 
function(y)
x=0.51532-0.96887*y;
emn_InP=0.078;
emn_GaP=0.17;
emn_AlP=0.2;
emn_InP*(1-x-y)+x*emn_GaP+y*emn_AlP
end_function
$
hole_mass  variation=function 
function(y)
x=0.51532-0.96887*y;
g1_GaP=4.20;
g2_GaP=0.98;
g1_InP=5.0 ;
g2_InP=1.5 ;
g1_AlP=3.47;
g2_AlP=0.06;
g1q=g1_InP*(1-x-y)+x*g1_GaP+y*g1_AlP ;
g2q=g2_InP*(1-x-y)+x*g2_GaP+y*g2_AlP ;
emvhh=1/(g1q-2.*g2q) ;
emvlh=1/(g1q+2.*g2q) ;
( emvhh**(3/2)+emvlh**(3/2) )**(2/3)
end_function
$
$ Bandgap parameters are available from
$ A.A. Mbaye adn C. Verie, "Electronic structure of trimetallic
$ III-V alloys: The Al(1-x-z)G(x)In(z)P system," Phys. Rev. B,
$ vol. B29, pp. 3756-3758, 1984.
$
$ Direct gap is given here assuming composition is chosen such
$ that Gamma band is the lowest minima.
$
bulk_xfunc1 variation=function 
function(x,y)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-x-y)+x*E_GaP+y*E_AlP;
Bowing=(1-x-y)*x*K_InGaP+(1-x-y)*y*K_InAlP+x*y*K_GaAlP;
Linear-Bowing+shift-shift0
end_function


band_gap variation=function 
function(y,temper)
for 0.0<y<0.35
x=0.51532-0.96887*y;
bulk_xfunc1(x,y)
for else
yy=0.35d0;
xx=0.51532-0.96887*yy;
bulk_xfunc1(xx,yy)
end_function
$
affinity variation=function
function(y,temper)
for 0.0<y<0.35
x=0.51532-0.96887*y;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-x-y)+x*E_GaP+y*E_AlP;
Bowing=(1-x-y)*x*K_InGaP+(1-x-y)*y*K_InAlP+x*y*K_GaAlP;
eg=Linear-Bowing+shift-shift0;
eg0=1.425;
offset=0.5;  
4.07-offset*(eg-eg0)
for else
yy=0.35d0;
xx=0.51532-0.96887*yy;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_InP=1.347; 
E_GaP=2.780; 
E_AlP=3.62;  
K_InGaP=0.69; 
K_InAlP=0.4; 
K_GaAlP=0.01; 
Linear=E_InP*(1-xx-yy)+xx*E_GaP+yy*E_AlP;
Bowing=(1-xx-yy)*xx*K_InGaP+(1-xx-yy)*yy*K_InAlP+xx*yy*K_GaAlP;
eg=Linear-Bowing+shift-shift0;
eg0=1.425;
offset=0.5-0.2459d0*(2.0*yy-0.7d0);  
4.07-offset*(eg-eg0)
end_function
$
$ at 15 deg orientation, mu_n=0.2
$ at 0 deg orientation, mu_n=0.185
$
electron_mobility variation=function 
function(total_doping)
mu_max=0.2;
mu_min=0.;
ref_dens=5.d23;
alpha=0.9;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
hole_mobility variation=function 
function(total_doping)
mu_max=0.22;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n value=2.d-43
auger_p value=2.d-43
$
$ for real index, we assume that the wavelength is 2. eV
$
real_index variation=function 
function(y)
x=0.51532-0.96887*y;
ind_InP=3.54;
ind_GaP=3.40;
ind_AlP=2.87;
ind_InP*(1-x-y)+x*ind_GaP+y*ind_AlP
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=26.
end_macro ingaalp_yt_2010Mar
$***********************************
$ macro gaas_grading 
$
$ Artificial bulk material used to grade the
$   bandgap between heterojunction of
$   GaAs and another material X GaAs/X 
$ [free-style]
$
$ Possible use:  Ideal abrupt junction between GaAs
$   and material X may cause unrealistic quantum barrier
$   that prevents the injection of carriers.  In a real device,
$   the bandgap change must occur within a finite distance.
$   This macro can be used to model such a gradual change.
$   Example, highly doped GaAs/InGaAlP junction can use this macro
$   to reduce the barry height. 
$
$ Required parameter:  egx=bandgap of material X. 
$ Required parameter:  x=0->1, corresponding to bandgap change
$   between GaAs and material X
$
$ Typical use:
$   load_macro name=gaas_grading var1=#x var2=#egx mater=#m &&
$     var_symbol1=x var_symbol2=egx
$ parameter_range x=[0 1]
$ parameter_range egx=[0.2 6]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$***********************************
begin_macro gaas_grading 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant value=13.1
electron_mass value=0.067
hole_mass value=0.642
band_gap variation=function 
function(x,egx)
1.424 + (egx-1.424) * x 
end_function

affinity variation=function 
function(x,egx)
aff_gaas=4.07;
offs=0.5;
aff_gaas-offs*(egx-1.424)*x
end_function

electron_mobility variation=function 
function(total_doping)
mu_max=0.85;
mu_min=0.;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.04;
mu_min=0.;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=1.0d5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-7
lifetime_p value=1.e-7
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index  value=3.65
$
$ Contributor: Stefan Mohrdiek:   
$ refractive index for 670 nm :
$real_index  value=3.806
$
absorption value=0.
thermal_kappa value=46.
end_macro gaas_grading 
$
$ **************************************************************
$
$  Active layer macro of
$  Strained well of 
$  In(1-xw-yw)Ga(xw)Al(yw)As/Al(xb)Ga(1-xb)As
$  Grown on unstrained AlGaAs.  Substrate lattice constant is
$  that of GaAs. 
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law.
$  
$ Typical use:
$   get_active_layer name=InGaAlAs/AlGaAs mater=#m &&
$     var1=#xw var2=#yw var3=#xb &&
$     var_symbol1=xw var_symbol2=yw var_symbol3=xb
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAlAs/AlGaAs
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
band_offset value=0.5
lattice_constant value=5.65325
$
$ --- parameters for well:
$
eg0_well variation=function 
function(xw,yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*xw+2.093*yw ;
term2=0.436*xw**2 +0.577*yw**2+1.013*xw*yw ;
term1+term2+shift-shift0
end_function
$
lband_well value=0.28
$
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)As)(z)(In(1-y1)Al(y1)As)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$  Compressive strain has negative sign:
$
strain_well variation=function 
function(xw,yw,temper)
a0gaas=5.65325 ;
a0alas=5.6605 ;
a0inas=6.05840 ;
a0inp=5.8688 ;
axy=a0inas+xw*(a0gaas-a0inas)+yw*(a0alas-a0inas) ;
(a0gaas-axy)/axy
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
delal=0.279 ;
delga=0.34 ;
delin=0.43 ;
xw*(delga-delin)+yw*(delal-delin)+delin
end_function
$
$
mass_gamma_well variation=function 
function(xw,yw)
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
xw*(emnga-emnin)+yw*(emnal-emnin)+emnin
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
xw*(g1ga-g1in)+yw*(g1al-g1in)+g1in
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
xw*(g2ga-g2in)+yw*(g2al-g2in)+g2in
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3al=1.29 ;
g3ga=2.9 ;
g3in=9.3 ;
xw*(g3ga-g3in)+yw*(g3al-g3in)+g3in
end_function
$
a_well  variation=function 
function(xw,yw)
dhal=-9.8 ;
dhga=-9.8 ;
dhin=-5.0 ;
xw*(dhga-dhin)+yw*(dhal-dhin)+dhin
end_function
$
b_well  variation=function 
function(xw,yw)
dual=-1.76 ;
duga=-1.76 ;
duin=-1.8 ;
xw*(duga-duin)+yw*(dual-duin)+duin
end_function
$
c11_well  variation=function 
function(xw,yw)
c11al=12.02 ;
c11ga=11.9 ;
c11in=8.33 ;
xw*(c11ga-c11in)+yw*(c11al-c11in)+c11in
end_function
$
c12_well  variation=function 
function(xw,yw)
c12al=5.70 ;
c12ga=5.38 ;
c12in=4.53 ;
xw*(c12ga-c12in)+yw*(c12al-c12in)+c12in
end_function
$
$ --- material parameters for barier:
$
eg0_bar variation=function 
function(xb,temper)
for   0.<xb<0.45 
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.424+1.247*xb+shift-shift0
for  0.45<xb<1.
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.9+.125*xb+0.143*xb**2+shift-shift0
end_function
$
lband_bar value=0.28
$
strain_bar value=0.
$
delta_so_bar value=0.366
$
mass_gamma_bar variation=function 
function(xb)
0.067+0.083*xb
end_function
$
mass_l_bar variation=function 
function(xb)
0.56+0.1*xb
end_function
$
gamma1_bar variation=function
function(xb)
g1ga=6.9 ;
g1al=3.45 ;
g1ga*(1.-xb)+g1al*xb
end_function
$
gamma2_bar variation=function
function(xb)
g2ga=2.2 ;
g2al=0.68 ;
g2ga*(1.-xb)+g2al*xb
end_function
$
gamma3_bar variation=function
function(xb)
g3ga=2.9 ;
g3al=1.29 ;
g3ga*(1.-xb)+g3al*xb
end_function
$
a_bar variation=function
function(xb)
dhga=-9.8 ;
dhal=-9.8 ;
dhga*(1.-xb)+dhal*xb
end_function
$
b_bar variation=function
function(xb)
duga=-1.76 ;
dual=-1.76 ;
duga*(1.-xb)+dual*xb
end_function
$
c11_bar variation=function
function(xb)
c11ga=11.9 ;
c11al=12.02 ;
c11ga*(1.-xb)+c11al*xb
end_function
$
c12_bar variation=function
function(xb)
c12ga=5.38 ;
c12al=5.70 ;
c12ga*(1.-xb)+c12al*xb
end_function

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9;
GaAs=-1.94;
AlAs=-0.48;
InAs*(1-xw-yw)+GaAs*xw+AlAs*yw
end_function

kane_para_f_bar variation=function
function(xb)
gaas=-1.94;
alas=-0.48;
(1-xb)*gaas+xb*alas
end_function


end_active_layer InGaAlAs/AlGaAs
$ ****************************************
$ macro for Fe-InP as insulator
$ [free-style]
$ ****************************************
begin_macro fe_inp 
material type=insulator  
dielectric_constant value=12.56
real_index  value=3.167
$ set affinity for the purpose of plotting band diagram
affinity value=2.
$band_gap value=8.
absorption value=0.
end_macro fe_inp 
$ **************************************************************
$
$  InGaAsP-GaAs:  
$  Bulk active layer macro of 
$  In(1-xw)Ga(xw)As(yw)P(1-yw) lattice matched to GaAs.
$  [free-style]
$
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to GaAs if x and y is related by
$  x=(1+y)/(2.08-0.08*y)
$  
$  The band gap of InGaAsP lattice matched to GaAs is given by 
$  E_g=1.926-0.259*y-0.241*y**2
$  E_g=1.91 - 1.44*y+2.87*y*y-3.23*y*y*y+1.31*y*y*y*y  Mohrdiek 95
$
$  2 parameters are used: (yw, temper)
$
$ Typical use:
$   get_active_layer name=InGaAsP-GaAs  mater=#m &&
$     var1=#yw var_symbol1=yw
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAsP-GaAs
$
layer_type type=bulk valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(yw,temper)
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
$ eg0=1.926-0.259*yw-0.241*yw*yw ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yw +2.87*yw*yw-3.23*yw*yw*yw+1.31*yw*yw*yw*yw ;
$----------------------------------------------------------
eg0+shift-shift0
end_function
$
lband_well variation=function 
function(yw)
xw=(1+yw)/(2.08-0.08*yw);
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$
delta_so_well variation=function 
function(yw)
xw=(1+yw)/(2.08-0.08*yw);
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
$
mass_gamma_well variation=function 
function(yw)
xw=(1+yw)/(2.08-0.08*yw);
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(yw)
xw=(1+yw)/(2.08-0.08*yw);
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well  variation=function 
function(yw)
xw=(1+yw)/(2.08-0.08*yw);
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function

kane_para_f_well variation=function
function(yw)
xw=(1+yw)/(2.08-0.08*yw);
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function

$
lattice_constant value=5.65325
end_active_layer InGaAsP-GaAs
$***********************************
$ macro cdhgte for Cd(x)Hg(1-x)Te 
$  [free-style]
$ Contribution: Dr. Peter Mensz,  July 1998
$ Typical use:
$   load_macro name=cdhgte var1=#x mater=#m var_symbol1=x
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$***********************************
begin_macro cdhgte 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
20-9.4*x
end_function
electron_mass variation=function 
function(x,temper)
Eg = -0.302+ 1.93*x - 0.810*x**2 
+ 0.832*x**3 + 5.35*10**(-4)*(1-x)*temper;
1/(-0.6+6.333*(2/(Eg) + 1/(Eg+ 1) ))
end_function
hole_mass value=0.5
band_gap variation=function 
function(x,temper)
term1 = -0.302+ 1.93*x - 0.810*x**2; 
term1+ 0.832*x**3 + 5.35*10**(-4)*(1-x)*temper
end_function
affinity variation=function 
function(x,temper)
Eg = -0.302+ 1.93*x - 0.810*x**2 
+ 0.832*x**3 + 5.35*10**(-4)*(1-x)*temper;
4.23 -0.813*(Eg-0.083)
end_function

electron_mobility variation=function 
function(x,temper,total_doping)
a= (0.2/x)**0.6;
b=(0.2/x)**7.5;
mu_max=9.e4 * b/temper**(2*a);
mu_min=0.;
ref_dens=5.e23;
alpha=0.5;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(x,temper,total_doping)
a= (0.2/x)**0.6;
b=(0.2/x)**7.5;
Mob_e=9.e4 * b/temper**(2*a); 
mu_max=0.01*Mob_e;
mu_min=0.;
ref_dens=5.e23;
alpha=0.5;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=1.d-16
auger_n value= 7.6923e-37
auger_p value= 7.6923e-37 
lifetime_n value=1.e-7
lifetime_p value=1.e-7
real_index variation=function
function(x,temper)
sqrt(20-9.4*x)
end_function
absorption value=0.
thermal_kappa value=50.
end_macro cdhgte 
$
$ ******************************************************
$ complex active layer macro : complex-Al(xw)Ga(1-xw)As
$   with xw being composition in well or barrier.
$   temper=temperature
$  [free-style]
$ Typical use:
$   get_active_layer name=cx-AlGaAs mater=#m &&
$     var1=#xw var_symbol1=xw
$ parameter_range xw=[0 1]
$ parameter_range temper=[77 600] 
$ ******************************************************
$
begin_active_layer cx-AlGaAs
$
layer_type type=complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,temper)
for   0.<xw<0.45 
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.424+1.247*xw+shift-shift0
for  0.45<xw<1.
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.9+.125*xw+0.143*xw**2+shift-shift0
end_function
$
lband_well value=0.28
$
delta_so_well variation=function 
function(xw)
0.343-0.0628*xw
end_function
$
band_offset value=0.6
$
mass_gamma_well variation=function  
function(xw)
0.067+0.083*xw
end_function
$
mass_l_well variation=function 
function(xw)
0.56+0.1*xw
end_function
$
gamma1_well variation=function 
function(xw)
g1ga=6.9 ;
g1al=3.45 ;
g1ga*(1.-xw)+g1al*xw
end_function
$
gamma2_well variation=function 
function(xw)
g2ga=2.2 ;
g2al=0.68 ;
g2ga*(1.-xw)+g2al*xw
end_function
$
gamma3_well variation=function 
function(xw)
g3ga=2.9 ;
g3al=1.29 ;
g3ga*(1.-xw)+g3al*xw
end_function
$
a_well variation=function 
function(xw)
dhga=-9.8 ;
dhal=-9.8 ;
dhga* (1.-xw) +dhal*xw
end_function
$
b_well variation=function 
function(xw)
duga=-1.76 ;
dual=-1.76 ;
duga*(1.-xw)+dual*xw
end_function
$
c11_well variation=function 
function(xw)
c11ga=11.9 ;
c11al=12.02 ;
c11ga*(1.-xw)+c11al*xw
end_function
$
c12_well variation=function 
function(xw)
c12ga=5.38 ;
c12al=5.70 ;
c12ga*(1.-xw)+c12al*xw
end_function
$

kane_para_f_well variation=function
function(xw)
gaas=-1.94;
alas=-0.48;
(1-xw)*gaas+xw*alas
end_function

lattice_constant value=5.65325
$
end_active_layer cx-AlGaAs

$ ******************************************************
$ complex acitve layer macro : complex-GaAs
$  [free-style]
$ Typical use:
$   get_active_layer name=cx-GaAs mater=#m 
$ parameter_range temper=[77 600] 
$ ******************************************************
$
begin_active_layer cx-GaAs
$
layer_type type=complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(temper)
shift0=-5.5e-4*300.**2/(300.+225.) ;
shift=-5.5e-4*temper**2/(temper+225.) ;
1.424+shift-shift0
end_function
$
lband_well value=0.28
$
delta_so_well value=0.343
$
band_offset value=0.6
$
mass_gamma_well value=0.067
$
mass_l_well value=0.56
$
gamma1_well value=6.9
$
gamma2_well value=2.2 
$
gamma3_well value=2.9 
$
a_well value=-9.8 
$
b_well value=-1.76 
$
c11_well value=11.9 
$
c12_well value=5.38 
$

kane_para_f_well value=-1.94

lattice_constant value=5.65325
$
end_active_layer cx-GaAs

$***********************************
$ macro algaas_implant 
$ Bulk implanted Al(x)Ga(1-x)As at 300K
$ Treated as insulator.  Use the same optical constant as algaas.
$ [free-style]
$ Typical use:
$   load_macro name=algaas_implant var1=#x var2=#xlam mater=#m &&
$     var_symbol1=x var_symbol2=xlam
$ where xlam is wavelength in microns.
$ parameter_range x=[0 1]
$ parameter_range xlam=[0.4 2]
$***********************************
begin_macro algaas_implant 
material type=insulator  
dielectric_constant variation=function 
function(x)
13.1 - 3 * x 
end_function

bulk_xfunc1 variation=function 
function(x)
for 0.<x<0.45
1.424 + 1.247 * x 
for 0.45<x<1.
1.9 + 0.125 * x + 0.143 *x * x 
end_function

$real_index variation=function
$function(x)
$3.65-0.73*x
$end_function
$
$ wavelength dep. real index
$real_index_spec variation=function
$function(x,xlam)
$xev=1.24/xlam;
$n_GaAs=4.177137-3.512283*xev+5.163323*xev**2
$  -3.242022*xev**3+0.7935377*xev**4;
$n_AlAs=2.835238+0.1040565*xev-8.6519323e-2*xev**2
$  +8.2142524e-2*xev**3 -1.4580269e-2*xev**4;
$n_GaAs*(1-x)+n_AlAs*x
$end_function

$ set affinity for the purpose of plotting band diagram
affinity value=3.
$band_gap value=8.

real_index variation=function
function(x,xlam)
for 0<x<0.1
xev=1.24/xlam;
n1=4.177137-3.512283*xev+5.163323*xev**2
  -3.242022*xev**3+0.7935377*xev**4;
n2=3.1715+0.8963*xev-1.4964*xev**2+1.0665*xev**3-0.2310*xev**4;
n1+(n2-n1)*(x-0.)/0.1
for 0.1<x<0.2
xev=1.24/xlam;
n1=3.1715+0.8963*xev-1.4964*xev**2+1.0665*xev**3-0.2310*xev**4;
n2=2.3080+3.5046*xev-4.4066*xev**2+2.4046*xev**3-0.4481*xev**4;
n1+(n2-n1)*(x-0.1)/0.1
for 0.2<x<0.3
xev=1.24/xlam;
n1=2.3080+3.5046*xev-4.4066*xev**2+2.4046*xev**3-0.4481*xev**4;
n2=2.4397+2.7106*xev-3.2388*xev**2+1.6831*xev**3-0.2919*xev**4;
n1+(n2-n1)*(x-0.2)/0.1
for 0.3<x<0.4
xev=1.24/xlam;
n1=2.4397+2.7106*xev-3.2388*xev**2+1.6831*xev**3-0.2919*xev**4;
n2=3.3968-0.8732*xev+1.3142*xev**2-0.7823*xev**3+0.1881*xev**4;
n1+(n2-n1)*(x-0.3)/0.1
for 0.4<x<0.5
xev=1.24/xlam;
n1=3.3968-0.8732*xev+1.3142*xev**2-0.7823*xev**3+0.1881*xev**4;
n2=4.1143 -3.5076*xev +4.5832*xev**2 -2.4916*xev**3 +0.5027*xev**4;
n1+(n2-n1)*(x-0.4)/0.1
for 0.5<x<0.6
xev=1.24/xlam;
n1=4.1143 -3.5076*xev +4.5832*xev**2 -2.4916*xev**3 +0.5027*xev**4;
n2=3.2169 -0.5468*xev +0.8554*xev**2 -0.4952*xev**3 +0.1178*xev**4;
n1+(n2-n1)*(x-0.5)/0.1
for 0.6<x<0.7
xev=1.24/xlam;
n1=3.2169 -0.5468*xev +0.8554*xev**2 -0.4952*xev**3 +0.1178*xev**4;
n2=3.3236 -1.1576*xev +1.6762*xev**2 -0.9628*xev**3 +0.2096*xev**4;
n1+(n2-n1)*(x-0.6)/0.1
for 0.7<x<0.8
xev=1.24/xlam;
n1=3.3236 -1.1576*xev +1.6762*xev**2 -0.9628*xev**3 +0.2096*xev**4;
n2=3.1106 -0.4848*xev +0.6741*xev**2 -0.3351*xev**3 +0.0700*xev**4;
n1+(n2-n1)*(x-0.7)/0.1
for 0.8<x<0.9
xev=1.24/xlam;
n1=3.1106 -0.4848*xev +0.6741*xev**2 -0.3351*xev**3 +0.0700*xev**4;
n2=3.0202 -0.3050*xev +0.4331*xev**2 -0.2045*xev**3 +0.0447*xev**4;
n1+(n2-n1)*(x-0.8)/0.1
for 0.9<x<1.
xev=1.24/xlam;
n1=3.0202 -0.3050*xev +0.4331*xev**2 -0.2045*xev**3 +0.0447*xev**4;
n2=2.835238+0.1040565*xev-8.6519323e-2*xev**2
  +8.2142524e-2*xev**3 -1.4580269e-2*xev**4;
n1+(n2-n1)*(x-0.9)/0.1
end_function


$absorption value=0.
$ wavelength dependent absorption
$ define backgroud aborption as bulk_xfunc2 in units 1/m
bulk_xfunc2 variation=function 
function(x,xlam)
500.
end_function
absorption variation=function
function(x,xlam)
for 1.24/xlam<bulk_xfunc1
bulk_xfunc2
for 0<x<0.1
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=-59938.21*(xev-eg)+561976.8*(xev-eg)**2
  -855408.5*(xev-eg)**3+430717.0*(xev-eg)**4; 
a2=-18043.81*(xev-eg)+470037.7*(xev-eg)**2
  -762741.0*(xev-eg)**3+409836.0*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.)/0.1;
bulk_xfunc2+alpha*100.
for 0.1<x<0.2
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=-18043.81*(xev-eg)+470037.7*(xev-eg)**2
  -762741.0*(xev-eg)**3+409836.0*(xev-eg)**4;
a2=91721.91*(xev-eg)+107193.1*(xev-eg)**2      
  -399274.5*(xev-eg)**3+323630.5*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.1)/0.1;
bulk_xfunc2+alpha*100.
for 0.2<x<0.3
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=91721.91*(xev-eg)+107193.1*(xev-eg)**2      
  -399274.5*(xev-eg)**3+323630.5*(xev-eg)**4;
a2=103024.9*(xev-eg)+285712.4*(xev-eg)**2
  -821371.1*(xev-eg)**3+592386.0*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.2)/0.1;
bulk_xfunc2+alpha*100.
for 0.3<x<0.4
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=103024.9*(xev-eg)+285712.4*(xev-eg)**2
  -821371.1*(xev-eg)**3+592386.0*(xev-eg)**4;
a2=95788.52*(xev-eg)+13612.16*(xev-eg)**2      
  -176194.3*(xev-eg)**3+275328.6*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.3)/0.1;
bulk_xfunc2+alpha*100.
for 0.4<x<0.5
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=95788.52*(xev-eg)+13612.16*(xev-eg)**2      
  -176194.3*(xev-eg)**3+275328.6*(xev-eg)**4;
a2=90497.19*(xev-eg)-118715.9*(xev-eg)**2      
  +136604.8*(xev-eg)**3+105422.4*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.4)/0.1;
bulk_xfunc2+alpha*100.
for 0.5<x<0.6
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=90497.19*(xev-eg)-118715.9*(xev-eg)**2      
  +136604.8*(xev-eg)**3+105422.4*(xev-eg)**4;
a2=76853.11*(xev-eg)+161217.3*(xev-eg)**2      
  -360155.9*(xev-eg)**3+318543.7*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.5)/0.1;
bulk_xfunc2+alpha*100.
for 0.6<x<0.7
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=76853.11*(xev-eg)+161217.3*(xev-eg)**2      
  -360155.9*(xev-eg)**3+318543.7*(xev-eg)**4;
a2=32454.24*(xev-eg)+50188.12*(xev-eg)**2      
  -16573.62*(xev-eg)**3+106340.0*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.6)/0.1;
bulk_xfunc2+alpha*100.
for 0.7<x<0.8
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=32454.24*(xev-eg)+50188.12*(xev-eg)**2      
  -16573.62*(xev-eg)**3+106340.0*(xev-eg)**4;
a2=17639.67*(xev-eg)-31695.61*(xev-eg)**2
  +116720.0*(xev-eg)**3+33719.42*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.7)/0.1;
bulk_xfunc2+alpha*100.
for 0.8<x<0.9
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=17639.67*(xev-eg)-31695.61*(xev-eg)**2
  +116720.0*(xev-eg)**3+33719.42*(xev-eg)**4;
a2=6957.562*(xev-eg)+964.3477*(xev-eg)**2      
  -74366.28*(xev-eg)**3+101554.3*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.8)/0.1;
bulk_xfunc2+alpha*100.
for else
xev=1.24/xlam;
eg=bulk_xfunc1;
a1=6957.562*(xev-eg)+964.3477*(xev-eg)**2      
  -74366.28*(xev-eg)**3+101554.3*(xev-eg)**4;
a2=6957.562*(xev-eg)+964.3477*(xev-eg)**2      
  -74366.28*(xev-eg)**3+101554.3*(xev-eg)**4;
alpha=a1+(a2-a1)*(x-0.9)/0.1;
bulk_xfunc2+alpha*100.
end_function
thermal_kappa value=46.
$ specific heat (J/kg/K)
spec_heat value=330
$ mass density  (Kg/m^3)
mass_density value=5320
end_macro algaas_implant

$ **************************************************************
$ macro for bulk unstrained GaP
$  [free-style]
$ Typical use:
$   load_macro name=gap mater=#m 
$ renamed from gap.temp
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************************************
begin_macro gap
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
$
dielectric_constant value=11.1
$
electron_mass value=0.17
$
hole_mass  variation=function 
function(temper)
g1=4.20;
g2=0.98;
emvhh=1/(g1-2.*g2) ;
emvlh=1/(g1+2.*g2) ;
( emvhh**(3/2)+emvlh**(3/2) )**(2/3)
end_function
$
$ Bandgap parameters are available from
$ A.A. Mbaye adn C. Verie, "Electronic structure of trimetallic
$ III-V alloys: The Al(1-x-z)G(x)In(z)P system," Phys. Rev. B,
$ vol. B29, pp. 3756-3758, 1984.
$
band_gap variation=function 
function(temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
E_GaP=2.780; 
E_GaP+shift-shift0
end_function
$
affinity value=4.07
$
$ at 15 deg orientation mu_n = 0.2
$ at 0  deg orientation mu_n = 0.185
$
electron_mobility variation=function 
function(total_doping)
mu_max=0.2;
mu_min=0.;
ref_dens=5.d23;
alpha=0.9;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.22;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
auger_n value=1.d-45
auger_p value=1.d-45
$
$ for real index, we assume that the wavelength is 2. eV
$
real_index value=3.40

lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=40.
end_macro gap


$ **************************************************************
$
$ Active layer macro of 
$ strained well of In(1-xw)Ga(xw)As(yw)N(1-yw) with
$ strained barrier of In(1-xb)Ga(xb)As(yb)N(1-yb) 
$ grown on material lattice matched to GaAs such as AlGaAs.
$  [free-style]
$
$ 4 parameters are used: (xw, yw, xb, yb)
$
$ Typical use:
$ get_active_layer name=InGaAsN/GaAs  mater=#m &&
$   var1=#xw var2=#yw var3=#xb var4=#yb &&
$   var_symbol1=xw var_symbol2=yw var_symbol3=xb var_symbol4=yb
$ 
$ -------------------------------------------------------------------
$ Basic theory:
$ Bilinear combination for compound of In(1-x)Ga(x)As(y)N(1-y):
$ Q(x,y)=x*y*Q_GaAs+x*(1-y)*Q_GaN
$     +(1-x)*y*Q_InAs+(1-x)*(1-y)*Q_InN 
$
$ Our approaches are summarized as follows: 
$ 1) Only bowing parameter for bandgap between GaAs and GaN are
$    used. bowing=-20 eV is based on estimate from a review article in
$    "Electronic properties of Ga(In)NAs alloys", I.A. Buyanova, 
$    W.M.Chen and B. Monemar, MRS Internet J. Nitride Semicond. Res. 
$    Vol. 6, No. 2, 2001, pp. 1-19.  Warning,  this bowing parameter
$    is valid for N content of less than 5% only.
$ 
$ 2) The band offseet is estimated to be 0.7 based on the following
$    theoretical calculation of band alignment:
$    "Localization and percolation in semiconductor alloys: GaAsN vs. GaAsP",
$    L. Bellaiche, S.-H. Wei and A. Zunger, Phys. Rev. B., vol. 54, No. 24,
$    15 Dec. 1996, pp. 17568-76.
$    The above theory gives 0.75 (see Fig. 4(c) of the above ref.).  
$    Since InGaAs has a slightly smaller offset,  it is reasonable to 
$    take 0.7 as offset for InGaAsN.
$
$ Revised July04 based on VMR-paper which privides zinc blende
$ parameters for GaN and InN
$
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range yb=[0 1]
$ parameter_range temper=[77 600] 
$
$ ***************************************************************
begin_active_layer InGaAsN/GaAs
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ Use of GaN(xx)As(1-xx) bowing:
$ For binlear terms x*y*E(GaAs)+x*(1-y)*E(GaN)
$                  =x*(1-xx)*E(GaAs)+x*xx*E(GaN)  where xx=1-y
$ The bowing term is bowing*xx*(1-xx)     
$
eg0_well variation=function 
function(xw,yw,temper)
eg_GaAs=1.424-5.5d-4*temper**2/(temper+225.);
eg_InAs=0.417-0.276e-3*temper**2/(temper+93.);
eg_GaN=3.299-0.593e-3*temper**2/(temper+600);
eg_InN=0.735-0.245e-3*temper**2/(temper+624);
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=xw*yw*eg_GaAs+xw*(1-yw)*eg_GaN;
term2=(1-xw)*yw*eg_InAs+(1-xw)*(1-yw)*eg_InN; 
term_bowing=xw*b_GaNAs*yw*(1-yw)+yw*b_InGaAs*xw*(1-xw);
term1+term2+term_bowing
end_function
$
eg0_bar variation=function 
function(xb,yb,temper)
eg_GaAs=1.424-5.5d-4*temper**2/(temper+225.);
eg_InAs=0.417-0.276e-3*temper**2/(temper+93.);
eg_GaN=3.299-0.593e-3*temper**2/(temper+600);
eg_InN=0.735-0.245e-3*temper**2/(temper+624);
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=xb*yb*eg_GaAs+xb*(1-yb)*eg_GaN;
term2=(1-xb)*yb*eg_InAs+(1-xb)*(1-yb)*eg_InN; 
term_bowing=xb*b_GaNAs*yb*(1-yb)+yb*b_InGaAs*xb*(1-xb);
term1+term2+term_bowing
end_function
$
$
lband_well variation=function 
function(xw,yw)
el_GaAs=0.28; el_InAs=1.1; el_GaN=4.52-3.299; el_InN=2.51-1.94;
term1=xw*yw*el_GaAs+xw*(1-yw)*el_GaN;
term2=(1-xw)*yw*el_InAs+(1-xw)*(1-yw)*el_InN;
term1+term2
end_function
$
lband_bar variation=function
function(xb,yb)
el_GaAs=0.28; el_InAs=1.1; el_GaN=4.52-3.299; el_InN=2.51-1.94;
term1=xb*yb*el_GaAs+xb*(1-yb)*el_GaN;
term2=(1-xb)*yb*el_InAs+(1-xb)*(1-yb)*el_InN;
term1+term2
end_function
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0_GaAs=5.65325; a0_InAs=6.05840; a0_GaN=4.5; a0_InN=4.98;
ax=xw*yw*a0_GaAs+xw*(1-yw)*a0_GaN+(1-xw)*yw*a0_InAs+(1-xw)*(1-yw)*a0_InN; 
(a0_GaAs-ax)/ax
end_function
$
strain_bar variation=function  
function(xb,yb)
a0_GaAs=5.65325; a0_InAs=6.05840; a0_GaN=4.5; a0_InN=4.98;
ax=xb*yb*a0_GaAs+xb*(1-yb)*a0_GaN+(1-xb)*yb*a0_InAs+(1-xb)*(1-yb)*a0_InN; 
(a0_GaAs-ax)/ax
end_function
$
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
band_offset value=0.7
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
$
delta_so_well variation=function 
function(xw,yw)
del_GaAs=0.34 ; del_InAs=0.43 ; del_GaN=0.017 ; del_InN=0.006 ;
term1=xw*yw*del_GaAs+xw*(1-yw)*del_GaN;
term2=(1-xw)*yw*del_InAs+(1-xw)*(1-yw)*del_InN; 
term1+term2
end_function
$
delta_so_bar  variation=function
function(xb,yb)
del_GaAs=0.34 ; del_InAs=0.43 ; del_GaN=0.017 ; del_InN=0.006 ;
term1=xb*yb*del_GaAs+xb*(1-yb)*del_GaN;
term2=(1-xb)*yb*del_InAs+(1-xb)*(1-yb)*del_InN; 
term1+term2
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
mc_GaAs=0.064 ; mc_InAs=0.023 ; mc_GaN=.15; mc_InN=.12;
term1=xw*yw*mc_GaAs+xw*(1-yw)*mc_GaN;
term2=(1-xw)*yw*mc_InAs+(1-xw)*(1-yw)*mc_InN; 
term1+term2
end_function

mass_gamma_bar variation=function 
function(xb,yb)
mc_GaAs=0.064 ; mc_InAs=0.023 ; mc_GaN=.15; mc_InN=.12;
term1=xb*yb*mc_GaAs+xb*(1-yb)*mc_GaN;
term2=(1-xb)*yb*mc_InAs+(1-xb)*(1-yb)*mc_InN; 
term1+term2
end_function

$
mass_l_well value=0.4
mass_l_bar value=0.4
$
gamma1_well  variation=function 
function(xw,yw)
g1_GaAs=6.85; g1_InAs=20.4; g1_GaN=2.67; g1_InN=3.72;
term1=xw*yw*g1_GaAs+xw*(1-yw)*g1_GaN;
term2=(1-xw)*yw*g1_InAs+(1-xw)*(1-yw)*g1_InN; 
term1+term2
end_function
$
gamma1_bar variation=function
function(xb,yb)
g1_GaAs=6.85; g1_InAs=20.4; g1_GaN=2.67; g1_InN=3.72;
term1=xb*yb*g1_GaAs+xb*(1-yb)*g1_GaN;
term2=(1-xb)*yb*g1_InAs+(1-xb)*(1-yb)*g1_InN; 
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2_GaAs=2.1 ; g2_InAs=8.3 ; g2_GaN=0.75 ; g2_InN=1.26 ;
term1=xw*yw*g2_GaAs+xw*(1-yw)*g2_GaN;
term2=(1-xw)*yw*g2_InAs+(1-xw)*(1-yw)*g2_InN; 
term1+term2
end_function
$
gamma2_bar variation=function
function(xb,yb)
g2_GaAs=2.1 ; g2_InAs=8.3 ; g2_GaN=0.75 ; g2_InN=1.26 ;
term1=xb*yb*g2_GaAs+xb*(1-yb)*g2_GaN;
term2=(1-xb)*yb*g2_InAs+(1-xb)*(1-yb)*g2_InN; 
term1+term2
end_function

gamma3_well  variation=function 
function(xw,yw)
g3_GaAs=2.9 ; g3_InAs=9.1 ; g3_GaN=1.10; g3_InN=1.63;
term1=xw*yw*g3_GaAs+xw*(1-yw)*g3_GaN;
term2=(1-xw)*yw*g3_InAs+(1-xw)*(1-yw)*g3_InN; 
term1+term2
end_function
$
gamma3_bar variation=function
function(xb,yb)
g3_GaAs=2.9 ; g3_InAs=9.1 ; g3_GaN=1.10; g3_InN=1.63;
term1=xb*yb*g3_GaAs+xb*(1-yb)*g3_GaN;
term2=(1-xb)*yb*g3_InAs+(1-xb)*(1-yb)*g3_InN; 
term1+term2
end_function

$
a_well  variation=function 
function(xw,yw)
a_GaAs=-9.77 ; a_InAs=-6.0 ; a_GaN=-7.4; a_InN=-3.35;
term1=xw*yw*a_GaAs+xw*(1-yw)*a_GaN;
term2=(1-xw)*yw*a_InAs+(1-xw)*(1-yw)*a_InN; 
term1+term2
end_function
$
a_bar variation=function
function(xb,yb)
a_GaAs=-9.77 ; a_InAs=-6.0 ; a_GaN=-7.4; a_InN=-3.35;
term1=xb*yb*a_GaAs+xb*(1-yb)*a_GaN;
term2=(1-xb)*yb*a_InAs+(1-xb)*(1-yb)*a_InN; 
term1+term2
end_function
$
b_well  variation=function 
function(xw,yw)
b_GaAs=-1.7 ; b_InAs=-1.8 ; b_GaN=-2.2 ; b_InN=-1.2 ;
term1=xw*yw*b_GaAs+xw*(1-yw)*b_GaN;
term2=(1-xw)*yw*b_InAs+(1-xw)*(1-yw)*b_InN; 
term1+term2
end_function
$
b_bar variation=function
function(xb,yb)
b_GaAs=-1.7 ; b_InAs=-1.8 ; b_GaN=-2.2 ; b_InN=-1.2 ;
term1=xb*yb*b_GaAs+xb*(1-yb)*b_GaN;
term2=(1-xb)*yb*b_InAs+(1-xb)*(1-yb)*b_InN; 
term1+term2
end_function
$
$ For Wurtzite, let us use c13->c12 and c33->c11
$
c11_well  variation=function 
function(xw,yw)
c11_GaAs=11.9 ; c11_InAs=8.33 ; c11_GaN=2.93; c11_InN=1.87;
term1=xw*yw*c11_GaAs+xw*(1-yw)*c11_GaN;
term2=(1-xw)*yw*c11_InAs+(1-xw)*(1-yw)*c11_InN; 
term1+term2
end_function

c11_bar variation=function
function(xb,yb)
c11_GaAs=11.9 ; c11_InAs=8.33 ; c11_GaN=2.93; c11_InN=1.87;
term1=xb*yb*c11_GaAs+xb*(1-yb)*c11_GaN;
term2=(1-xb)*yb*c11_InAs+(1-xb)*(1-yb)*c11_InN; 
term1+term2
end_function
$
$
c12_well  variation=function 
function(xw,yw)
c12_GaAs=5.38 ;
c12_InAs=4.53 ;
c12_GaN=1.59;
c12_InN=1.25;
term1=xw*yw*c12_GaAs+xw*(1-yw)*c12_GaN;
term2=(1-xw)*yw*c12_InAs+(1-xw)*(1-yw)*c12_InN; 
term1+term2
end_function
$
c12_bar variation=function
function(xb,yb)
c12_GaAs=5.38 ;
c12_InAs=4.53 ;
c12_GaN=1.59;
c12_InN=1.25;
term1=xb*yb*c12_GaAs+xb*(1-yb)*c12_GaN;
term2=(1-xb)*yb*c12_InAs+(1-xb)*(1-yb)*c12_InN; 
term1+term2
end_function

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9; GaAs=-1.94; InN=-0.92; GaN=-0.92;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InN+xw*(1-yw)*GaN
end_function

kane_para_f_bar variation=function
function(xb,yb)
InAs=-2.9; GaAs=-1.94; InN=-0.92; GaN=-0.92;
(1-xb)*yb*InAs+xb*yb*GaAs+(1-xb)*(1-yb)*InN+xb*(1-yb)*GaN
end_function


$ this is the lattice const. of the substrate being used.
lattice_constant value=5.65325
end_active_layer InGaAsN/GaAs
$ **************************************************************
$
$ Active layer macro of 
$ strained well of In(1-xw)Ga(xw)As(1-yw-zw)N(yw)Sb(zw) with
$ strained barrier of In(1-xw)Ga(xw)As(1-yw-zw)N(yw)Sb(zw) 
$ grown on material lattice matched to GaAs such as AlGaAs.
$  [free-style]
$
$ 6 parameters are used: (xw, yw, zw, xb, yb, zb)
$
$ Typical use:
$ get_active_layer name=InGaAsNSb/GaAs  mater=#m &&
$ var1=#xw var2=#yw var3=#zw &&
$ var4=#xb var5=#yb var6=#zb &&
$ var_symbol1=xw var_symbol2=yw var_symbol3=zw &&
$ var_symbol4=xb var_symbol5=yb var_symbol6=zb 
$ 
$ -------------------------------------------------------------------
$ Basic theory:
$ Bilinear combination for compound of In(1-x)Ga(x)As(1-y-z)N(y)Sb(z):
$ Q(x,y,z)=x*(1-y-z)*Q_GaAs+x*y*Q_GaN+x*z*Q_GaSb
$     +(1-x)*(1-y-z)*Q_InAs+(1-x)*y*Q_InN+(1-x)*z*InSb
$ Bowing coefficients may be used to correct the above.
$
$ Based on InGaAsN/GaAs macro with addition of InSb, GaSb properties
$ from the VMR-paper.
$ Please note the equivalence of composition y -> 1-y 
$ with the macro mentioned above.
$
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range zw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range yb=[0 1]
$ parameter_range zb=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************

begin_active_layer InGaAsNSb/GaAs
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,yw,zw,temper)
GaAs=1.424-5.5d-4*temper**2/(temper+225.);
InAs=0.417-0.276e-3*temper**2/(temper+93.);
GaN=3.299-0.593e-3*temper**2/(temper+600);
InN=0.735-0.245e-3*temper**2/(temper+624);
InSb=0.235-0.32e-3*temper**2/(temper+170);
GaSb=0.812-0.417e-3*temper**2/(temper+140);
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term_bowing=xw*b_GaNAs*(1-yw)*yw+(1-yw)*b_InGaAs*xw*(1-xw);
term1+term2+term_bowing
end_function
$
eg0_bar variation=function 
function(xb,yb,zb,temper)
GaAs=1.424-5.5d-4*temper**2/(temper+225.);
InAs=0.417-0.276e-3*temper**2/(temper+93.);
GaN=3.299-0.593e-3*temper**2/(temper+600);
InN=0.735-0.245e-3*temper**2/(temper+624);
InSb=0.235-0.32e-3*temper**2/(temper+170);
GaSb=0.812-0.417e-3*temper**2/(temper+140);
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term_bowing=xb*b_GaNAs*(1-yb)*yb+(1-yb)*b_InGaAs*xb*(1-xb);
term1+term2+term_bowing
end_function
$
$
lband_well variation=function 
function(xw,yw,zw)
GaAs=0.28; InAs=1.1; GaN=4.52-3.299; InN=2.51-1.94;
InSb=0.63-0.235; GaSb=0.875-0.812;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
lband_bar variation=function
function(xb,yb,zb)
GaAs=0.28; InAs=1.1; GaN=4.52-3.299; InN=2.51-1.94;
InSb=0.63-0.235; GaSb=0.875-0.812;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function
$
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,yw,zw,temper)
GaAs=5.65325; InAs=6.05840; GaN=4.5; InN=4.98;
InSb=6.4794+3.48e-5*(temper-300);  
GaSb=6.0959+4.72e-5*(temper-300);
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
ax=term1+term2;
(GaAs-ax)/ax
end_function
$
strain_bar variation=function  
function(xb,yb,zb,temper)
GaAs=5.65325; InAs=6.05840; GaN=4.5; InN=4.98;
InSb=6.4794+3.48e-5*(temper-300);  
GaSb=6.0959+4.72e-5*(temper-300);
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
ax=term1+term2;
(GaAs-ax)/ax
end_function
$
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
band_offset value=0.7
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
$
delta_so_well variation=function 
function(xw,yw,zw)
GaAs=0.34 ; InAs=0.43 ; GaN=0.017 ; InN=0.006 ;
InSb=0.81; GaSb=0.11;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
delta_so_bar  variation=function
function(xb,yb,zb)
GaAs=0.34 ; InAs=0.43 ; GaN=0.017 ; InN=0.006 ;
InSb=0.81; GaSb=0.11;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function
$
mass_gamma_well variation=function 
function(xw,yw,zw)
GaAs=0.064 ; InAs=0.023 ; GaN=.15; InN=.12;
InSb=0.0135; GaSb=0.039;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

mass_gamma_bar variation=function 
function(xb,yb,zb)
GaAs=0.064 ; InAs=0.023 ; GaN=.15; InN=.12;
InSb=0.0135; GaSb=0.039;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function

$
mass_l_well value=0.4
mass_l_bar value=0.4
$
gamma1_well  variation=function 
function(xw,yw,zw)
GaAs=6.85; InAs=20.4; GaN=2.67; InN=3.72;
InSb=34.8; GaSb=13.4;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
gamma1_bar variation=function
function(xb,yb,zb)
GaAs=6.85; InAs=20.4; GaN=2.67; InN=3.72;
InSb=34.8; GaSb=13.4;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw,zw)
GaAs=2.1 ; InAs=8.3 ; GaN=0.75 ; InN=1.26 ;
InSb=15.5; GaSb=4.7;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
gamma2_bar variation=function
function(xb,yb,zb)
GaAs=2.1 ; InAs=8.3 ; GaN=0.75 ; InN=1.26 ;
InSb=15.5; GaSb=4.7;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function

gamma3_well  variation=function 
function(xw,yw,zw)
GaAs=2.9 ; InAs=9.1 ; GaN=1.10; InN=1.63;
InSb=16.5; GaSb=6.0;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
gamma3_bar variation=function
function(xb,yb,zb)
GaAs=2.9 ; InAs=9.1 ; GaN=1.10; InN=1.63;
InSb=16.5; GaSb=6.0;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function

$
a_well  variation=function 
function(xw,yw,zw)
GaAs=-9.77 ; InAs=-6.0 ; GaN=-7.4; InN=-3.35;
InSb=-6.94-0.36; GaSb=-7.5-0.8;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
a_bar variation=function
function(xb,yb,zb)
GaAs=-9.77 ; InAs=-6.0 ; GaN=-7.4; InN=-3.35;
InSb=-6.94-0.36; GaSb=-7.5-0.8;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function
$

b_well  variation=function 
function(xw,yw,zw)
GaAs=-1.7 ; InAs=-1.8 ; GaN=-2.2 ; InN=-1.2 ;
InSb=-2.0; GaSb=-2.0;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
b_bar variation=function
function(xb,yb,zb)
GaAs=-1.7 ; InAs=-1.8 ; GaN=-2.2 ; InN=-1.2 ;
InSb=-2.0; GaSb=-2.0;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function
$
$ For Wurtzite, let us use c13->c12 and c33->c11
$
c11_well  variation=function 
function(xw,yw,zw)
GaAs=11.9 ; InAs=8.33 ; GaN=29.3; InN=18.7;
InSb=6.847; GaSb=8.842;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

c11_bar variation=function
function(xb,yb,zb)
GaAs=11.9 ; InAs=8.33 ; GaN=29.3; InN=18.7;
InSb=6.847; GaSb=8.842;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function
$
$
c12_well  variation=function 
function(xw,yw,zw)
GaAs=5.38 ; InAs=4.53 ; GaN=15.9; InN=12.5;
InSb=3.735; GaSb=4.026;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
c12_bar variation=function
function(xb,yb,zb)
GaAs=5.38 ; InAs=4.53 ; GaN=15.9; InN=12.5;
InSb=3.735; GaSb=4.026;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function

kane_para_f_well variation=function
function(xw,yw,zw)
InAs=-2.9; GaAs=-1.94; InN=-0.92; GaN=-0.92;
InSb=-0.23; GaSb=-1.63;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

kane_para_f_bar variation=function
function(xb,yb,zb)
InAs=-2.9; GaAs=-1.94; InN=-0.92; GaN=-0.92;
InSb=-0.23; GaSb=-1.63;
term1=xb*(1-yb-zb)*GaAs+xb*yb*GaN+xb*zb*GaSb;
term2=(1-xb)*(1-yb-zb)*InAs+(1-xb)*yb*InN+(1-xb)*zb*InSb;
term1+term2
end_function

$ this is the lattice const. of the substrate being used.
lattice_constant value=5.65325
end_active_layer InGaAsNSb/GaAs


$ **************************************************************
$
$ Complex MQW macro for In(1-xw)Ga(xw)As(1-yw-zw)N(yw)Sb(zw) 
$ grown on material lattice matched to GaAs such as AlGaAs.
$ 
$ Created Feb. 2017 based on previous InGaAsNSb/GaAs basic QW macro. 
$ Please take note of x/y/z convention
$
$ Typical use:
$ get_active_layer name=cx-InGaAsNSb  mater=#m &&
$ var1=#xw var2=#yw var3=#zw &&
$ var_symbol1=xw var_symbol2=yw var_symbol3=zw
$
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range zw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer cx-InGaAsNSb
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,yw,zw,temper)
GaAs=1.424-5.5d-4*temper**2/(temper+225.);
InAs=0.417-0.276e-3*temper**2/(temper+93.);
GaN=3.299-0.593e-3*temper**2/(temper+600);
InN=0.735-0.245e-3*temper**2/(temper+624);
InSb=0.235-0.32e-3*temper**2/(temper+170);
GaSb=0.812-0.417e-3*temper**2/(temper+140);
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term_bowing=xw*b_GaNAs*(1-yw)*yw+(1-yw)*b_InGaAs*xw*(1-xw);
term1+term2+term_bowing
end_function
$
lband_well variation=function 
function(xw,yw,zw)
GaAs=0.28; InAs=1.1; GaN=4.52-3.299; InN=2.51-1.94;
InSb=0.63-0.235; GaSb=0.875-0.812;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,yw,zw,temper)
GaAs=5.65325; InAs=6.05840; GaN=4.5; InN=4.98;
InSb=6.4794+3.48e-5*(temper-300);  
GaSb=6.0959+4.72e-5*(temper-300);
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
ax=term1+term2;
(GaAs-ax)/ax
end_function
$
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
band_offset value=0.7
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
$
delta_so_well variation=function 
function(xw,yw,zw)
GaAs=0.34 ; InAs=0.43 ; GaN=0.017 ; InN=0.006 ;
InSb=0.81; GaSb=0.11;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
mass_gamma_well variation=function 
function(xw,yw,zw)
GaAs=0.064 ; InAs=0.023 ; GaN=.15; InN=.12;
InSb=0.0135; GaSb=0.039;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

$
mass_l_well value=0.4
$
gamma1_well  variation=function 
function(xw,yw,zw)
GaAs=6.85; InAs=20.4; GaN=2.67; InN=3.72;
InSb=34.8; GaSb=13.4;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw,zw)
GaAs=2.1 ; InAs=8.3 ; GaN=0.75 ; InN=1.26 ;
InSb=15.5; GaSb=4.7;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

gamma3_well  variation=function 
function(xw,yw,zw)
GaAs=2.9 ; InAs=9.1 ; GaN=1.10; InN=1.63;
InSb=16.5; GaSb=6.0;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

$
a_well  variation=function 
function(xw,yw,zw)
GaAs=-9.77 ; InAs=-6.0 ; GaN=-7.4; InN=-3.35;
InSb=-6.94-0.36; GaSb=-7.5-0.8;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$

b_well  variation=function 
function(xw,yw,zw)
GaAs=-1.7 ; InAs=-1.8 ; GaN=-2.2 ; InN=-1.2 ;
InSb=-2.0; GaSb=-2.0;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function
$
$ For Wurtzite, let us use c13->c12 and c33->c11
$
c11_well  variation=function 
function(xw,yw,zw)
GaAs=11.9 ; InAs=8.33 ; GaN=29.3; InN=18.7;
InSb=6.847; GaSb=8.842;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

$
c12_well  variation=function 
function(xw,yw,zw)
GaAs=5.38 ; InAs=4.53 ; GaN=15.9; InN=12.5;
InSb=3.735; GaSb=4.026;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

kane_para_f_well variation=function
function(xw,yw,zw)
InAs=-2.9; GaAs=-1.94; InN=-0.92; GaN=-0.92;
InSb=-0.23; GaSb=-1.63;
term1=xw*(1-yw-zw)*GaAs+xw*yw*GaN+xw*zw*GaSb;
term2=(1-xw)*(1-yw-zw)*InAs+(1-xw)*yw*InN+(1-xw)*zw*InSb;
term1+term2
end_function

$ this is the lattice const. of the substrate being used.
lattice_constant value=5.65325
end_active_layer cx-InGaAsNSb

$ **************************************************************
$ macro for bulk 
$ In(1-x)Ga(x)As(y)N(1-y) 
$  [free-style]
$
$ Typical use:
$   load_macro name=ingaasn_xyt var1=#x var2=#y mater=#m &&
$   var_symbol1=x var_symbol2=y 
$
$ Basic theory:
$ Bilinear combination for compound of In(1-x)Ga(x)As(y)N(1-y):
$ Q(x,y)=x*y*Q_GaAs+x*(1-y)*Q_GaN
$     +(1-x)*y*Q_InAs+(1-x)*(1-y)*Q_InN 
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************************************
begin_macro ingaasn_xyt 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
$
dielectric_constant variation=function
function(x,y) 
di_GaAs=12.85;
di_InAs=15.15;
di_GaN=10;
di_InN=15.3;
term1=x*y*di_GaAs+x*(1-y)*di_GaN;
term2=(1-x)*y*di_InAs+(1-x)*(1-y)*di_InN ;
term1+term2
end_function
$
electron_mass variation=function
function(x,y)
mc_GaAs=0.064 ;
mc_InAs=0.023 ;
mc_GaN=.20;
mc_InN=.11;
term1=x*y*mc_GaAs+x*(1-y)*mc_GaN;
term2=(1-x)*y*mc_InAs+(1-x)*(1-y)*mc_InN ;
term1+term2
end_function
$
hole_mass variation=function
function(x,y)
g1_GaAs=6.85 ;
g1_InAs=20.4 ;
g2_GaAs=2.1 ;
g2_InAs=8.3 ;
mvlh_GaAs=1./(g1_GaAs+2.*g2_GaAs);
mvhh_GaAs=1./(g1_GaAs-2.*g2_GaAs);
mvlh_InAs=1./(g1_InAs+2.*g2_InAs);
mvhh_InAs=1./(g1_InAs-2.*g2_InAs);
mvlh_GaN=0.9767;     
mvhh_GaN=1.3758;
mvlh_InN=0.5133;
mvhh_InN=1.5948;  
m_lh=x*y*mvlh_GaAs+x*(1-y)*mvlh_GaN
+(1-x)*y*mvlh_InAs+(1-x)*(1-y)*mvlh_InN; 
m_hh=x*y*mvhh_GaAs+x*(1-y)*mvhh_GaN
+(1-x)*y*mvhh_InAs+(1-x)*(1-y)*mvhh_InN; 
( (m_lh)**(3/2)+(m_hh)**(3/2) )**(2/3)
end_function
$
band_gap variation=function
function(x,y,temper)
eg_GaAs=1.424;
eg_InAs=0.355;
eg_GaN=3.2397;
eg_InN=0.7111;
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=x*y*eg_GaAs+x*(1-y)*eg_GaN;
term2=(1-x)*y*eg_InAs+(1-x)*(1-y)*eg_InN; 
term_bowing=x*b_GaNAs*y*(1-y)+y*b_InGaAs*x*(1-x);
shift=-5.5d-4*temper**2/(temper+225.);
shift0=-5.5d-4*300.**2/(300.+225.);
term1+term2+term_bowing+shift-shift0
end_function

$
$ Ref. affinity is GaAs
$
affinity variation=function
function(x,y,temper)
eg_GaAs=1.424;
eg_InAs=0.355;
eg_GaN=3.2397;
eg_InN=0.7111;
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=x*y*eg_GaAs+x*(1-y)*eg_GaN;
term2=(1-x)*y*eg_InAs+(1-x)*(1-y)*eg_InN; 
term_bowing=x*b_GaNAs*y*(1-y)+y*b_InGaAs*x*(1-x);
shift=-5.5d-4*temper**2/(temper+225.);
shift0=-5.5d-4*300.**2/(300.+225.);
eg=term1+term2+term_bowing+shift-shift0;
off=0.7;
aff0=4.07;
eg0_GaAs=1.424;
aff0+off*(eg0_GaAs-eg)
end_function

electron_mobility variation=function 
function(x,y,total_doping)
mu_GaN=0.02;
mu_InN=0.02;
mu_GaAs=0.85;
mu_InAs=1.;
term1=x*y*mu_GaAs+x*(1-y)*mu_GaN;
term2=(1-x)*y*mu_InAs+(1-x)*(1-y)*mu_InN; 
mu_max=term1+term2;
mu_min=0.;
ref_dens=1.69d24;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(x,y,total_doping)
mu_GaAs=0.036;
mu_InAs=0.036;
mu_GaN=4.e-4;
mu_InN=4.e-4;
term1=x*y*mu_GaAs+x*(1-y)*mu_GaN;
term2=(1-x)*y*mu_InAs+(1-x)*(1-y)*mu_InN; 
mu_max=term1+term2;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5 
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.0e5
$
radiative_recomb value=2.d-16
auger_n value=1.5d-42
auger_p value=1.5d-42
lifetime_n value=1.e-7
lifetime_p value=1.e-7
$
$  The real index really depends on the wavelength.  User
$  should be prepared to modify this
$
real_index variation=function
function(x,y)
n_GaAs=3.65;
n_InAs=3.892;
n_GaN=2.5067;
n_InN=3.4167;
term1=x*y*n_GaAs+x*(1-y)*n_GaN;
term2=(1-x)*y*n_InAs+(1-x)*(1-y)*n_InN; 
term1+term2
end_function
$
thermal_kappa value=40.
end_macro ingaasn_xyt 

$ **************************************************************
$ macro for bulk 
$ In(1-x)Ga(x)As(1-y-z)N(y)Sb(z) 
$  [free-style]
$
$ Typical use:
$   load_macro name=ingaasnsb_xyzt var1=#x var2=#y var3=#z mater=#m &&
$   var_symbol1=x var_symbol2=y var_symbol3=z 
$ -------------------------------------------------------------------
$ Basic theory:
$ Bilinear combination for compound of In(1-x)Ga(x)As(1-y-z)N(y)Sb(z):
$ Q(x,y,z)=x*(1-y-z)*Q_GaAs+x*y*Q_GaN+x*z*Q_GaSb
$     +(1-x)*(1-y-z)*Q_InAs+(1-x)*y*Q_InN+(1-x)*z*InSb
$ Bowing coefficients may be used to correct the above.
$
$ Based on InGaAsN macro with addition of InSb, GaSb properties
$ from the VMR-paper and other references.
$ Please note the change of notation for composition y -> 1-y 
$ when comparing with InGaAsN macro.
$
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range z=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$
$ ***************************************************************
begin_macro ingaasnsb_xyzt 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
$
dielectric_constant variation=function
function(x,y,z) 
GaAs=12.85;
InAs=15.15;
GaN=10;
InN=15.3;
GaSb=14.8;
InSb=16.8;
x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb+(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb
end_function
$
electron_mass variation=function
function(x,y,z)
GaAs=0.064 ;
InAs=0.023 ;
GaN=.20;
InN=.11;
GaSb=0.042;
InSb=0.0135;
x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb+(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb
end_function
$
hole_mass variation=function
function(x,y,z)
g1_GaAs=6.85 ;
g2_GaAs=2.1 ;
mvlh_GaAs=1./(g1_GaAs+2.*g2_GaAs);
mvhh_GaAs=1./(g1_GaAs-2.*g2_GaAs);
GaAs=( mvlh_GaAs**(3/2)+mvhh_GaAs**(3/2) )**(2/3);
g1_InAs=20.4 ;
g2_InAs=8.3 ;
mvlh_InAs=1./(g1_InAs+2.*g2_InAs);
mvhh_InAs=1./(g1_InAs-2.*g2_InAs);
InAs=( mvlh_InAs**(3/2)+mvhh_InAs**(3/2) )**(2/3);
mvlh_GaN=0.9767;     
mvhh_GaN=1.3758;
GaN=( mvlh_GaN**(3/2)+mvhh_GaN**(3/2) )**(2/3);
mvlh_InN=0.5133;
mvhh_InN=1.5948;  
InN=( mvlh_InN**(3/2)+mvhh_InN**(3/2) )**(2/3);
GaSb=0.262;
InSb=0.266;
x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb+(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb
end_function
$
band_gap variation=function
function(x,y,z,temper)
GaAs=1.424;
InAs=0.355;
GaN=3.2397;
InN=0.7111;
GaSb=0.725;
InSb=0.1737;
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb;
term2=(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb;
term_bowing=x*b_GaNAs*y*(1-y)+(1-y)*b_InGaAs*x*(1-x);
shift=-5.5d-4*temper**2/(temper+225.);
shift0=-5.5d-4*300.**2/(300.+225.);
term1+term2+term_bowing+shift-shift0
end_function

$
$ use affinity of GaAs as reference:
$
affinity variation=function
function(x,y,z,temper)
GaAs=1.424;
InAs=0.355;
GaN=3.2397;
InN=0.7111;
GaSb=0.725;
InSb=0.1737;
b_GaNAs=-20.;
b_InGaAs=-0.6;
term1=x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb;
term2=(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb;
term_bowing=x*b_GaNAs*y*(1-y)+(1-y)*b_InGaAs*x*(1-x);
shift=-5.5d-4*temper**2/(temper+225.);
shift0=-5.5d-4*300.**2/(300.+225.);
eg=term1+term2+term_bowing+shift-shift0;
off=0.7;
aff0=4.07;
eg0_GaAs=1.424;
aff0+off*(eg0_GaAs-eg)
end_function

electron_mobility variation=function 
function(x,y,z,total_doping)
GaN=0.02;
InN=0.02;
GaAs=0.85;
InAs=1.;
GaSb=0.25;
InSb=5.;
term1=x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb;
term2=(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb;
mu_max=term1+term2;
mu_min=0.;
ref_dens=1.69d24;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(x,y,z,total_doping)
GaAs=0.036;
InAs=0.036;
GaN=4.e-4;
InN=4.e-4;
GaSb=0.1;
InSb=0.07;
term1=x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb;
term2=(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb;
mu_max=term1+term2;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5 
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.0e5
$
radiative_recomb value=2.d-16
auger_n value=1.5d-42
auger_p value=1.5d-42
lifetime_n value=1.e-7
lifetime_p value=1.e-7
$
$  The real index really depends on the wavelength.  User
$  should be prepared to modify this
$
real_index variation=function
function(x,y,z)
GaAs=3.65;
InAs=3.892;
GaN=2.5067;
InN=3.4167;
GaSb=3.9731;
InSb=4.;
term1=x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb;
term2=(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb;
term1+term2
end_function
$
$ thermal conductivity taken from
$ http://www.ioffe.ru/SVA/NSM/Semicond
$ and the references therein.
$
thermal_kappa variation=function
function(x,y,z)
GaAs=55;
InAs=27;
GaN=130;
InN=45;
GaSb=32;
InSb=18;
x*(1-y-z)*GaAs+x*y*GaN+x*z*GaSb+(1-x)*(1-y-z)*InAs+(1-x)*y*InN+(1-x)*z*InSb
end_function

end_macro ingaasnsb_xyzt 
$ **************************************************************
$
$ macro : InGaAsP/AlGaAs
$  Active layer macro for quantum well system of 
$  strained well of In(1-xw)Ga(xw)As(yw)P(1-yw) with
$  unstrained barrier of Al(xb)Ga(1-xb)As
$  grown on material lattice matched to GaAs.
$  [free-style]
$
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to GaAs if x and y is related by
$  x=(1+y)/(2.08-0.08*y)
$  
$  The band gap of InGaAsP lattice matched to GaAs is given by 
$  E_g=1.926-0.259*y-0.241*y**2
$  E_g=1.91 - 1.44*y+2.87*y*y-3.23*y*y*y+1.31*y*y*y*y  
$
$  3 parameters are used: (xw, yw, xb)
$
$ Typical use:
$   get_active_layer name=InGaAsP/AlGaAs  mater=#m &&
$     var1=#xw var2=#yw var3=#xb &&
$     var_symbol1=xw var_symbol2=yw var_symbol3=xb 
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer InGaAsP/AlGaAs
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

lattice_constant value=5.65325

$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
band_offset value=0.5
$ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

$
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0ga=5.65325 ;
a0ip=5.8688 ;
acomp=0.01724*xw*yw-0.44824*xw+0.2155*yw+a0ip ;
(a0ga-acomp)/acomp
end_function
$
$

$ --------------for In(1-xw)Ga(xw)As(yw)P(1-yw) well---------------------
$
ext_func1 variation=function 
function(xw,yw)
for 0.<xw*yw<0.9999 
fabd=1.347+0.643*xw+0.786*xw*xw ;
fabc=0.36+0.505*xw+0.555*xw*xw ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xw*(1.-xw)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xw)*facd+xw*fbcd ) ;
term3=xw*(1.-xw)+yw*(1.-yw) ;
(term1+term2)/(term3+1.e-6)
for 0.9999<xw*yw<1. 
1.424
end_function
$
ext_func3 variation=function 
function(xw,yw)
for 0.<(1+yw)/(2.08-0.08*yw)*yw<0.9999 
xm=(1+yw)/(2.08-0.08*yw) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xm*(1.-xm)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yw*(1.-yw) ;
(term1+term2)/(term3+1.e-6)
for 0.9999<(1+yw)/(2.08-0.08*yw)*yw<1.
1.424
end_function
$
eg0_well variation=function 
function(xw,yw,temper)
for 0.<xw<(1+yw)/(2.08-0.08*yw) 
xm=(1+yw)/(2.08-0.08*yw) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
fact=xw/xm ;
$ eg0=1.926-0.259*yw-0.241*yw*yw ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yw +2.87*yw*yw-3.23*yw*yw*yw+1.31*yw*yw*yw*yw ;
$----------------------------------------------------------
ext_func1+fact*(eg0-ext_func3)+shift-shift0
for (1+yw)/(2.08-0.08*yw)<xw<1.
xm=(1+yw)/(2.08-0.08*yw) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
fact=(1.-xw)/(1.-xm+1.e-6) ;
$ eg0=1.926-0.259*yw-0.241*yw*yw ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yw +2.87*yw*yw-3.23*yw*yw*yw+1.31*yw*yw*yw*yw ;
$----------------------------------------------------------
ext_func1+fact*(eg0-ext_func3)+shift-shift0
end_function
$


$
lband_well variation=function 
function(xw,yw)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$

$
delta_so_well variation=function 
function(xw,yw)
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
$
$
mass_gamma_well variation=function 
function(xw,yw)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
$
gamma1_well  variation=function 
function(xw,yw)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3ga=2.9 ;
g3gp=1.25 ;
g3in=9.1 ;
g3ip=2.0 ;
term1=(1.-xw)*yw*g3in+(1.-xw)*(1.-yw)*g3ip ;
term2=xw*yw*g3ga+xw*(1.-yw)*g3gp ;
term1+term2
end_function
$
a_well  variation=function 
function(xw,yw)
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xw)*yw*dhin+(1.-xw)*(1.-yw)*dhip ;
term2=xw*yw*dhga+xw*(1.-yw)*dhgp ;
term1+term2
end_function
$
b_well  variation=function 
function(xw,yw)
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xw)*yw*duin+(1.-xw)*(1.-yw)*duip ;
term2=xw*yw*duga+xw*(1.-yw)*dugp ;
term1+term2
end_function
$
c11_well  variation=function 
function(xw,yw)
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xw)*yw*c11in+(1.-xw)*(1.-yw)*c11ip ;
term2=xw*yw*c11ga+xw*(1.-yw)*c11gp ;
term1+term2
end_function
$
c12_well  variation=function 
function(xw,yw)
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xw)*yw*c12in+(1.-xw)*(1.-yw)*c12ip ;
term2=xw*yw*c12ga+xw*(1.-yw)*c12gp ;
term1+term2
end_function
$
$ ---------Parameters of the Al(xb)Ga(1-xb)As barrier-----------
lband_bar value=0.28
$
strain_bar value=0.
$
eg0_bar variation=function 
function(xb,temper)
for   0.<xb<0.45 
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.424+1.247*xb+shift-shift0
for  0.45<xb<1.
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
1.9+.125*xb+0.143*xb**2+shift-shift0
end_function
$
$
delta_so_bar value=0.366
$
mass_gamma_bar variation=function 
function(xb)
0.067+0.083*xb
end_function
$
mass_l_bar variation=function 
function(xb)
0.56+0.1*xb
end_function
$
gamma1_bar variation=function
function(xb)
g1ga=6.9 ;
g1al=3.45 ;
g1ga*(1.-xb)+g1al*xb
end_function
$
gamma2_bar variation=function
function(xb)
g2ga=2.2 ;
g2al=0.68 ;
g2ga*(1.-xb)+g2al*xb
end_function
$
gamma3_bar variation=function
function(xb)
g3ga=2.9 ;
g3al=1.29 ;
g3ga*(1.-xb)+g3al*xb
end_function
$
a_bar variation=function
function(xb)
dhga=-9.8 ;
dhal=-9.8 ;
dhga*(1.-xb)+dhal*xb
end_function
$
b_bar variation=function
function(xb)
duga=-1.76 ;
dual=-1.76 ;
duga*(1.-xb)+dual*xb
end_function
$
c11_bar variation=function
function(xb)
c11ga=11.9 ;
c11al=12.02 ;
c11ga*(1.-xb)+c11al*xb
end_function
$
c12_bar variation=function
function(xb)
c12ga=5.38 ;
c12al=5.70 ;
c12ga*(1.-xb)+c12al*xb
end_function

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function

kane_para_f_bar variation=function
function(xb)
gaas=-1.94;
alas=-0.48;
(1-xb)*gaas+xb*alas
end_function

$
end_active_layer InGaAsP/AlGaAs

$ ******************************************************
$ acitve layer macro : cx-Si
$ Complex silicon active macro, designed for MOS-QW models.
$ To be used with cx-SiO2
$  [free-style]
$ Typical use:
$   get_active_layer name=cx-Si mater=#m 
$ parameter_range temper=[77 600] 
$ ******************************************************
$
begin_active_layer cx-Si
$pmm change Mar06
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta  
layer_type type=mos_complex valley_gamma=6 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$pmm New parameter for inisotropic_cond  mass in Dimond Structures (Si, SiGe, Ge)
$ lax_mass_well = long  axis mass, tax_mass_well = short axis masss
$ We can not use any longer cond. band  masses of Gamma valley for Silicon QW.
lax_mass_well value=0.916
tax_mass_well value=0.19

$pmm end of change
$
eg0_well variation=function 
function(temper)
for   0.<temper<170. 
1.17+1.059e-5*temper-6.05e-7*temper**2
for   170.<temper<600. 
1.1785-9.025e-5*temper-3.05e-7*temper**2
end_function
$
$ Si/SiO2 bandgap and offset data from
$ C.C. Umbach and J.M. Blakely, "Development of a sub-picoamp
$ scanning tunneling microscope for oxide surfaces," 
$ Applied Surface Science, 2001.  They observed bandgap between
$ 7-8 eV and estimated offset to be 0.43.
$
band_offset value=0.43
$pmm Mar02 changed since  for Si gamma band is not a bottom of CB 
$pmm longitudinal-axis , and transversal-axis masses are used instead
lax_mass_well variation=function 
function(temper)
$pmm Mar02  change 
$0.98+1.3628e-4*(temper-300)
0.916+1.3628e-4*(temper-300)
end_function
$
tax_mass_well variation=function  
function(temper)
0.190+1.3628e-4*(temper-300)
end_function
$pmm END OF Mar02  change 

$ we express HH and LH masses in terms of Luttinger numbers: 
$      mv_hh=1/(gamma1-2.*gamma2)
$      mv_lh=1/(gamma1+2.*gamma2)
$      gamma1=(1/mv_hh + 1/mv_lh)/2
$      gamma2=(1/mv_lh - 1/mv_hh)/4
$
gamma1_well variation=function 
function(temper)
mv_hh=0.49;
mv_lh=0.16;
0.5*(1/mv_hh+1/mv_lh)
end_function

gamma2_well variation=function 
function(temper)
mv_hh=0.49;
mv_lh=0.16;
0.25*(1/mv_lh-1/mv_hh)
end_function

end_active_layer cx-Si

$ ******************************************************
$ acitve layer macro : cx-SiO2
$ Complex silicon dioxid active mayer cro, designed for MOS-QW models.
$  [free-style]
$ To be used with cx-Si
$ Typical use:
$   get_active_layer name=cx-SiO2 mater=#m 
$ ******************************************************
$
begin_active_layer cx-SiO2
$
layer_type type=mos_complex valley_gamma=6 valley_hh=1  
$
$ Si/SiO2 bandgap and offset data from
$ C.C. Umbach and J.M. Blakely, "Development of a sub-picoamp
$ scanning tunneling microscope for oxide surfaces," 
$ Applied Surface Science, 2001.  They observed bandgap between
$ 7-8 eV and estimated offset to be 0.43.
$
$
eg0_well value=7.5
$ Sze text book value
$eg0_well value=9.
band_offset value=0.43
$pmm changed since gamma is not relevant for SiO2 we use 
$longitudinal-axis , and transversal-axis masses instead
lax_mass_well value=1.0
tax_mass_well value=1.0
$
$ we express HH and LH masses in terms of Luttinger numbers: 
$      mv_hh=1/(gamma1-2.*gamma2)
$      mv_lh=1/(gamma1+2.*gamma2)
$      gamma1=(1/mv_hh + 1/mv_lh)/2
$      gamma2=(1/mv_lh - 1/mv_hh)/4
$

gamma1_well value=1 

gamma2_well value=0

end_active_layer cx-SiO2

$ ******************************************************
$ acitve layer macro : cx-Air 
$ Complex air active mayer cro, special purpose macro.
$ To be used with cx-Si
$ Typical use:
$   get_active_layer name=cx-Air mater=#m 
$ ******************************************************
$
begin_active_layer cx-Air 
$
layer_type type=mos_complex valley_gamma=1 valley_hh=1  
$
$ affinity(si)=4.17, offset=0.43
$ For air: Delta_Ec=4.17  Eg(si)=1.08
$ =>Delta_Ec+Eg(si)+Delta_Ev=Eg(air)
$ =>Delta_Ec=offset*(Eg(air)-Eg(si))
$ =>Eg(air)=Delta_Ec/offset+Eg(si)
eg0_well value=10.778
band_offset value=0.43
lax_mass_well value=1.0
tax_mass_well value=1.0
$
$ we express HH and LH masses in terms of Luttinger numbers: 
$      mv_hh=1/(gamma1-2.*gamma2)
$      mv_lh=1/(gamma1+2.*gamma2)
$      gamma1=(1/mv_hh + 1/mv_lh)/2
$      gamma2=(1/mv_lh - 1/mv_hh)/4
$

gamma1_well value=1 

gamma2_well value=0

end_active_layer cx-Air 

$ ******************************************************
$ acitve layer macro : cx-SiN
$ Complex silicon nitride active macro, designed for MOS-QW models.
$ To be used with cx-SiO2 and other related active macros 
$  [free-style]
$ Typical use:
$   get_active_layer name=cx-SiN mater=#m 
$ parameter_range temper=[77 600] 
$ ******************************************************
$
begin_active_layer cx-SiN
material type=semicond band_valleys=(6 1) &&
  el_vel_model=beta hole_vel_model=beta  
layer_type type=mos_complex valley_gamma=6 valley_l=4 &&
  valley_hh=1 valley_lh=1 

$ lax_mass_well = long  axis mass, tax_mass_well = short axis masss
$ We can not use any longer cond. band  masses of Gamma valley for Silicon QW.

lax_mass_well value=0.916
tax_mass_well value=0.19

$pmm end of change
$
eg0_well variation=function 
function(temper)
for   0.<temper<170. 
1.17+1.059e-5*temper-6.05e-7*temper**2
for   170.<temper<600. 
1.1785-9.025e-5*temper-3.05e-7*temper**2
end_function
$
$
band_offset value=0.43
$pmm Mar02 changed since  for Si gamma band is not a bottom of CB 
$pmm longitudinal-axis , and transversal-axis masses are used instead
lax_mass_well variation=function 
function(temper)
0.916+1.3628e-4*(temper-300)
end_function
$
tax_mass_well variation=function  
function(temper)
0.190+1.3628e-4*(temper-300)
end_function
$pmm END OF Mar02  change 

$ we express HH and LH masses in terms of Luttinger numbers: 
$      mv_hh=1/(gamma1-2.*gamma2)
$      mv_lh=1/(gamma1+2.*gamma2)
$      gamma1=(1/mv_hh + 1/mv_lh)/2
$      gamma2=(1/mv_lh - 1/mv_hh)/4
$
gamma1_well variation=function 
function(temper)
mv_hh=0.49;
mv_lh=0.16;
0.5*(1/mv_hh+1/mv_lh)
end_function

gamma2_well variation=function 
function(temper)
mv_hh=0.49;
mv_lh=0.16;
0.25*(1/mv_lh-1/mv_hh)
end_function

end_active_layer cx-SiN

$ ***********************************
$ macro for s-sio2
$  [free-style]
$ Bulk of SiO2 treated as a semiconductor
$ Typical use:
$   load_macro name=s-sio2 mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************
begin_macro s-sio2 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=3.9
electron_mass value=1.
hole_mass value=1.
band_gap value=7.5
$ text book (Sze)
$band_gap value=9.

$
$ affinity estimated from a band offset of 0.43
$
affinity value=1.41
$affinity value=0.76

$ For mobility estimate,  we use the classical Drude model
$ of electron scattering off some scattering centers.
$ [see, for example, N.W. Ashcroft and N.D. Mermin, "Solid State Physics,"
$  Sounders College, 1976.]
$ Then,  mobility is e*tau/m  where tau is relaxation time of the
$ scattering events.  To estimate tau, we use a thermal velocity of 
$ 10^5 m/s and a scattering mean free path set to an oxide thickness of 4 nm.
electron_mobility variation=function 
function(total_doping)
$mu_max=1.e-10;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.0e23;
alpha=1. ;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
$mu_max=1.e-10;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.e23;
alpha=1.;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5

radiative_recomb value=2.e-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6
real_index  value=1.46
absorption value=0.
thermal_kappa value=150.
end_macro s-sio2

$ ***********************************
$ macro for s-sin
$  [free-style]
$ Bulk of SiN treated as a semiconductor
$ Please note that SiN bandgap and alignment is technology
$ senstive.  Please adjust band parameters for individual application.
$ Typical use:
$   load_macro name=s-sin mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************
begin_macro s-sin 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=7.5
electron_mass value=1.
hole_mass value=1.
$band_gap value=4.5
band_gap value=7.

$
$
$affinity value=2.3
affinity value=1.

$ For mobility estimate,  we use the classical Drude model
$ of electron scattering off some scattering centers.
$ [see, for example, N.W. Ashcroft and N.D. Mermin, "Solid State Physics,"
$  Sounders College, 1976.]
$ Then,  mobility is e*tau/m  where tau is relaxation time of the
$ scattering events.  To estimate tau, we use a thermal velocity of 
$ 10^5 m/s and a scattering mean free path set to thickness of 4 nm.
electron_mobility variation=function 
function(total_doping)
mu_max=1.e-6;
mu_min=0.0;
ref_dens=1.0d23;
alpha=1. ;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=1.e-6;
mu_min=0.0;
ref_dens=1.e23;
alpha=1.;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5

radiative_recomb value=2.e-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6
real_index  value=2.05
absorption value=0.
thermal_kappa value=10.
end_macro s-sin

$ ***********************************
$ macro for s-air
$  [free-style]
$ Bulk macro of air treated as a semiconductor 
$ (for special purpose of confining silicon)
$ Typical use:
$   load_macro name=s-air mater=#m
$ ***************************************
begin_macro s-air 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=1.
electron_mass value=1.
hole_mass value=1.
$
$ affinity(si)=4.17, offset=0.43
$ For air: Delta_Ec=4.17  Eg(si)=1.08
$ =>Delta_Ec+Eg(si)+Delta_Ev=Eg(air)
$ =>Delta_Ec=offset*(Eg(air)-Eg(si))
$ =>Eg(air)=Delta_Ec/offset+Eg(si)
$ 
band_gap value=10.778
$
$ affinity of air == 0
$
affinity value=0.

$ mobility is not important since we do not expect electron/hole to
$ conduct in air
electron_mobility value=1.e-8
hole_mobility value=1.e-8

norm_field value=4.e5
tau_energy value=1.d-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5

radiative_recomb value=2.e-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6
real_index  value=1.
absorption value=0.
thermal_kappa value=1.
end_macro s-air 

! ***************************************************
begin_macro hfo2
material type=insulator
$ set affinity for the purpose of plotting band diagram
affinity value=2.55
$band_gap value=8.
dielectric_constant value=25
real_index variation=table
table(wavelength)
0.2500	2.1222
0.2625	2.104825
0.2750  2.0887
0.2875 	2.073775
0.3000 	2.06
0.3125 	2.047344
0.3250 	2.0357
0.3375 	2.024963
0.3500 	2.0151
0.3625 	2.006088
0.3750 	1.9978
0.3875 	1.9901
0.4000 	1.983
0.4125 	1.9765
0.4250 	1.9705
0.4375 	1.9649
0.4500 	1.9597
0.4625 	1.954881
0.4750 	1.9504
0.4875 	1.946206
0.5000 	1.9423
0.5125 	1.938681
0.5250	1.9353
0.5375 	1.9321
0.5500 	1.9291
0.5625 	1.926312
0.5750 	1.9237
0.5875 	1.921231
0.6000	1.9189
0.6125 	1.916688
0.6250 	1.9146
0.6375 	1.91265
0.6500 	1.9108
0.6625 	1.909
0.6750 	1.9073
0.6875 	1.905756
0.7000 	1.9043
0.7125 	1.902869
0.7250 	1.9015
0.7375 	1.900219
0.7500 	1.899
0.7625	1.897825
0.7750 	1.8967
0.7875 	1.895625
0.8000 	1.8946
0.8125 	1.893631
0.8250 	1.8927
0.8375 	1.891775
0.8500 	1.8909
0.8625 	1.890131
0.8750 	1.8894
0.8875 	1.888669
0.9000	1.8879
end_table

absorption real_index variation=table
table(wavelength)
    0.2001   9.173
    0.202    9.173
    0.2041   9.173
    0.206    9.1449
    0.2079   9.1168
    0.2099   8.8919
    0.2122   8.4984
    0.2138   7.7958
    0.2147   7.4866
    0.2158   7.1774
    0.218    6.559
    0.2201   6.1093
    0.2216   5.9688
    0.2237   5.8845
    0.2259   5.8001
    0.2294   5.772
    0.2319   5.7439
    0.2336   5.6596
    0.236    5.6315
    0.2377   5.6034
    0.2397   5.4909
    0.242    5.2942
    0.2436   5.1537
    0.2457   5.0974
    0.2479   5.0131
    0.2501   4.8164
    0.2525   4.7039
    0.2551   4.5353
    0.2569   4.3666
    0.2579   4.198
    0.26     4.1699
    0.2616   4.198
    0.2632   4.0856
    0.2657   4.0294
    0.2693   4.0294
    0.2728   4.0294
    0.2769   4.0856
    0.28     4.1137
end_table
thermal_kappa value=1.
end_macro hfo2


! ***************************************************

begin_macro s-hfo2
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta
dielectric_constant value=25
electron_mass value=0.11
hole_mass value=0.11
band_gap value=5.7

$
$ affinity estimated from a band offset of 1.5
$
affinity value=2.55

$ For mobility estimate,  we use the classical Drude model
$ of electron scattering off some scattering centers.
$ [see, for example, N.W. Ashcroft and N.D. Mermin, "Solid State Physics,"
$  Sounders College, 1976.]
$ Then,  mobility is e*tau/m  where tau is relaxation time of the
$ scattering events.  To estimate tau, we use a thermal velocity of
$ 10^5 m/s and a scattering mean free path set to an oxide thickness of 4 nm.
electron_mobility variation=function
function(total_doping) 
$mu_max=1.e-6;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.0e23;
alpha=1. ;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function
function(total_doping)
$mu_max=1.e-6;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.e23;
alpha=1.;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5

radiative_recomb value=2.e-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6
real_index  value=1.88
absorption value=0.
thermal_kappa value=1.
end_macro s-hfo2



begin_macro al2o3
material type=insulator
$ set affinity for the purpose of plotting band diagram
affinity value=1.25
$band_gap value=8.
dielectric_constant value=9.0
real_index variation=table
table(wavelength)
2.480  	1.726
2.066	1.736
1.771  	1.742
1.550  	1.746
1.378  	1.749
1.240  	1.751
1.127  	1.7526
1.033  	1.7542
0.9537	1.7558
0.8856 	1.7574
0.8266 	1.759
0.7749 	1.7606
0.7293 	1.7622
0.6888 	1.7638
0.6525 	1.7654
0.6199	1.767
0.5904 	1.768568
0.5636 	1.770144
0.5391 	1.771736
0.5166 	1.773352
0.4959 	1.775
0.4769 	1.776656
0.4592 	1.778368
0.4428 	1.780152
0.4275 	1.782024
0.4133 	1.784
0.3999 	1.786192
0.3875 	1.788496
0.3757 	1.790904
0.3647 	1.793408
0.3542	1.796
0.3444 	1.798608
0.3351 	1.801304
0.3263 	1.804096
0.3179 	1.806992
0.3100	1.81
0.3024 	1.813576
0.2952 	1.817168
0.2883	1.820672
0.2818 	1.823984
0.2755 	1.827
0.2695 	1.829104
0.2638 	1.830832
0.2583 	1.832208
0.2530 	1.833256
0.2480 	1.834
0.2431 	1.834336
0.2384 	1.834448
0.2339 	1.834392
0.2296 	1.834224
0.2254 	1.834
0.2214 	1.833776
0.2175 	1.833608
0.2138 	1.833552
0.2101 	1.833664
0.2066	1.834
end_table

absorption real_index variation=table
table(wavelength)
    0.3736    0.3215
    0.3450   22.2577
    0.2406   44.6153
    0.2126   60.8895
    0.1828  101.3903
    0.1775  106.6962
    0.1662  111.5160
    0.1590  129.9987
    0.1487  138.7598
    0.1440  138.7935
    0.1375  137.4393
    0.1253  132.5480
    0.1219  140.1365
    0.1143  134.3366
    0.1064  136.0819
    0.1022  140.0417
    0.0968  153.2629
    0.0929  164.0779
    0.0875  171.7680
    0.0835  183.3520
    0.0756  184.5063
    0.0715  189.5462
    0.0675  185.7535
    0.0647  167.2271
    0.0614  149.2339
    0.0583  133.0908
    0.0541  113.5486
    0.0501   92.9391
    0.0466   82.7926
    0.0445   81.1621
    0.0424   87.2017
    0.0404   87.4538
    0.0385   85.4333
    0.0368   78.4648
    0.0355   75.7905
    0.0344   69.9542
    0.0332   65.1834
    0.0325   62.8885
    0.0317   64.4475
    0.0309   63.6234
    0.0299   64.4153
end_table

thermal_kappa value=30.
end_macro al2o3





begin_macro s-al2o3
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta
dielectric_constant value=9
electron_mass value=0.4
hole_mass value=7.5
band_gap value=5.7

$
$ affinity estimated from a band offset of 1.5
$
affinity value=1.25

$ For mobility estimate,  we use the classical Drude model
$ of electron scattering off some scattering centers.
$ [see, for example, N.W. Ashcroft and N.D. Mermin, "Solid State Physics,"
$  Sounders College, 1976.]
$ Then,  mobility is e*tau/m  where tau is relaxation time of the
$ scattering events.  To estimate tau, we use a thermal velocity of
$ 10^5 m/s and a scattering mean free path set to an oxide thickness of 4 nm.
electron_mobility variation=function
function(total_doping)
$mu_max=1.e-6;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.0e23;
alpha=1. ;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function
function(total_doping)
$mu_max=1.e-6;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.e23;
alpha=1.;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5

radiative_recomb value=2.e-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6
real_index  value=1.65
absorption value=0.
thermal_kappa value=30.
end_macro s-al2o3



begin_macro hfsio4
material type=insulator
$ set affinity for the purpose of plotting band diagram
affinity value=2.25
$band_gap value=8.
dielectric_constant value=11
real_index variation=table
table(wavelength)
0.2500	2.1222
0.2625	2.104825
0.2750  2.0887
0.2875 	2.073775
0.3000 	2.06
0.3125 	2.047344
0.3250 	2.0357
0.3375 	2.024963
0.3500 	2.0151
0.3625 	2.006088
0.3750 	1.9978
0.3875 	1.9901
0.4000 	1.983
0.4125 	1.9765
0.4250 	1.9705
0.4375 	1.9649
0.4500 	1.9597
0.4625 	1.954881
0.4750 	1.9504
0.4875 	1.946206
0.5000 	1.9423
0.5125 	1.938681
0.5250	1.9353
0.5375 	1.9321
0.5500 	1.9291
0.5625 	1.926312
0.5750 	1.9237
0.5875 	1.921231
0.6000	1.9189
0.6125 	1.916688
0.6250 	1.9146
0.6375 	1.91265
0.6500 	1.9108
0.6625 	1.909
0.6750 	1.9073
0.6875 	1.905756
0.7000 	1.9043
0.7125 	1.902869
0.7250 	1.9015
0.7375 	1.900219
0.7500 	1.899
0.7625	1.897825
0.7750 	1.8967
0.7875 	1.895625
0.8000 	1.8946
0.8125 	1.893631
0.8250 	1.8927
0.8375 	1.891775
0.8500 	1.8909
0.8625 	1.890131
0.8750 	1.8894
0.8875 	1.888669
0.9000	1.8879
end_table

absorption real_index variation=table
table(wavelength)
    0.2800    4.1137
    0.2769    4.0856
    0.2728    4.0294
    0.2693    4.0294
    0.2657    4.0294
    0.2632    4.0856
    0.2616    4.1980
    0.2600    4.1699
    0.2579    4.1980
    0.2569    4.3666
    0.2551    4.5353
    0.2525    4.7039
    0.2501    4.8164
    0.2479    5.0131
    0.2457    5.0974
    0.2436    5.1537
    0.2420    5.2942
    0.2397    5.4909
    0.2377    5.6034
    0.2360    5.6315
    0.2336    5.6596
    0.2319    5.7439
    0.2294    5.7720
    0.2259    5.8001
    0.2237    5.8845
    0.2216    5.9688
    0.2201    6.1093
    0.2180    6.5590
    0.2158    7.1774
    0.2147    7.4866
    0.2138    7.7958
    0.2122    8.4984
    0.2099    8.8919
    0.2079    9.1168
    0.2060    9.1449
    0.2041    9.1730
    0.2020    9.1730
    0.2001    9.1730
end_table
thermal_kappa value=1.
end_macro hfsio4





begin_macro s-hfsio4
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta
dielectric_constant value=11
electron_mass value=0.11
hole_mass value=0.11
band_gap value=6.5

$
$ affinity estimated from a band offset of 1.5
$
affinity value=2.25

$ For mobility estimate,  we use the classical Drude model
$ of electron scattering off some scattering centers.
$ [see, for example, N.W. Ashcroft and N.D. Mermin, "Solid State Physics,"
$  Sounders College, 1976.]
$ Then,  mobility is e*tau/m  where tau is relaxation time of the
$ scattering events.  To estimate tau, we use a thermal velocity of
$ 10^5 m/s and a scattering mean free path set to an oxide thickness of 4 nm.
electron_mobility variation=function
function(total_doping) 
$mu_max=1.e-6;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.0e23;
alpha=1. ;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function
function(total_doping)
$mu_max=1.e-6;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.e23;
alpha=1.;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5

radiative_recomb value=2.e-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6
real_index  value=1.88
absorption value=0.
thermal_kappa value=1.
end_macro s-hfsio4



begin_macro ta2o5
material type=insulator
$ set affinity for the purpose of plotting band diagram
affinity value=3.0
$band_gap value=8.
dielectric_constant value=26
real_index variation=table
table(wavelength)
0.3000 	1.962278
0.3050 	1.953154
0.3100 	1.944644
0.3150 	1.936695
0.3200 	1.92926
0.3250	1.922298
0.3300 	1.91577
0.3350 	1.909641
0.3400 	1.903881
0.3450 	1.898461
0.3500 	1.893356
0.3550 	1.888543
0.3600 	1.883999
0.3650 	1.879706
0.3700 	1.875645
0.3750 	1.871802
0.3800 	1.86816
0.3850 	1.864706
0.3900 	1.861428
0.3950 	1.858313
0.4000 	1.855353
0.4050 	1.852536
0.4100	1.849853
0.4150 	1.847297
0.4200	1.844859
0.4250 	1.842533
0.4300 	1.840312
0.4350 	1.838189
0.4400 	1.83616
0.4450 	1.834218
0.4500 	1.832358
0.4550	1.830577
0.4600 	1.82887
0.4650 	1.827232
0.4700 	1.82566
0.4750 	1.824151
0.4800 	1.822702
0.4850 	1.821308
0.4900 	1.819968
0.4950 	1.818679
0.5000 	1.817438
0.5050 	1.816243
0.5100 	1.815091
0.5150 	1.813981
0.5200 	1.81291
0.5250 	1.811877
0.5300 	1.81088
0.5350	1.809917
0.5400 	1.808987
0.5450	1.808088
0.5500 	1.807219
0.5550 	1.806378
0.5600 	1.805565
0.5650 	1.804778
0.5700 	1.804016
0.5750 	1.803277
0.5800 	1.802562
0.5850 	1.801869
0.5900 	1.801197
0.5950	1.800545
0.6000 	1.799913
0.6050 	1.799299
0.6100 	1.798703
0.6150 	1.798125
0.6200	1.797563
0.6250	1.797017
0.6300 	1.796486
0.6350 	1.795971
0.6400	1.795469
0.6450 	1.794981
0.6500 	1.794506
0.6550 	1.794044
0.6600 	1.793595
0.6650 	1.793157
0.6700 	1.79273
0.6750 	1.792315
0.6800 	1.79191
0.6850 	1.791516
0.6900	1.791131
0.6950 	1.790756
0.7000 	1.79039
0.7050	1.790034
0.7100	1.789686
0.7150 	1.789346
0.7200 	1.789014
0.7250 	1.788691
0.7300 	1.788375
0.7350 	1.788066
0.7400 	1.787764
0.7450 	1.78747
0.7500 	1.787182
0.7550 	1.786901
0.7600 	1.786626
0.7650 	1.786356
0.7700	1.786093
0.7750 	1.785836
0.7800 	1.785585
0.7850 	1.785338
0.7900 	1.785097
0.7950 	1.784861
0.8000 	1.784631
0.8050 	1.784405
0.8100 	1.784183
0.8150 	1.783966
0.8200	1.783754
0.8250 	1.783546
0.8300 	1.783342
0.8350 	1.783143
0.8400	1.782947
0.8450 	1.782755
0.8500 	1.782567
end_table

absorption real_index variation=table
table(wavelength)
   0.341306665423E+00   0.100278695839E+05
   0.341748299521E+00   0.978916932799E+04
   0.345989064746E+00   0.953072717069E+04
   0.346546060764E+00   0.919290261412E+04
   0.347884595849E+00   0.875526243427E+04
   0.348359560407E+00   0.837753928129E+04
   0.348972692188E+00   0.809921695805E+04
   0.349448525620E+00   0.774123570650E+04
   0.350702422625E+00   0.720447122595E+04
   0.351150622613E+00   0.682660980846E+04
   0.352569451410E+00   0.638938442215E+04
   0.353933882191E+00   0.593214060539E+04
   0.354271548403E+00   0.547475852411E+04
   0.355746512961E+00   0.509703537113E+04
   0.355943405330E+00   0.448102675582E+04
   0.356198171209E+00   0.396400417671E+04
   0.356452068213E+00   0.342723969616E+04
   0.357376101634E+00   0.269139702712E+04
   0.360271632737E+00   0.191593229071E+04
   0.363165426092E+00   0.110098375142E+04
   0.367033816051E+00   0.544062575902E+03
   0.381485868107E+00   0.0
   0.456949707821E+00   0.0
   0.556280593555E+00   0.0
   0.663557950148E+00   0.0
   0.762888835882E+00   0.0
   0.874139427904E+00   0.0
   0.969524711653E+00   0.0
   0.107282883282E+01   0.0
   0.114437470399E+01   0.0
end_table

thermal_kappa value=30.
end_macro ta2o5





begin_macro s-ta2o5
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta
dielectric_constant value=26
electron_mass value=0.1
hole_mass value=0.5
band_gap value=4.5

$
$ affinity estimated from a band offset of 1.0
$
affinity value=3.0

$ For mobility estimate,  we use the classical Drude model
$ of electron scattering off some scattering centers.
$ [see, for example, N.W. Ashcroft and N.D. Mermin, "Solid State Physics,"
$  Sounders College, 1976.]
$ Then,  mobility is e*tau/m  where tau is relaxation time of the
$ scattering events.  To estimate tau, we use a thermal velocity of
$ 10^5 m/s and a scattering mean free path set to an oxide thickness of 4 nm.
electron_mobility variation=function
function(total_doping)
$mu_max=1.e-6;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.0e23;
alpha=1. ;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function
function(total_doping)
$mu_max=1.e-6;
mu_max=7.e-3;
mu_min=0.0;
ref_dens=1.e23;
alpha=1.;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field value=4.e5
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5

radiative_recomb value=2.e-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6
real_index  value=1.78
absorption value=0.
thermal_kappa value=30.
end_macro s-ta2o5





$ **************************************************************
$
$  Complex Active layer macro of strained well/barrier of 
$  In(1-xw-yw)Ga(xw)Al(yw)As 
$  grown on material lattice matched to InP.  The same macro may
$  be used to descript a well or a barrier layer.
$  [free-style]
$
$  Vegard's law is used to derive compound parameters from
$  binaries.  Please also see the following reference.
$
$  D. Olego, T.Y. Chang, E.A. Silberg, E.A. Caridi, and A. Pinczuk,
$  "Compositional dependence of band-gap energy and conduction-band
$  effective mass of In(1-x-y)Ag(x)Al(y)As lattice matched to InP.",
$  Appl. Phys. Lett., vol. 41, pp. 476-478, 1982
$  
$ Typical use:
$   get_active_layer name=cx-InGaAlAs/InP mater=#m &&
$     var1=#xw var2=#yw var_symbol1=xw var_symbol2=yw
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer cx-InGaAlAs/InP
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

band_offset value=0.72

eg0_well variation=function 
function(xw,yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*xw+2.093*yw ;
term2=0.436*xw**2 +0.577*yw**2+1.013*xw*yw ;
term1+term2+shift-shift0
end_function
$
lband_well value=0.28
$
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)As)(z)(In(1-y1)Al(y1)As)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$  Compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0gaas=5.65325 ;
a0alas=5.6605 ;
a0inas=6.05840 ;
a0inp=5.8688 ;
axy=a0inas+xw*(a0gaas-a0inas)+yw*(a0alas-a0inas) ;
(a0inp-axy)/axy
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
delal=0.279 ;
delga=0.34 ;
delin=0.43 ;
xw*(delga-delin)+yw*(delal-delin)+delin
end_function
$
$
mass_gamma_well variation=function 
function(xw,yw)
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
xw*(emnga-emnin)+yw*(emnal-emnin)+emnin
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
xw*(g1ga-g1in)+yw*(g1al-g1in)+g1in
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
xw*(g2ga-g2in)+yw*(g2al-g2in)+g2in
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3al=1.29 ;
g3ga=2.9 ;
g3in=9.3 ;
xw*(g3ga-g3in)+yw*(g3al-g3in)+g3in
end_function
$
a_well  variation=function 
function(xw,yw)
dhal=-9.8 ;
dhga=-9.8 ;
dhin=-5.0 ;
xw*(dhga-dhin)+yw*(dhal-dhin)+dhin
end_function
$
b_well  variation=function 
function(xw,yw)
dual=-1.76 ;
duga=-1.76 ;
duin=-1.8 ;
xw*(duga-duin)+yw*(dual-duin)+duin
end_function
$
c11_well  variation=function 
function(xw,yw)
c11al=12.02 ;
c11ga=11.9 ;
c11in=8.33 ;
xw*(c11ga-c11in)+yw*(c11al-c11in)+c11in
end_function
$
c12_well  variation=function 
function(xw,yw)
c12al=5.70 ;
c12ga=5.38 ;
c12in=4.53 ;
xw*(c12ga-c12in)+yw*(c12al-c12in)+c12in
end_function

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9;
GaAs=-1.94;
AlAs=-0.48;
InAs*(1-xw-yw)+GaAs*xw+AlAs*yw
end_function

$
lattice_constant value=5.8688 
end_active_layer cx-InGaAlAs/InP
$ ***********************************************
$ Complex acitve layer macro for quantum well or barrier
$ of strained layer of InGaAs with base lattice constant of GaAs.
$ Formula: In(xw)Ga(1-xw)As xw=Indium composition in well or barrier 
$  [free-style]
$ Typical use:
$   get_active_layer name=cx-InGaAs mater=#m var1=#xw  var_symbol1=xw 
$ parameter_range xw=[0 1]
$ parameter_range temper=[77 600] 
$ **********************************************
$
begin_active_layer cx-InGaAs
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ band offset is used only in well.
band_offset value=0.6
$
eg0_well variation=function 
function(xw,temper)
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
$1.424-1.4895*xw+0.4205*xw*xw+shift-shift0
$ Ref: Appl. Phys. Lett.  58 (20) p. 2208
1.424-1.614*xw+0.55*xw*xw+shift-shift0
end_function
$
lband_well value=0.28
$
strain_well variation=function 
function(xw)
a0ga=5.65325;
a0in=6.0584;
acomp=a0ga+xw*(a0in-a0ga);
(a0ga-acomp)/acomp
end_function
$
delta_so_well variation=function 
function(xw)
0.366-0.0451*xw+0.0691*xw*xw
end_function
$
mass_gamma_well variation=function 
function(xw)
0.063-0.036*xw
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(xw)
g1ga=6.9 ;
g1in=19.7 ;
g1ga+xw*(g1in-g1ga)
end_function
$
gamma2_well  variation=function 
function(xw)
g2ga=2.2 ;
g2in=8.4 ;
g2ga+xw*(g2in-g2ga)
end_function
$
gamma3_well  variation=function 
function(xw)
g3ga=2.9 ;
g3in=9.3 ;
g3ga+xw*(g3in-g3ga)
end_function
$
a_well  variation=function 
function(xw)
dhga=-9.8 ;
dhin=-5.0 ;
dhga+xw*(dhin-dhga)
end_function
$
b_well  variation=function 
function(xw)
duga=-1.76 ;
duin=-1.8 ;
duga+xw*(duin-duga)
end_function
$
c11_well  variation=function 
function(xw)
c11ga=11.9 ;
c11in=8.33 ;
c11ga+xw*(c11in-c11ga)
end_function
$
c12_well  variation=function 
function(xw)
c12ga=5.38 ;
c12in=4.53 ;
c12ga+xw*(c12in-c12ga)
end_function
$

kane_para_f_well variation=function
function(xw)
inas=-2.9;
gaas=-1.94;
xw*inas+(1-xw)*gaas
end_function

$
lattice_constant value=5.65325
$
end_active_layer cx-InGaAs
$ ***********************************
$ macro for sapphire
$ Bulk insulator sapphire
$ [free-style]
$ Typical use:
$   load_macro name=sapphire mater=#m
$ ***********************************
begin_macro sapphire 
material type=insulator  
$ 11.5 parallel to c-axis and 9.4 perpendicular, let us take the average
dielectric_constant value=10.5
real_index  value=1.7
absorption value=0.
thermal_kappa value=41.9
$ set affinity for the purpose of plotting band diagram
affinity value=2.
$band_gap value=8.
end_macro sapphire 
$ ***********************************************
$ macro : hgcdte
$ Bulk Hg(1-x)Cd(x)Te
$ A more recent version of cdhgte
$ [free-style]
$ Typical use:
$   load_macro name=hgcdte var1=#x var2=#xlam mater=#m &&
$     var_symbol1=x var_symbol2=xlam
$
$ Contributor: Gui-bin Chen (SITP), Jun Jiang (SITP)
$ Key refernces for HgCdTe system:
$ [1] M.H. Weiler, Semicond. semimetal 16, (1981)
$ [2] J.D. Wiley, R.N. Dexter, Phys. Rev. 181, p1181
$ (1969)
$ [3] E. Finkman, Y. Nemirosky, JAP, 50, p4356 (1979)
$ [4] E. Finkman, S.E. Schacham, JAP 56, p2896 (1984)
$ [5] C.<. Ciesla, et. al., Appl. Phys. Lett., vol. 71 (4), 
$     28 July 1997, p491
$
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range xlam=[0.4 2]
$ **********************************************
begin_macro hgcdte
$
$ Use the same type of velocity model as GaAs
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 

dielectric_constant variation=function
function(x)
20.5-15.6*x+5.7*x**2
end_function

$ fitted from x=0.196 to x=0.247
electron_mass variation=function
function(x)
6.2e-3+0.1255*(x-0.196)
end_function

hole_mass variation=function 
function(x)
( (6.2e-3+0.1255*(x-0.196)) ** (3 / 2)
 + ( 0.15+ 0.01 * x  ) ** (3 / 2)  ) ** (2 / 3)
end_function

band_gap variation=function 
function(x,temper)
-0.302+1.93*x-0.81*x**2+0.832*x**3+0.000535*temper*(1-2*x)
end_function

$ take x0 as reference, eg0 is the corresponding bandgap and aff0
$   its affinity:
affinity variation=function
function(x,temper)
offset=0.5;
aff0=4.;
x0=0.2;
eg0=-0.302+1.93*x0-0.81*x0**2+0.832*x0**3+0.000535*temper*(1-2*x0);
eg=-0.302+1.93*x-0.81*x**2+0.832*x**3+0.000535*temper*(1-2*x);
aff0-(eg-eg0)*offset
end_function
$
max_electron_mob  value=0.06
min_electron_mob  value=0.
electron_ref_dens  value=1.d26
alpha_n  value=0.5 
$
$ hole mobility unknown.  let me take the value from GaAs.
max_hole_mob  value=0.1
min_hole_mob  value=0.
hole_ref_dens  value=1.d26
alpha_p  value=0.5

$ velocity characteristic unknown.  let me take the value from GaAs.
beta_n  value=2.
electron_sat_vel  value=1.d5
beta_p  value=1.
hole_sat_vel  value=1.d5
norm_field value=4.e5

tau_energy value=1.d-13
lifetime_n value=1.5e-9
lifetime_p value=1.5e-9

$ radiative recombination unknown, taken as GaAs
radiative_recomb value=2.d-16

$
$ According to [5] above, lifetime measurement was performed on
$ intrinsic sample with optical excitation. Thus we assume 
$ n=p.  Fitting R=C*n**3 formula, we get at 295K and 75K
$ C295=2.e-38  C75=1.e-36
$ Assuming a temperature dependence of C=C0*exp(E/T) and
$ equal partition of the auger_n and auger_p, we get the following:
$
auger_n variation=function
function(temper)
2.6e-39*exp(393.4/temper)
end_function

auger_n variation=function
function(temper)
2.6e-39*exp(393.4/temper)
end_function

real_index variation=function
function(x,temper,xlam)
a=12.33-16.71*(x-0.205);
b=0.2167+1.494*(x-0.205);
c=6.568-33.129*(x-0.205);
d=-1.102e-3+1.599e-3*(x-0.205);
e=-3.065e-7+3.376e-6*(x-0.205);
n2=a+b/(1-(c/xlam)**2)+d*xlam**2+e*xlam**4;
sqrt(n2)
end_function

absorption value=0.
thermal_kappa value=10.
end_macro hgcdte

$ ***********************************************
$ macro : hgcdte2004
$ Bulk macro of Hg(1-x)Cd(x)Te
$ 2004 updated version of HgCdTe contributed by X. Y. Xu (SITP)
$ [free-style]
$ Typical use:
$   load_macro name=hgcdte2004 var1=#x var2=#xlam mater=#m &&
$     var_symbol1=x var_symbol2=xlam 
$
$ Key refernces for HgCdTe system:
$ [1] M.H. Weiler, Semicond. semimetal 16, (1981)
$ [2] J.D. Wiley, R.N. Dexter, Phys. Rev. 181, p1181 (1969)
$ [3] E. Finkman, Y. Nemirosky, JAP, 50, p4356 (1979)
$ [4] E. Finkman, S.E. Schacham, JAP,56, p2896 (1984)
$ [5] C.M. Ciesla, et. al., Appl. Phys. Lett., vol. 71 (4), 
$     28 July 1997, p491
$ [6] Junhao Chu,Zhengyu Mi,and Dingyuan Tang, JAP,71(8),p3955 (1992)
$ [7] R. Fastow and Y. Nemirovsky, Appl. Phys. Lett.,55(18), p1882(1989)
$ [8] S.H.Shin, J.M.Arias, M.Zandian, J.G.Pasko, and R.E.Dewames,
$     Appl. Phys. Lett.,59(21),p2718,(1991)
$
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$ **********************************************
begin_macro hgcdte2004

$ The following functions are used
$ bulk_xfunc1=dielectric_constant 
$ bulk_xfunc2=band_gap
$ bulk_xfunc3=electron_mass
$ bulk_xfunc4=intrinsic carriers
$
 material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta


$ define dielectric as bulk_xfunc1
bulk_xfunc1 variation=function 
function(x,temper)
15.2-15.6*x+8.2*x*x
end_function

$ define dielectric
dielectric_constant variation=function
function(x,temper)
bulk_xfunc1
end_function


$ define band gap as a bulk_xfunc2
bulk_xfunc2 variation=function 
function(x,temper)
-0.302+1.93*x-0.81*x**2+0.832*x**3+5.35e-4*temper*(1-2*x)
$-0.295+1.87*x-0.28*x*x+(6-14*x+3*x*x)*1.0e-4*temper+0.35*x*x*x*x
end_function

$ effective mass

$ define electron_mass as bulk_xfunc3
bulk_xfunc3 variation=function
function(x,temper)
eg=-0.302+1.93*x-0.81*x**2+0.832*x**3+5.35e-4*temper*(1-2*x);
8.035e-2*eg 
end_function

electron_mass variation=function
function(x,temper)
bulk_xfunc3
end_function


hole_mass value=0.55
$hole_mass variation=function
$function(x,temper)
$0.53 
$end_function

$ band gap
band_gap variation=function 
function(x,temper)
bulk_xfunc2
end_function

$ take x0 as reference, eg0 is the corresponding bandgap and aff0
$   its affinity:
affinity variation=function
function(x,temper)
offset=0.5 ;
aff0=4.0 ;
x0=0.2 ;
eg0=-0.302+1.93*x0-0.81*x0**2+0.832*x0**3+5.35e-4*temper*(1-2*x0) ;
$eg=-0.302+1.93*x-0.81*x**2+0.832*x**3+0.000535*temper*(1-2*x) ;
eg=bulk_xfunc2 ;
aff0-(eg-eg0)*offset
end_function

$ There are many references about carriers mobility and lifetime of
$  HgCdTe, and the data are varied in a wide range. However models of 
$  mobility are rare. We take the following mobility values as commonly
$  used ones[7][8].    

$ electron mobility can vary from 0.1 to 20 (m**2/(V.s)

max_electron_mob  value=5.0
min_electron_mob  value=0.
electron_ref_dens  value=1.d28
alpha_n  value=1.0 
$alpha_n  value=0.5 

$ hole mobility can vary from 0.005 to 0.06 (m**2/(V.s)

max_hole_mob  value=0.04
min_hole_mob  value=0.
hole_ref_dens  value=1.d28
alpha_p  value=1.0
$alpha_p  value=0.5

$ Velocity characteristics are unknown.  We assume the followng:

beta_n  value=2.
electron_sat_vel variation=function
function(x,temper)
1.0e5*sqrt(300.0/temper) 
end_function

beta_p  value=1.
hole_sat_vel variation=function
function(x,temper)
1.0e5*sqrt(300.0/temper) 
end_function

norm_field value=4.e5

tau_energy value=1.d-13

$ electron lifetime can vary from 1 to 600 (ns)
$ hole lifetime can vary from 10 to 2000 (ns)
lifetime_n value=400e-9
lifetime_p value=1000e-9

$ Define intrinsic carriers concentration as bulk_xfunc4
$ unit cm**(-3) [to be used later in this macro].

bulk_xfunc4 variation=function  
function(x,temper)
eg=-0.302+1.93*x-0.81*x**2+0.832*x**3+5.35e-4*temper*(1-2*x);
kT=temper*1.380658e-23/1.60217733e-19 ;
y1=9.905-5.21*x+3.07e-4*temper+5.94e-3*x*temper ;
y2=(eg**0.75)*(sqrt(temper**3))*exp(-eg/(2*kT))*1.0e14 ;
y1*y2
end_function

$ radiative recombination

$radiative_recomb value=0.6522d-14
radiative_recomb variation=function
function(x,temper)
eg=bulk_xfunc2 ;
kT=temper*1.380658e-23/1.60217733e-19 ;
dielec=bulk_xfunc1 ;
beta=2.109e7*sqrt((1+x)/(81.9+temper)) ;
intricarr=bulk_xfunc4 ;
y1=2.8e17*dielec*beta*sqrt(temper**3)*exp(-eg/kT) ;
y2=eg*eg+3*kT*eg+3.75*(kT**2) ;
y1*y2*1.0e-6/intricarr**2
end_function

$ auger recombination

$auger_n value=0.9225e-37
auger_n variation=function
function(x,temper)
dielec=bulk_xfunc1 ;
eg=bulk_xfunc2 ;
me=bulk_xfunc3 ;
intricarr=bulk_xfunc4 ;
kT=temper*1.380658e-23/1.60217733e-19 ;
mh=0.53 ;
meh=me/mh ;
f12=0.20 ;
y1=3.8e-18*(dielec*dielec)*(1.0/me)*sqrt(1+meh)*(1+2*meh) ;
$y2=(eg/kT)**3 ;
$y3=(1+2*meh)*eg/((1+meh)*kT) ;
$y4=sqrt(y2)*exp(y3)/(f12**2) ;
$1e-12/(2*(intricarr**2)*y1*y4)
y2=sqrt((eg/kT)**3)*exp((1+2*meh)*eg/((1+meh)*kT))/(f12**2) ;
1.0e-12/((2*intricarr*intricarr)*y1*y2)
end_function

$auger_p value=0.9225e-38
auger_p variation=function
function(x,temper)
eg=bulk_xfunc2 ;
kT=temper*1.380658e-23/1.60217733e-19 ;
dielec=bulk_xfunc1 ;
intricarr=bulk_xfunc4 ;
me=bulk_xfunc3 ;
mh=0.53 ;
meh=me/mh ;
f12=0.20 ;
y1=3.8e-18*(dielec**2)*(1.0/me)*sqrt(1+meh)*(1+2*meh) ;
$y2=(eg/kT)**3 ;
$y3=(1+2*meh)*eg/((1+meh)*kT) ;
$y4=sqrt(y2)*exp(y3)/(f12**2)  ;
$1.0e-12/(2*(intricarr**2)*y1*y4)/10.0
$y1=3.8e-18*(dielec**2)*(1.0/me)*sqrt(1+meh)*(1+2*meh) ;
y2=sqrt((eg/kT)**3)*exp((1+2*meh)*eg/((1+meh)*kT))/(f12**2) ; 
1.0e-12/((2*intricarr**2)*y1*y2)/10.0
end_function

$ index
real_index variation=function
function(x,xlam,temper)
a=13.173-9.852*x+2.909*x*x+1.0e-3*(300-temper) ;
b=0.83-0.246*x-0.0961*x*x+8.0e-4*(300-temper) ;
c=6.706-14.437*x+8.531*x*x+7.0e-4*(300-temper) ;
d=1.953e-4-1.28e-3*x+1.853e-4*x*x ;
n2=a+b/(1.0-(c/xlam)**2)+d*xlam*xlam ;
sqrt(n2)
end_function

thermal_kappa value=10.

$ absorption coefficient,both for below and above band_gap,is taken 
$ from refference[6] 

$absorption value=0.
absorption variation=function
function(x,xlam,temper)
for 1.2398/xlam<-0.295+1.87*x-0.28*x*x+(6-14*x+3*x*x)*1e-4*temper+0.35*x**4
$for 1.23984/xlam<bulk_xfunc2
aifag=-65.0+1.883*temper+(8694.0-10.314*temper)*x ;
aifa0=exp(-18.5+45.68*x) ;
e0=-0.355+1.77*x ;
exlam=1.23984/xlam ;
eg=-0.295+1.87*x-0.28*x*x+(6-14*x+3*x*x)*1.0e-4*temper+0.35*x**4 ;
$eg=bulk_xfunc2 ;
aifa0*((aifag/aifa0)**((exlam-e0)/(eg-e0)))*1.00e2
for else
eg=-0.295+1.87*x-0.28*x*x+(6-14*x+3*x*x)*1.0e-4*temper+0.35*x**4 ;
$eg=bulk_xfunc2 ;
aifag=-65.0+1.883*temper+(8694.0-10.314*temper)*x ;
exlam=1.23984/xlam ;
beta=-1.0+0.083*temper+(21.0-0.13*temper)*x ;
beex=sqrt(beta*(exlam-eg)) ;
aifag*exp(beex)*1.00e2
end_function


end_macro hgcdte2004

$*************************************************************
$ macro : insb 
$ bulk macro of InSb
$ [free-style]
$ Typical use:
$   load_macro name=insb mater=#m 
$ Band parameters are taken from VMR-paper and others are taken
$ from http://www.ioffe.ru/SVA/NSM/Semicond

$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$*********************************************************
begin_macro insb  
$
$ Use the same type of velocity model as GaAs
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant   value=16.8

electron_mass value=0.0135
$
$ from gamma1=34.8 gamma2=15.5 
$ 1/mhh=gamma1-2*gamma2
$ 1/mlh=gamma1+2*gamma2
$ mh= (   mhh** (3 / 2) + mlh** (3 / 2)  ) ** (2 / 3)
$
hole_mass value=0.266

band_gap variation=function
function(temper)
0.235-3.2e-4 * temper**2 /(temper+170)
end_function

affinity  value=4.59
$
$ high mobility of InSb (3.96 m^2/V/s) was report by 
$ "High-mobility InSb epitaxial films grown on a GaAs (001) 
$  substrate using liquid-phase epitaxy," 
$ V. K. Dixit, Bhavtosh Bansal, V. Venkataraman, H. L. Bhat, 
$ G. N. Subbanna, K. S. Chandrasekharan, and B. M. Arora
$ Applied Physics Letters Vol 80 (12) pp. 2102-2104. March 25, 2002 
$
$ The higest mobility measured at low doping extreme was reported to
$ be 8.0 m^2/V/s by
$ Litwin-Staszewska, E., W. Szymanska, and P. Piotrzkowski, 
$ Phys. Status Solidi (b) 106, 2 (1981) 551-559

$electron_mobility variation=function 
$function(doping_n,doping_p,trap_1)
$mu_max=0.22;
$mu_min=0.;
$ref_dens=2.d23;
$alpha=0.5;
$total_doping=doping_n+doping_p+trap_1;
$mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
$end_function

electron_mobility variation=function 
function(total_doping)
mu_max=5.;
mu_min=0.;
ref_dens=2.d23;
alpha=0.5;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

$
$ Hole mobility at 290K was reported to be 0.07 m**2/V/s at low doping extreme:
$ Wiley, J. D., Semiconductors and Semimetals, R. K. Willardson and 
$ A. C. Beer, eds., Academic Press, N.Y., vol. 10, 1975, p. 91
$ 
hole_mobility variation=function 
function(total_doping)
mu_max=0.07;
mu_min=0.;
ref_dens=1.d22;
alpha=0.5;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n  value=2.
electron_sat_vel  value=1.d5
beta_p  value=1.
hole_sat_vel  value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb value=2.d-16
auger_n value=3.d-41
auger_p value=3.d-41
$ real index is a strong function of wavelength.
$ it is reported to be around 4 at 1 eV:
$ Adachi, S., J. AppL Phys. 66, 12 (1989) 6030-6040
real_index value=4. 
absorption value=0.
thermal_kappa value=50.
end_macro insb

$ ***********************************************
$ macro : ingasb
$ Bulk In(x)Ga(1-x)Sb 
$ [free-style]
$ Typical use:
$   load_macro name=ingasb var_symbol1=x var1=#x mater=#m
$
$ Band parameters are from VMR-paper.  Others are based on GaSb.
$ Also see http://www.ioffe.ru/SVA/NSM/Semicond and references therein
$
$ lattice constant=6.479-0.383*(1-x) (A)
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************
begin_macro ingasb  
$
$ Use the same type of velocity model as GaAs
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function
function(x)
16.8-1.1*(1-x)
end_function

electron_mass variation=function 
function(x)
mass_insb=0.0135; mass_gasb=0.042;
mass_insb*x+mass_gasb*(1-x)+0.0092*x*(1-x)
end_function


hole_mass variation=function 
function(x)
mass_insb=0.266; mass_gasb=0.4116566;    
mass_insb*x+mass_gasb*(1-x)+0.0011*x*(1-x)
end_function

band_gap variation=function
function(x,temper)
eg_insb=0.235-3.2e-4 * temper**2 /(temper+170); eg_gasb=0.725;
eg_insb*x+eg_gasb*(1-x)+0.415*x*(1-x)
end_function

affinity variation=function
function(x)
4.59-0.53*(1-x)
end_function
$
electron_mobility variation=function 
function(x,total_doping)
mu_max=7.*10.**(x-1);
mu_min=0.;
ref_dens=2.d23;
alpha=0.6;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
hole_mobility variation=function 
function(total_doping)
mu_max=0.5;
mu_min=0.;
ref_dens=1.d23;
alpha=0.6;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n  value=2.
electron_sat_vel  value=1.d5
beta_p  value=1.
hole_sat_vel  value=1.d5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb value=2.d-16
auger_n value=3.d-41
auger_p value=3.d-41

real_index variation=function
function(x)
4-0.2*(1-x)
end_function

absorption value=0.
thermal_kappa value=5.
end_macro ingasb

$****************************************************
$ Active layer macro for bulk In(xw)Ga(1-xw)Sb
$ [free-style]
$ Typical use:
$   get_active_layer name=InGaSb mater=#m &&
$     var1=#xw var_symbol1=xw 
$ Based on VMR-paper

$ parameter_range xw=[0 1]
$ parameter_range temper=[77 600] 
$****************************************************
begin_active_layer InGaSb
$
layer_type type=bulk valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,temper)
eg_insb=0.235-0.32e-3*temper**2/(temper+170.);
eg_gasb=0.812-0.417e-3*temper**2/(temper+140.);
eg_insb*xw+eg_gasb*(1-xw)+0.415*xw*(1-xw)
end_function

$
$ L-band here really means the lower indirect gap.  It can be
$ actually an X-band
$

lband_well variation=function  
function(xw,temper)
eg_insb=0.63;
eg_gasb=0.875-0.597e-3*temper**2/(temper+140.);
eg_insb*xw+eg_gasb*(1-xw)+0.33*xw*(1-xw)
end_function

delta_so_well variation=function  
function(xw)
so_insb=0.81; so_gasb=0.76;
so_insb*xw+so_gasb*(1-xw)+0.1*xw*(1-xw)
end_function

$
mass_gamma_well variation=function  
function(xw)
insb=0.0135;
gasb=0.039;
bow=0.0092;
insb*xw+gasb*(1-xw)+bow*xw*(1-xw)
end_function
$
mass_l_well variation=function 
function(xw)
ml=1.3; mt=0.10;
(mt*mt**2)**(1./3.)
end_function
$
gamma1_well variation=function 
function(xw)
insb=34.8; gasb=13.4;
insb*xw+gasb*(1-xw)
end_function
$
gamma2_well variation=function 
function(xw)
insb=15.5; gasb=4.7;
insb*xw+gasb*(1-xw)
end_function

lattice_constant variation=function 
function(xw,temper)
insb=6.4794+3.48e-5*(temper-300);
gasb=6.0959+4.72e-5*(temper-300);
insb*xw+gasb*(1-xw)
end_function

end_active_layer InGaSb

$ **************************************************************
$
$  cx-InAs_left
$  Complex Active layer macro for quantum well/barrier of 
$  strained layer of InAs grown 
$  on material lattice matched to GaSb. To be used on left side
$  of a w-MQW-laser.
$  [free-style]
$
$  Typical use:
$   get_active_layer name=cx-InAs mater=#m 
$  Repeated use of the above together with other cx- active layer macros
$   will allow the construction of complex active region.
$ Based on VMR-paper and also on macro inas
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_active_layer cx-InAs_left
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ band offset is with respect to AlSb on left and InGaSb on right.
$
band_discont value=2.
band_discont_right value=1.4
$
eg0_well variation=function 
function(temper)
0.415-2.76e-4*temper**2/(temper+83.)
end_function
$
lband_well value=0.5
$
$  compressive strain is negative:
$
strain_well variation=function 
function(temper)
gasb=6.09593;
inas=6.0583; 
(gasb-inas)/inas
end_function
$
delta_so_well value=0.39
$
mass_gamma_well value=0.023
$
mass_l_well value=0.6
$
gamma1_well value=20
gamma2_well value=8.5
gamma3_well value=9.2 
$
a_well value=-6.08
$
b_well value=-1.8
$
c11_well value=8.32
$
c12_well value=4.52

kane_para_f_well value=-2.9

$ this must be substrate base lattice constant, set to be GaSb
lattice_constant value=6.09593
$
end_active_layer cx-InAs_left
$ **************************************************************
$
$  cx-InAs_right
$  Complex Active layer macro for quantum well/barrier of 
$  strained layer of InAs grown 
$  on material lattice matched to GaSb. To be used on right side
$  of a w-MQW-laser.
$  [free-style]
$
$  Typical use:
$   get_active_layer name=cx-InAs mater=#m 
$  Repeated use of the above together with other cx- active layer macros
$   will allow the construction of complex active region.
$ Based on VMR-paper and also on macro inas
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_active_layer cx-InAs_right
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$
band_discont value=1.4
band_discont_right value=2.
$
eg0_well variation=function 
function(temper)
0.415-2.76e-4*temper**2/(temper+83.)
end_function
$
lband_well value=0.5
$
$  compressive strain is negative:
$
strain_well variation=function 
function(temper)
gasb=6.09593;
inas=6.0583; 
(gasb-inas)/inas
end_function
$
delta_so_well value=0.39
$
mass_gamma_well value=0.023
$
mass_l_well value=0.6
$
gamma1_well value=20
gamma2_well value=8.5
gamma3_well value=9.2 
$
a_well value=-6.08
$
b_well value=-1.8
$
c11_well value=8.32
$
c12_well value=4.52

kane_para_f_well value=-2.9

$ this must be substrate base lattice constant, set to be GaSb
lattice_constant value=6.09593
$
end_active_layer cx-InAs_right
$****************************************************
$ cx-In(xw)Ga(1-xw)Sb
$ Complex Active layer macro for In(xw)Ga(1-xw)Sb
$ Lattice matched to GaSb, to be used as barrier (so that band_offset is
$ not used).
$ [free-style]
$ Typical use:
$   get_active_layer name=cx-InGaSb mater=#m &&
$     var1=#xw var_symbol1=xw 
$ Based on VMR-paper
$ parameter_range xw=[0 1]
$ parameter_range temper=[77 600] 
$****************************************************
begin_active_layer cx-InGaSb
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(xw,temper)
eg_insb=0.235-0.32e-3*temper**2/(temper+170.);
eg_gasb=0.812-0.417e-3*temper**2/(temper+140.);
eg_insb*xw+eg_gasb*(1-xw)+0.415*xw*(1-xw)
end_function

$
$ L-band here really means the lower indirect gap.  It can be
$ actually an X-band
$

lband_well variation=function  
function(xw,temper)
eg_insb=0.63;
eg_gasb=0.875-0.597e-3*temper**2/(temper+140.);
eg_insb*xw+eg_gasb*(1-xw)+0.33*xw*(1-xw)
end_function

delta_so_well variation=function  
function(xw)
so_insb=0.81; so_gasb=0.76;
so_insb*xw+so_gasb*(1-xw)+0.1*xw*(1-xw)
end_function

$
mass_gamma_well variation=function  
function(xw)
insb=0.0135;
gasb=0.039;
bow=0.0092;
insb*xw+gasb*(1-xw)+bow*xw*(1-xw)
end_function
$
mass_l_well variation=function 
function(xw)
ml=1.3; mt=0.10;
(ml*mt**2)**(1./3.)
end_function
$
gamma1_well variation=function 
function(xw)
insb=34.8; gasb=13.4;
insb*xw+gasb*(1-xw)
end_function
$
gamma2_well variation=function 
function(xw)
insb=15.5; gasb=4.7;
insb*xw+gasb*(1-xw)
end_function

lattice_constant variation=function 
function(temper)
gasb=6.0959+4.72e-5*(temper-300);
gasb
end_function

$ -------------------------------------------
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,temper)
insb=6.4794+3.48e-5*(temper-300);
gasb=6.0959+4.72e-5*(temper-300);
lattxw=insb*xw+gasb*(1-xw);
(gasb-lattxw)/lattxw
end_function
$
a_well variation=function
function(xw)
insb=-7.3;
gasb=8.3;
insb*xw+gasb*(1-xw)
end_function
$
b_well variation=function 
function(xw)
insb=-2.0;
gasb=-2.0;
insb*xw+gasb*(1-xw)
end_function
$
c11_well variation=function 
function(xw)
insb=6.85;
gasb=8.9;
insb*xw+gasb*(1-xw)
end_function
$
c12_well variation=function 
function(xw)
insb=3.74;
gasb=4.0;
insb*xw+gasb*(1-xw)
end_function

end_active_layer cx-InGaSb
$ **************************************************************
$  cx-AlAsSb
$  Complex active layer macro for quantum well of AlAsSb
$  Strained barrier of AlAs(xw)Sb(1-xw)
$  Grown on material lattice matched to GaSb, to be used as a barrier. 
$  [free-style]
$
$ Typical use:
$   get_active_layer name=cx-AlAsSb mater=#m  var1=#xw &&
$     var_symbol1=xw 
$ parameter_range xw=[0 1]
$ ********************************************************
begin_active_layer cx-AlAsSb
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

$
band_offset value=0.5
$
eg0_well variation=function 
function(xw)
AlSb=2.3;
AlAs=3.0;
AlSb+(AlAs-AlSb)*xw
end_function
$
lband_well value=0.2
$
strain_well variation=function  
function(xw)
ax=5.6611*xw + 6.1355*(1-xw);
GaSb=6.0959;
(GaSb-ax)/ax
end_function
$
$
delta_so_well value=0.3
$
mass_gamma_well variation=function 
function(xw)
AlSb=0.23;
AlAs=0.15;
AlSb+(AlAs-AlSb)*xw
end_function
$
mass_l_well value=0.56
$
gamma1_well variation=function
function(xw)
AlSb=4.15;
AlAs=3.45;
AlSb+(AlAs-AlSb)*xw
end_function
$
gamma2_well variation=function
function(xw)
AlSb=1.01;
AlAs=0.68;
AlSb+(AlAs-AlSb)*xw
end_function
$
gamma3_well variation=function
function(xw)
AlSb=1.75;
AlAs=1.29;
AlSb+(AlAs-AlSb)*xw
end_function
$
a_well variation=function
function(xw)
AlSb=-3.5;
AlAs=-9.8;
AlSb+(AlAs-AlSb)*xw
end_function
$
b_well variation=function
function(xw)
AlSb=-1.35;
AlAs=-1.76 ;
AlSb+(AlAs-AlSb)*xw
end_function
$
c11_well value=12.02 ;
$
c12_well value=5.70 ;
$
$ to be taken as substrate constant
lattice_constant value=6.0959
$
end_active_layer cx-AlAsSb

$ hanyang new macro
$ **************************************************************
$  cx-AlGaAsSb
$  Complex active layer macro for quantum well/barrier of AlGaAsSb
$  Formula: Al(1-xw)Ga(xw)As(yw)Sb(1-yw)
$  Grown on material lattice matched to GaAs
$  [free-style]
$
$ Typical use:
$   get_active_layer name=cx-AlGaAsSb mater=#m var1=#xw &&
$   var2=#yw var_symbol1=xw var_symbol2=yw 
$ parameter_range xw=[0 1]
$ ********************************************************
begin_active_layer cx-AlGaAsSb
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

$
band_offset value=0.5
$
eg0_well variation=function 
function(xw,yw)
AlSb=2.3;
AlAs=3.0;
GaAs=1.424;
GaSb=0.725;
GaAs*xw*yw+AlSb*(1-xw)*(1-yw)  &&
  +GaSb*xw*(1-yw)+AlAs*(1-xw)*yw
end_function
$
lband_well value=0.2
$
strain_well variation=function  
function(xw,yw)
AlSb=6.1355;
AlAs=5.6611;
GaSb=6.09593;
GaAs=5.65325; 
ax=GaAs*xw*yw+AlSb*(1-xw)*(1-yw)  &&
  +GaSb*xw*(1-yw)+AlAs*(1-xw)*yw;
(GaAs-ax)/ax
end_function
$
$
delta_so_well value=0.3
$
mass_gamma_well variation=function 
function(xw,yw)
AlSb=0.23;
AlAs=0.15;
GaAs=0.067;
GaSb=0.039;
GaAs*xw*yw+AlSb*(1-xw)*(1-yw)  &&
  +GaSb*xw*(1-yw)+AlAs*(1-xw)*yw
end_function
$
mass_l_well value=0.56
$
gamma1_well variation=function
function(xw,yw)
AlSb=4.15;
AlAs=3.45;
GaAs=6.98;
GaSb=13.4;
GaAs*xw*yw+AlSb*(1-xw)*(1-yw)  &&
  +GaSb*xw*(1-yw)+AlAs*(1-xw)*yw
end_function
$
gamma2_well variation=function
function(xw,yw)
AlSb=1.01;
AlAs=0.68;
GaAs=2.06;
GaSb=4.7;
GaAs*xw*yw+AlSb*(1-xw)*(1-yw)  &&
  +GaSb*xw*(1-yw)+AlAs*(1-xw)*yw
end_function
$
gamma3_well variation=function
function(xw,yw)
AlSb=1.75;
AlAs=1.29;
GaAs=2.93;
GaSb=6.0;
GaAs*xw*yw+AlSb*(1-xw)*(1-yw)  &&
  +GaSb*xw*(1-yw)+AlAs*(1-xw)*yw
end_function
$
a_well variation=function
function(xw,yw)
AlSb=-3.5;
AlAs=-9.8;
GaAs=-9.8;
GaSb=-8.3;
GaAs*xw*yw+AlSb*(1-xw)*(1-yw)  &&
  +GaSb*xw*(1-yw)+AlAs*(1-xw)*yw
end_function
$
b_well variation=function
function(xw,yw)
AlSb=-1.35;
AlAs=-1.76 ;
GaAs=-2.0;
GaSb=-2.0;
GaAs*xw*yw+AlSb*(1-xw)*(1-yw)  &&
  +GaSb*xw*(1-yw)+AlAs*(1-xw)*yw
end_function
$
c11_well value=12.02 ;
$
c12_well value=5.70 ;
$
$ to be taken as substrate constant
lattice_constant value=5.65325
$
end_active_layer cx-AlGaAsSb

$ **************************************************************
$
$  cx-InAs
$  Complex Active layer macro for quantum well/barrier of 
$  strained layer of InAs grown 
$  on material lattice matched to GaAs. 
$  [free-style]
$
$  Typical use:
$   get_active_layer name=cx-InAs mater=#m 
$  Repeated use of the above together with other cx- active layer macros
$   will allow the construction of complex active region.
$ Based on VMR-paper and also on macro inas
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_active_layer cx-InAs
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ band offset is with respect to AlSb on left and InGaSb on right.
$
band_discont value=2.
band_discont_right value=2
$
eg0_well variation=function 
function(temper)
0.415-2.76e-4*temper**2/(temper+83.)
end_function
$
lband_well value=0.5
$
$  compressive strain is negative:
$
strain_well variation=function 
function(temper)
gaas=5.65325; 
inas=6.0583; 
(gaas-inas)/inas
end_function
$
delta_so_well value=0.39
$
mass_gamma_well value=0.023
$
mass_l_well value=0.6
$
gamma1_well value=20
gamma2_well value=8.5
gamma3_well value=9.2 
$
a_well value=-6.08
$
b_well value=-1.8
$
c11_well value=8.32
$
c12_well value=4.52

kane_para_f_well value=-2.9

$ this must be substrate base lattice constant, set to be GaAs
lattice_constant value=5.65325
$
end_active_layer cx-InAs


$***********************************
$ macro algaas.table  
$ Bulk Al(x)Ga(1-x)As
$ Lattice matched to GaAs
$ [free-style]
$ Temperature dependent version of macro algaas containing tabulated data.
$ Typical use:
$   load_macro name=algaas.table var1=#x mater=#m &&
$     var_symbol1=x 
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$***********************************
begin_macro algaas.table
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
13.1 - 3 * x 
end_function

electron_mass variation=function 
function(x)
for   0.<x<0.45 
0.067 + 0.083 * x 
for  0.45<x<1.
0.85 - 0.14 * x
end_function

hole_mass variation=function 
function(x)
   (   ( 0.087 + 0.063 * x ) ** (3 / 2)
 + ( 0.62 + 0.14 * x  ) ** (3 / 2)  ) ** (2 / 3)
end_function

$band_gap variation=function 
$function(x,temper)
$for 0.<x<0.45
$shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
$1.424 + 1.247 * x +shift
$for 0.45<x<1.
$shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
$1.9 + 0.125 * x + 0.143 *x * x  +shift
$end_function


band_gap variation=table
table(x,temper)
  0.0000E+00  0.2900E+03  0.1428E+01
  0.5000E-01  0.2900E+03  0.1491E+01
  0.1000E+00  0.2900E+03  0.1553E+01
  0.1500E+00  0.2900E+03  0.1616E+01
  0.2000E+00  0.2900E+03  0.1678E+01
  0.2500E+00  0.2900E+03  0.1740E+01
  0.3000E+00  0.2900E+03  0.1803E+01
  0.3500E+00  0.2900E+03  0.1865E+01
  0.4000E+00  0.2900E+03  0.1927E+01
  0.4500E+00  0.2900E+03  0.1990E+01
  0.5000E+00  0.2900E+03  0.2003E+01
  0.5500E+00  0.2900E+03  0.2016E+01
  0.6000E+00  0.2900E+03  0.2031E+01
  0.6500E+00  0.2900E+03  0.2046E+01
  0.7000E+00  0.2900E+03  0.2062E+01
  0.7500E+00  0.2900E+03  0.2079E+01
  0.8000E+00  0.2900E+03  0.2096E+01
  0.8500E+00  0.2900E+03  0.2114E+01
  0.9000E+00  0.2900E+03  0.2133E+01
  0.9500E+00  0.2900E+03  0.2152E+01

  0.0000E+00  0.3200E+03  0.1415E+01
  0.5000E-01  0.3200E+03  0.1477E+01
  0.1000E+00  0.3200E+03  0.1540E+01
  0.1500E+00  0.3200E+03  0.1602E+01
  0.2000E+00  0.3200E+03  0.1664E+01
  0.2500E+00  0.3200E+03  0.1727E+01
  0.3000E+00  0.3200E+03  0.1789E+01
  0.3500E+00  0.3200E+03  0.1851E+01
  0.4000E+00  0.3200E+03  0.1914E+01
  0.4500E+00  0.3200E+03  0.1976E+01
  0.5000E+00  0.3200E+03  0.1989E+01
  0.5500E+00  0.3200E+03  0.2003E+01
  0.6000E+00  0.3200E+03  0.2017E+01
  0.6500E+00  0.3200E+03  0.2033E+01
  0.7000E+00  0.3200E+03  0.2049E+01
  0.7500E+00  0.3200E+03  0.2065E+01
  0.8000E+00  0.3200E+03  0.2082E+01
  0.8500E+00  0.3200E+03  0.2101E+01
  0.9000E+00  0.3200E+03  0.2119E+01
  0.9500E+00  0.3200E+03  0.2139E+01

  0.0000E+00  0.3500E+03  0.1401E+01
  0.5000E-01  0.3500E+03  0.1463E+01
  0.1000E+00  0.3500E+03  0.1526E+01
  0.1500E+00  0.3500E+03  0.1588E+01
  0.2000E+00  0.3500E+03  0.1651E+01
  0.2500E+00  0.3500E+03  0.1713E+01
  0.3000E+00  0.3500E+03  0.1775E+01
  0.3500E+00  0.3500E+03  0.1838E+01
  0.4000E+00  0.3500E+03  0.1900E+01
  0.4500E+00  0.3500E+03  0.1962E+01
  0.5000E+00  0.3500E+03  0.1975E+01
  0.5500E+00  0.3500E+03  0.1989E+01
  0.6000E+00  0.3500E+03  0.2004E+01
  0.6500E+00  0.3500E+03  0.2019E+01
  0.7000E+00  0.3500E+03  0.2035E+01
  0.7500E+00  0.3500E+03  0.2051E+01
  0.8000E+00  0.3500E+03  0.2069E+01
  0.8500E+00  0.3500E+03  0.2087E+01
  0.9000E+00  0.3500E+03  0.2105E+01
  0.9500E+00  0.3500E+03  0.2125E+01

end_table

affinity variation=function 
function(x,temper)
for 0<x<0.45 
offset=0.6;
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
4.07 - 0.748 * x-offset*shift
for 0.45<x<1.
offset=0.6;
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
3.7964 - 0.14 * x-offset*shift
end_function

electron_mobility variation=function 
function(x,temper,total_doping)
for 0<x<0.45  
fac=(300/temper)**2.3;
mu_max=0.85 * exp(-18.516 * x ** 2 )*fac;
mu_min=0;
ref_dens=1.69d23;
alpha=0.436; 
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
for 0.45<x<1.
fac=(300/temper)**2.3;
mu_max=0.02*fac;
mu_min=0;
ref_dens=1.69d23;
alpha=0.436; 
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


hole_mobility variation=function
function(x,temper,total_doping)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
fac=1/( tfac1 + 1.6e-24*dope*tfac2 ); 
mu_max=(0.04 - 0.048 * x + 0.02 * x * x)*fac;
mu_min=0;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel variation=function
function(x,temper)
for 0<x<0.45
fac=(300/temper)**2.3;
0.77e5 * (1 - 0.44 * x )*fac 
for 0.45<x<1.
fac=(300/temper)**2.3;
8.e4*fac
end_function

beta_p value=1.
hole_sat_vel variation=function
function(temper)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
fac=1/( tfac1 + 1.6e-24*dope*tfac2 ); 
1.d5*fac
end_function

norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=1.d-16
auger_n value=1.5d-42
auger_p value=1.5d-42
lifetime_n value=1.e-7
lifetime_p value=1.e-7

real_index variation=function
function(x)
3.65-0.73*x
end_function

absorption value=0.
thermal_kappa value=46.
$ specific heat (J/kg/K)
spec_heat value=330
$ mass density  (Kg/m^3)
mass_density value=5320
end_macro algaas.table


$ *******************************************
$ macro : gaassb
$ Bulk GaAs(1-x)Sb(x)
$ [free-style]
$ Typical use:
$   load_macro name=gaassb var1=#x mater=#m var_symbol1=x
$ 05/05 ZQ Li, modified from algaassb 
$ J. Appl. Phys., 89, 5819(2001) 
$ parameter_range x=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
**************************************************
begin_macro gaassb 
$
$ Use the same type of velocity model as GaAs
$
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
GaAs=13.1;
GaSb=14.8;
GaAs*(1-x) + GaSb*x
end_function
$
electron_mass variation=function 
function(x)
GaAs=0.067;
GaSb=0.039;
GaAs*(1-x) + GaSb*x
end_function
$
hole_mass  variation=function 
function(x)
GaAs_mhh=0.50;
GaAs_mlh=0.076;
GaSb_mhh=0.28;
GaSb_mlh=0.05 ;
mvhh0= GaAs_mhh*(1-x) + GaSb_mhh*x;
mvlh0= GaAs_mlh*(1-x) + GaSb_mlh*x;
( mvhh0**(3/2)+mvlh0**(3/2) )**(2/3)
end_function
$
band_gap variation=function 
function(x)
GaAs=1.424;
GaSb=0.725;
GaAs*(1-x) + GaSb*x-x*(1-x)*1.43
end_function
$
affinity variation=function
function(x)
GaAs=4.07;
GaSb=4.06;
GaAs*(1-x) + GaSb*x
end_function
$
electron_mobility variation=function 
function(x,total_doping)
GaAs=0.85;
GaSb=0.22;
mu_max=GaAs*(1-x)+GaSb*x;
mu_min=0.;
ref_dens=2.1d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function
$
hole_mobility variation=function 
function(x,total_doping)
GaAs=0.04;
GaSb=0.1;
mu_max=GaAs*(1-x)+GaSb*x;
mu_min=0.;
ref_dens=1.0d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16
$auger_n value=1.d-41
$auger_p value=1.d-41
auger_n value=1.d-42
auger_p value=1.d-42
real_index variation=function 
function(x)
GaAs=3.65;
GaSb=3.9731;
GaAs*(1-x) + GaSb*x
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
end_macro gaassb

$ **************************************************************
$  GaAsSb/GaAs
$  Active layer macro for quantum well of 
$  Strained well of GaAs(1-x)Sb(x) with
$ 05/05 zqli created from algasb
$  barrier of GaAs 
$  [free-style]
$
$ Typical use:
$   get_active_layer name=GaAsSb/GaAs mater=#m  var1=#x &&
$     var_symbol1=x 
$ parameter_range x=[0 1]
$ ********************************************************
begin_active_layer GaAsSb/GaAs
$
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

$ Please note that bowing coefficient is 1.2 according to
$ G. Liu and S.-L. Chuang, J. Appl. Phys., vol. 88, No. 10, p. 5554, 2000. 
eg0_well variation=function 
function(x)
GaAs=1.424;
GaSb=0.725;
GaAs*(1-x) + GaSb*x-x*(1-x)*1.43
$1.43 - 2.24*x + 1.97*x*x
end_function
lband_well value=0.063

$  compressive strain is negative:
strain_well variation=function 
function(x)
GaSb=6.09593;
GaAs=5.65325; 
acomp= GaAs*(1-x) + GaSb*x;
(GaAs-acomp)/acomp
end_function

delta_so_well variation=function 
function(x)
 0.341*(1-x) + 0.76*x
end_function

mass_gamma_well variation=function
function(x)
GaAs=0.067;
GaSb=0.039;
GaAs*(1-x) + GaSb*x
end_function

mass_l_well function  variation=function
function(x)
GaAs=0.56;
GaSb=0.49;
GaAs*(1-x) + GaSb*x
end_function

gamma1_well function  variation=function
function(x)
GaAs=6.98;
GaSb=13.4;
GaAs*(1-x) + GaSb*x
end_function

gamma2_well function  variation=function
function(x)
GaAs=2.06;
GaSb=4.7;
GaAs*(1-x) + GaSb*x
end_function

gamma3_well function  variation=function
function(x)
GaAs=2.93;
GaSb=6.0;
GaAs*(1-x) + GaSb*x
end_function

a_well function  variation=function
function(x)
GaAs=-9.8;
GaSb=-8.3;
GaAs*(1-x) + GaSb*x
end_function

b_well function  variation=function
function(x)
GaAs=-2.0;
GaSb=-2.0;
GaAs*(1-x) + GaSb*x
end_function

c11_well function  variation=function
function(x)
GaAs=1221;
GaSb=884;
GaAs*(1-x) + GaSb*x
end_function

c12_well function  variation=function
function(x)
GaAs=566;
GaSb=403;
GaAs*(1-x) + GaSb*x
end_function

$
$ This is the undtrained offset in k.p thoery
$ Or it is the actual band offset in parabolic subband model.
band_offset value=0.3
$
eg0_bar value=1.424
$
lband_bar value=0.28
$
delta_so_bar  value=0.341
$
mass_gamma_bar value=0.067
$
mass_l_bar value=0.56
$
gamma1_bar value=6.98
$
gamma2_bar value=2.06 
$
gamma3_bar value=2.93
$
a_bar value=-9.8
$
b_bar value=-2.0
$
c11_bar value=1221 
$
c12_bar value=600 
$
lattice_constant value=5.65392 
$
end_active_layer GaAsSb/GaAs
$ **************************************************************
$  cx-GaAsSb
$  Active layer macro for quantum well or barrier of 
$  Strained  GaAs(1-x)Sb(x) on GaAs substrate
$  [free-style]
$
$ 05/05 zqli created from algasb
$ Typical use:
$   get_active_layer name=cx-GaAsSb mater=#m  var1=#x &&
$     var_symbol1=xw 
$ parameter_range xw=[0 1]
$ ********************************************************
begin_active_layer cx-GaAsSb
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

eg0_well variation=function 
function(xw)
GaAs=1.424;
GaSb=0.725;
GaAs*(1-xw) + GaSb*xw-xw*(1-xw)*1.43
$1.43 - 2.24*xw + 1.97*xw*xw
end_function
lband_well value=0.063

$  compressive strain is negative:
strain_well variation=function 
function(xw)
GaSb=6.09593;
GaAs=5.65325; 
acomp= GaAs*(1-xw) + GaSb*xw;
(GaAs-acomp)/acomp
end_function

delta_so_well variation=function 
function(xw)
 0.341*(1-xw) + 0.76*xw
end_function

mass_gamma_well variation=function
function(xw)
GaAs=0.067;
GaSb=0.039;
GaAs*(1-xw) + GaSb*xw
end_function

mass_l_well function  variation=function
function(xw)
GaAs=0.56;
GaSb=0.49;
GaAs*(1-xw) + GaSb*xw
end_function

gamma1_well function  variation=function
function(xw)
GaAs=6.98;
GaSb=13.4;
GaAs*(1-xw) + GaSb*xw
end_function

gamma2_well function  variation=function
function(xw)
GaAs=2.06;
GaSb=4.7;
GaAs*(1-xw) + GaSb*xw
end_function

gamma3_well function  variation=function
function(xw)
GaAs=2.93;
GaSb=6.0;
GaAs*(1-xw) + GaSb*xw
end_function

a_well function  variation=function
function(xw)
GaAs=-9.8;
GaSb=-8.3;
GaAs*(1-xw) + GaSb*xw
end_function

b_well function  variation=function
function(xw)
GaAs=-2.0;
GaSb=-2.0;
GaAs*(1-xw) + GaSb*xw
end_function

c11_well function  variation=function
function(xw)
GaAs=1221;
GaSb=884;
GaAs*(1-xw) + GaSb*xw
end_function

c12_well function  variation=function
function(xw)
GaAs=566;
GaSb=403;
GaAs*(1-xw) + GaSb*xw
end_function

$
$ This is the undtrained offset in k.p thoery
$ Or it is the actual band offset in parabolic subband model.
band_offset value=1.05
$set to substrate lattice constant
lattice_constant value=5.65392 
$
end_active_layer cx-GaAsSb

$ **************************************************************
$  cx-GaAsSb/InP
$  Active layer macro for quantum well or barrier of 
$  Strained  GaAs(1-x)Sb(x) on InP substrate
$  [free-style]
$
$ Feb 2017; based on previous cx-GaAsSb macro
$ Typical use:
$   get_active_layer name=cx-GaAsSb/InP mater=#m  var1=#x &&
$     var_symbol1=xw 
$ parameter_range xw=[0 1]
$ ********************************************************
begin_active_layer cx-GaAsSb/InP
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

eg0_well variation=function 
function(xw)
GaAs=1.424;
GaSb=0.725;
GaAs*(1-xw) + GaSb*xw-xw*(1-xw)*1.43
$1.43 - 2.24*xw + 1.97*xw*xw
end_function
lband_well value=0.063

$  compressive strain is negative:
strain_well variation=function 
function(xw)
GaSb=6.09593;
GaAs=5.65325; 
InP=5.8688;
acomp= GaAs*(1-xw) + GaSb*xw;
(InP-acomp)/acomp
end_function

delta_so_well variation=function 
function(xw)
 0.341*(1-xw) + 0.76*xw
end_function

mass_gamma_well variation=function
function(xw)
GaAs=0.067;
GaSb=0.039;
GaAs*(1-xw) + GaSb*xw
end_function

mass_l_well function  variation=function
function(xw)
GaAs=0.56;
GaSb=0.49;
GaAs*(1-xw) + GaSb*xw
end_function

gamma1_well function  variation=function
function(xw)
GaAs=6.98;
GaSb=13.4;
GaAs*(1-xw) + GaSb*xw
end_function

gamma2_well function  variation=function
function(xw)
GaAs=2.06;
GaSb=4.7;
GaAs*(1-xw) + GaSb*xw
end_function

gamma3_well function  variation=function
function(xw)
GaAs=2.93;
GaSb=6.0;
GaAs*(1-xw) + GaSb*xw
end_function

a_well function  variation=function
function(xw)
GaAs=-9.8;
GaSb=-8.3;
GaAs*(1-xw) + GaSb*xw
end_function

b_well function  variation=function
function(xw)
GaAs=-2.0;
GaSb=-2.0;
GaAs*(1-xw) + GaSb*xw
end_function

c11_well function  variation=function
function(xw)
GaAs=1221;
GaSb=884;
GaAs*(1-xw) + GaSb*xw
end_function

c12_well function  variation=function
function(xw)
GaAs=566;
GaSb=403;
GaAs*(1-xw) + GaSb*xw
end_function

$
$ This is the undtrained offset in k.p thoery
$ Or it is the actual band offset in parabolic subband model.
band_offset value=1.05
$set to substrate lattice constant
lattice_constant value=5.8688
$
end_active_layer cx-GaAsSb/InP

$ **************************************************************
$  cx-GaAsSb/Sb
$  Active layer macro for quantum well or barrier of 
$  Strained  GaAs(1-x)Sb(x) on Sb substrate
$  [free-style]
$
$ Feb 2017; based on previous cx-GaAsSb macro
$ Typical use:
$   get_active_layer name=cx-GaAsSb/Sb mater=#m  var1=#x &&
$     var_symbol1=xw 
$ parameter_range xw=[0 1]
$ ********************************************************
begin_active_layer cx-GaAsSb/Sb
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

eg0_well variation=function 
function(xw)
GaAs=1.424;
GaSb=0.725;
GaAs*(1-xw) + GaSb*xw-xw*(1-xw)*1.43
$1.43 - 2.24*xw + 1.97*xw*xw
end_function
lband_well value=0.063

$  compressive strain is negative:
strain_well variation=function 
function(xw)
GaSb=6.09593;
GaAs=5.65325; 
acomp= GaAs*(1-xw) + GaSb*xw;
(GaSb-acomp)/acomp
end_function

delta_so_well variation=function 
function(xw)
 0.341*(1-xw) + 0.76*xw
end_function

mass_gamma_well variation=function
function(xw)
GaAs=0.067;
GaSb=0.039;
GaAs*(1-xw) + GaSb*xw
end_function

mass_l_well function  variation=function
function(xw)
GaAs=0.56;
GaSb=0.49;
GaAs*(1-xw) + GaSb*xw
end_function

gamma1_well function  variation=function
function(xw)
GaAs=6.98;
GaSb=13.4;
GaAs*(1-xw) + GaSb*xw
end_function

gamma2_well function  variation=function
function(xw)
GaAs=2.06;
GaSb=4.7;
GaAs*(1-xw) + GaSb*xw
end_function

gamma3_well function  variation=function
function(xw)
GaAs=2.93;
GaSb=6.0;
GaAs*(1-xw) + GaSb*xw
end_function

a_well function  variation=function
function(xw)
GaAs=-9.8;
GaSb=-8.3;
GaAs*(1-xw) + GaSb*xw
end_function

b_well function  variation=function
function(xw)
GaAs=-2.0;
GaSb=-2.0;
GaAs*(1-xw) + GaSb*xw
end_function

c11_well function  variation=function
function(xw)
GaAs=1221;
GaSb=884;
GaAs*(1-xw) + GaSb*xw
end_function

c12_well function  variation=function
function(xw)
GaAs=566;
GaSb=403;
GaAs*(1-xw) + GaSb*xw
end_function

$
$ This is the undtrained offset in k.p thoery
$ Or it is the actual band offset in parabolic subband model.
band_offset value=1.05
$set to substrate lattice constant
lattice_constant value=6.09593
$
end_active_layer cx-GaAsSb/Sb

$*************************************************************
$ macro : gaas.2005   (Temperature Dependence)
$ 2005 version, with updated thermal conductivity
$ [free-style]
$ Temerature dependent version of macro gaas.
$ Typical use:
$   load_macro name=gaas.2005 mater=#m 
$ parameter_range temper=[77 600] 
$*********************************************************
begin_macro gaas.2005 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant value=13.1
electron_mass value=0.067
hole_mass value=0.642
$ From Properties of GaAs, INSPEC, p. 111.
$ Revised according to VMR-paper
band_gap variation=function
function(temper)
1.5183 - 5.405e-4 * temper**2 /(temper+204)
end_function
affinity value=4.07

$ From Blakemore, J. Appl. Phys. vol. 53 R123, 1982.
electron_mobility variation=function 
function(temper,total_doping)
mu_max=0.85*(300/temper)**2.3;
mu_min=0;
ref_dens=1.69d23;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

$ From Blakemore, J. Appl. Phys. vol. 53 R123, 1982.
$ dope is in unit of m**-3
hole_mobility variation=function 
function(temper,total_doping)
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
mu_max=0.04/( tfac1 + 1.6e-24*total_doping*tfac2 );
mu_min=0.;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


beta_n value=2.
electron_sat_vel variation=function
function(temper)
1.e5 * (300/temper)**2.3
end_function
beta_p value=1.
hole_sat_vel variation=function
function(temper)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
1.d5/( tfac1 + 1.6e-24*dope*tfac2 ) 
end_function
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-7
lifetime_p value=1.e-7
radiative_recomb  value=2.d-16
auger_n  value=2.d-42
auger_p  value=2.d-42
real_index  value=3.65
$
$
absorption value=0.

$ fit to
$ Blakemore, J. S., J. Appl. Phys. 53, 10 (1982) R123-R181
thermal_kappa variation=function 
function(temper)
46.*(300/temper)**1.29
end_function
$ specific heat (J/kg/K)
spec_heat value=330
end_macro gaas.2005 

$***********************************
$ macro algaas.2005    for Al(x)Ga(1-x)As
$ 2005 version, with updated thermal conductivity.
$ Lattice matched to GaAs
$ [free-style]
$ Temperature dependent version of macro algaas
$ Typical use:
$   load_macro name=algaas.2005 var1=#x mater=#m &&
$     var_symbol1=x 
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$***********************************
begin_macro algaas.2005 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function 
function(x)
13.1 - 3 * x 
end_function

electron_mass variation=function 
function(x)
for   0.<x<0.45 
0.067 + 0.083 * x 
for  0.45<x<1.
0.85 - 0.14 * x
end_function

hole_mass variation=function 
function(x)
   (   ( 0.087 + 0.063 * x ) ** (3 / 2)
 + ( 0.62 + 0.14 * x  ) ** (3 / 2)  ) ** (2 / 3)
end_function

band_gap variation=function 
function(x,temper)
for 0.<x<0.45
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
1.424 + 1.247 * x +shift
for 0.45<x<1.
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
1.9 + 0.125 * x + 0.143 *x * x  +shift
end_function

affinity variation=function 
function(x,temper)
for 0<x<0.45 
offset=0.6;
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
4.07 - 0.748 * x-offset*shift
for 0.45<x<1.
offset=0.6;
shift=-5.5e-4 * temper**2 /(temper+225)+9.4285712E-02 ;
3.7964 - 0.14 * x-offset*shift
end_function

electron_mobility variation=function 
function(x,temper,total_doping)
for 0<x<0.45  
fac=(300/temper)**2.3;
mu_max=0.85 * exp(-18.516 * x ** 2 )*fac;
mu_min=0;
ref_dens=1.69d23;
alpha=0.436; 
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
for 0.45<x<1.
fac=(300/temper)**2.3;
mu_max=0.02*fac;
mu_min=0;
ref_dens=1.69d23;
alpha=0.436; 
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


hole_mobility variation=function
function(x,temper,total_doping)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
fac=1/( tfac1 + 1.6e-24*dope*tfac2 ); 
mu_max=(0.04 - 0.048 * x + 0.02 * x * x)*fac;
mu_min=0;
ref_dens=2.75d23;
alpha=0.395;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel variation=function
function(x,temper)
for 0<x<0.45
fac=(300/temper)**2.3;
0.77e5 * (1 - 0.44 * x )*fac 
for 0.45<x<1.
fac=(300/temper)**2.3;
8.e4*fac
end_function

beta_p value=1.
hole_sat_vel variation=function
function(temper)
dope=1.e22 ;
tfac1=(temper/300)**2.3 ;
tfac2=(temper/300)**1.5 ;
fac=1/( tfac1 + 1.6e-24*dope*tfac2 ); 
1.d5*fac
end_function

norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=1.d-16
auger_n value=1.5d-42
auger_p value=1.5d-42
lifetime_n value=1.e-7
lifetime_p value=1.e-7

real_index variation=function
function(x)
3.65-0.73*x
end_function

absorption value=0.

$ temp. dep. fit to
$ Blakemore, J. S., J. Appl. Phys. 53, 10 (1982) R123-R181
$ Al fraction dep. fit to
$ M.A.Afromowitz, J. Appl. Phys., 44, no.3, pp.1292-1294 (1973), from
$ x=0 to x=0.8 
thermal_kappa variation=function 
function(x,temper)
resist=1./0.46+25.60*x-24.46*x**2;
(100/resist)*(300/temper)**1.29
end_function
$ specific heat (J/kg/K)
spec_heat value=330
$ mass density  (Kg/m^3)
mass_density value=5320
end_macro algaas.2005

$ ******************************************
$ macro ingaasp
$   (In(1-x)Ga(x)As(y)P(1-y) 
$   (temperature dependent version of ingaasp) 
$ renamed from ingaasp.temp   
$ [free-style]
$   lattice matched to InP
$ 05/05 zqli band gap modified for lattice matched material 
$ J appl. Phys. 89, 5815(2001)
$ Typical use:
$   load_macro name=ingaasp.temp var1=#y mater=#m var_symbol1=#y 
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ******************************************
begin_macro ingaasp
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function
function(y) 
12.4 + 1.5 * y
end_function
electron_mass variation=function
function(y)
0.077 - 0.050 * y +0.014 * y **2 
end_function
hole_mass variation=function
function(y)
( 0.588 ** (3 / 2)
+   (0.12 - 0.069*y )** (3 / 2)  ) ** (2 / 3)
end_function
band_gap variation=function
function(y,temper)
shift=-4.1e-4 * temper**2 /(temper+136) +8.4633030E-02;
$1.347 - 0.778*y + 0.149*y**2+shift
1.35 - 0.73*y + 0.13*y**2 + shift
end_function
affinity variation=function
function(y,temper)
off=0.4;
$eg=1.347 - 0.778*y + 0.149*y**2;
eg=1.347 - 0.727*y + 0.13*y**2;
eg0=1.347;
shift=-4.1e-4 * temper**2 /(temper+136) +8.4633030E-02;
4.07+off*(eg0-eg-shift)
end_function

electron_mobility variation=function 
function(y,temper,total_doping)
fac= (300/temper) **1.25 ;
mu_max=(0.45+0.65*y)*fac;
mu_min=0.;
ref_dens=1.0d24;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(temper,total_doping)
mu_max=0.036 * (300/temper)**2.2;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field variation=function
function(y,temper)
4.e5 + 8.e5 * y
end_function
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel variation=function
function(y,temper) 
(1.e5-0.225e5*y) * sqrt(temper/300)
end_function
beta_p value=1.
hole_sat_vel variation=function
function(y,temper) 
1.e5 * (300/temper)**2.2
end_function
radiative_recomb value=2.d-16
auger_n value=3.5e-41
auger_p value=3.5e-41
lifetime_n value=1.e-7
lifetime_p value=1.e-7
real_index variation=function
function(y,temper)
3.167+0.314*y
end_function
absorption value=0.
thermal_kappa value=46.
end_macro ingaasp

$**********************************************************
$  Version 2005
$ macro ingaasp_xy 
$ Bulk macro for In(1-x)Ga(x)As(y)P(1-y)   with arbitrary xy
$   at 300K.
$ [free-style]
$
$ 05/05 zqli band gap modified for lattice matched material 
$ Typical use:
$   load_macro name=ingaasp_xy var1=#x var2=#y mater=#m &&
$     var_symbol1=x var_symbol2=y 
$
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$
$ **********************************************************
begin_macro ingaasp_xy 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
$
dielectric_constant variation=function
function(x,y) 
di_gaas=12.85;
di_inas=15.15;
di_inp=12.56;
di_gap=11.10;
term1=(1.-x)*y*di_inas+(1.-x)*(1.-y)*di_inp ;
term2=x*y*di_gaas+x*(1.-y)*di_gap ;
term1+term2
end_function
$
electron_mass variation=function
function(x,y)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-x)*y*emnin+(1.-x)*(1.-y)*emnip ;
term2=x*y*emnga+x*(1.-y)*emngp ;
term1+term2
end_function
$
hole_mass variation=function
function(x,y)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
g1=(1.-x)*y*g1in+(1.-x)*(1.-y)*g1ip 
+x*y*g1ga+x*(1.-y)*g1gp ;
g2=(1.-x)*y*g2in+(1.-x)*(1.-y)*g2ip 
+x*y*g2ga+x*(1.-y)*g2gp ;
m_lh=1./(g1+2.*g2);
m_hh=1./(g1-2.*g2);
( (m_lh)**(3/2)+(m_hh)**(3/2) )**(2/3)
end_function
$
band_gap variation=function
function(x,y)
for 0.<x+y<1.e-6
1.347
for 1.e-6<x+y<2.
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
(term1+term2)/term3
end_function
$
$ bulk_xfunc1 is just bandgap
bulk_xfunc1 variation=function
function(x,y)
for 0.<x+y<1.e-6
1.347
for 1.e-6<x+y<2.
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
(term1+term2)/term3
end_function
$
affinity variation=function
function(x,y)
for 0.<x+y<1.e-6
4.07
for 1.e-6<x+y<2.
off=0.4;
eg0=1.347;
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
eg=(term1+term2)/term3 ;
4.07+off*(eg0-eg)
end_function
$
$ interpolation between InGaAs and InP:
$

electron_mobility variation=function 
function(y,total_doping)
mu_max=0.45+0.65*y;
mu_min=0.;
ref_dens=1.69d24;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.036;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


norm_field variation=function
function(y)
4.e5 + 8.e5 * y
end_function
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel variation=function
function(y)
1.e5-0.225e5*y
end_function
beta_p value=1.
hole_sat_vel value=1.0e5
$
radiative_recomb value=2.d-16
auger_n value=3.5d-41
auger_p value=3.5d-41
lifetime_n value=1.e-7
lifetime_p value=1.e-7
$
$ Suggested paramter by J. Piprek for 1.55um MQW :
$radiative_recomb value=1.d-16
$auger_n value=0.8d-40
$auger_p value=0.8d-40
$lifetime_n value=2.e-8
$lifetime_p value=2.e-8
$
$  The real index really depends on the wavelength.  User
$  should be prepared to modify this
$
real_index variation=function
function(y)
3.167+0.314*y
end_function
$

$ background absorption in 1/m:
bulk_xfunc2 variation=function
function(x,y)
1000.
end_function

absorption value=0.

$ Wavelenght dep. absorption has been moved to macro ingaasp_xy_xlam
$absorption variation=function
$function(x,y,xlam)
$for 1.24/xlam<bulk_xfunc1
$bulk_xfunc2
$for else
$$
$$ Bug fix by P. Dumais
$$
$xev=1.24/xlam;
$eg=bulk_xfunc1;
$$
$$ end fix
$a_GaP=34696.46*(xev-eg)+318514.8*(xev-eg)**2
$  -782028.7*(xev-eg)**3+559928.6*(xev-eg)**4;
$a_GaAs=-59938.21*(xev-eg)+561976.8*(xev-eg)**2
$  -855408.5*(xev-eg)**3+430717.0*(xev-eg)**4;    
$a_InP=67461.63*(xev-eg)+76816.08*(xev-eg)**2
$  -150253.1*(xev-eg)**3+92673.57*(xev-eg)**4;    
$a_InAs=44297.08*(xev-eg)-68433.67*(xev-eg)**2
$  +101582.4*(xev-eg)**3-29609.07*(xev-eg)**4;    
$alpha=a_InAs*(1.-x)*y+a_InP*(1.-x)*(1.-y)+a_GaAs*x*y+a_GaP*x*(1.-y);
$alpha*100+bulk_xfunc2
$end_function

thermal_kappa value=46.
end_macro ingaasp_xy

$**********************************************************
$  Version 2005
$ macro ingaasp_xy_xlam 
$ Bulk macro for In(1-x)Ga(x)As(y)P(1-y)   with arbitrary xy
$   at 300K, with wavelength dep. optical properties.
$ 05/05 zqli band gap modified for lattice matched material 
$ [free-style]
$
$ Typical use:
$   load_macro name=ingaasp_xy_xlam &&
$     var1=#x var2=#y var3=#xlam mater=#m &&
$     var_symbol1=x var_symbol2=y var_symbol3=xlam
$
$   where xlam is wavelength in um.
$ parameter_range y=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ parameter_range xlam=[0.4 2.]
$
$ **********************************************************
begin_macro ingaasp_xy_xlam 

material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
$
dielectric_constant variation=function
function(x,y) 
di_gaas=12.85;
di_inas=15.15;
di_inp=12.56;
di_gap=11.10;
term1=(1.-x)*y*di_inas+(1.-x)*(1.-y)*di_inp ;
term2=x*y*di_gaas+x*(1.-y)*di_gap ;
term1+term2
end_function
$
electron_mass variation=function
function(x,y)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-x)*y*emnin+(1.-x)*(1.-y)*emnip ;
term2=x*y*emnga+x*(1.-y)*emngp ;
term1+term2
end_function
$
hole_mass variation=function
function(x,y)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
g1=(1.-x)*y*g1in+(1.-x)*(1.-y)*g1ip 
+x*y*g1ga+x*(1.-y)*g1gp ;
g2=(1.-x)*y*g2in+(1.-x)*(1.-y)*g2ip 
+x*y*g2ga+x*(1.-y)*g2gp ;
m_lh=1./(g1+2.*g2);
m_hh=1./(g1-2.*g2);
( (m_lh)**(3/2)+(m_hh)**(3/2) )**(2/3)
end_function
$
band_gap variation=function
function(x,y)
for 0.<x+y<1.e-6
1.347
for 1.e-6<x+y<2.
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
(term1+term2)/term3
end_function
$
$ bulk_xfunc1 is just bandgap
bulk_xfunc1 variation=function
function(x,y)
for 0.<x+y<1.e-6
1.347
for 1.e-6<x+y<2.
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
(term1+term2)/term3
end_function
$
affinity variation=function
function(x,y)
for 0.<x+y<1.e-6
4.07
for 1.e-6<x+y<2.
off=0.4;
eg0=1.347;
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
eg=(term1+term2)/term3 ;
4.07+off*(eg0-eg)
end_function
$
$ interpolation between InGaAs and InP:
$

electron_mobility variation=function 
function(y,total_doping)
mu_max=0.45+0.65*y;
mu_min=0.;
ref_dens=1.69d24;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.036;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


norm_field variation=function
function(y)
4.e5 + 8.e5 * y
end_function
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel variation=function
function(y)
1.e5-0.225e5*y
end_function
beta_p value=1.
hole_sat_vel value=1.0e5
$
radiative_recomb value=2.d-16
auger_n value=3.5d-41
auger_p value=3.5d-41
lifetime_n value=1.e-7
lifetime_p value=1.e-7
$
$ Suggested paramter by J. Piprek for 1.55um MQW :
$radiative_recomb value=1.d-16
$auger_n value=0.8d-40
$auger_p value=0.8d-40
$lifetime_n value=2.e-8
$lifetime_p value=2.e-8
$
$  The real index really depends on the wavelength.  User
$  should be prepared to modify this
$
real_index variation=function
function(y)
3.167+0.314*y
end_function
$

$ background absorption in 1/m:
bulk_xfunc2 variation=function
function(x,y)
1000.
end_function

$absorption value=0.
absorption variation=function
function(x,y,xlam)
for 1.24/xlam<bulk_xfunc1
bulk_xfunc2
for else
$
$ Bug fix by P. Dumais
$
xev=1.24/xlam;
eg=bulk_xfunc1;
$
$ end fix
a_GaP=34696.46*(xev-eg)+318514.8*(xev-eg)**2
  -782028.7*(xev-eg)**3+559928.6*(xev-eg)**4;
a_GaAs=-59938.21*(xev-eg)+561976.8*(xev-eg)**2
  -855408.5*(xev-eg)**3+430717.0*(xev-eg)**4;    
a_InP=67461.63*(xev-eg)+76816.08*(xev-eg)**2
  -150253.1*(xev-eg)**3+92673.57*(xev-eg)**4;    
a_InAs=44297.08*(xev-eg)-68433.67*(xev-eg)**2
  +101582.4*(xev-eg)**3-29609.07*(xev-eg)**4;    
alpha=a_InAs*(1.-x)*y+a_InP*(1.-x)*(1.-y)+a_GaAs*x*y+a_GaP*x*(1.-y);
alpha*100+bulk_xfunc2
end_function
thermal_kappa value=46.

end_macro ingaasp_xy_xlam

$**********************************************************
$  Version 2005
$ macro ingaasp_xy2
$ Bulk macro for In(1-x)Ga(x)As(y)P(1-y)   with arbitrary xy
$   at 300K.
$ [free-style]
$
$ Typical use:
$   load_macro name=ingaasp_xy2 &&
$     var1=#x var2=#y var3=#xlam mater=#m &&
$     var_symbol1=x var_symbol2=y var_symbol3=xlam
$
$   where xlam is wavelength in um.
$ Revised by Kentaro Uehara from ingaasp_xy, Apr. 2003.
$ 05/05 zqli band gap modified for lattice matched material 
$   band_gap is modified to give same value as InGaAsP/InP.
$ parameter_range y=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************************
begin_macro ingaasp_xy2
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
$
dielectric_constant variation=function
function(x,y) 
di_gaas=12.85;
di_inas=15.15;
di_inp=12.56;
di_gap=11.10;
term1=(1.-x)*y*di_inas+(1.-x)*(1.-y)*di_inp ;
term2=x*y*di_gaas+x*(1.-y)*di_gap ;
term1+term2
end_function
$
electron_mass variation=function
function(x,y)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-x)*y*emnin+(1.-x)*(1.-y)*emnip ;
term2=x*y*emnga+x*(1.-y)*emngp ;
term1+term2
end_function
$
hole_mass variation=function
function(x,y)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
g1=(1.-x)*y*g1in+(1.-x)*(1.-y)*g1ip 
+x*y*g1ga+x*(1.-y)*g1gp ;
g2=(1.-x)*y*g2in+(1.-x)*(1.-y)*g2ip 
+x*y*g2ga+x*(1.-y)*g2gp ;
m_lh=1./(g1+2.*g2);
m_hh=1./(g1-2.*g2);
( (m_lh)**(3/2)+(m_hh)**(3/2) )**(2/3)
end_function
$
$ bulk_xfunc3 is taken from ext_func1 of InGaAsP/InP
$ and modified a bit. (K.U., Apr.2003)
bulk_xfunc3 variation=function 
function(x,y)
for 0.<x+y<1.e-6
1.347
for 1.e-6<x+y<2.
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
(term1+term2)/term3
end_function
$
$ bulk_xfunc4 is taken from ext_func3 of InGaAsP/InP
$ and modified a bit. (K.U., Apr. 2003)
bulk_xfunc4 variation=function 
function(x,y)
for 0.<y<1.e-6
1.347
for else
xm=0.1894*y/(0.4184-0.013*y) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=xm*(1.-xm)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+y*(1.-y) ;
(term1+term2)/term3
end_function

$
$ This band_gap macro is taken from that of InGaAsP/InP.
$ Temperature shift term has been removed from original.
$ (K.U., Apr. 2003.)
band_gap variation=function 
function(x,y)
for 0.<x<0.1894*y/(0.4184-0.013*y) 
xm=0.1894*y/(0.4184-0.013*y) ;
fact=x/(xm+1.e-6) ;
$eg0=1.347- 0.778*y + 0.149*y**2 ;
eg0=1.35- 0.73*y + 0.13*y**2 ;
bulk_xfunc3+fact*(eg0-bulk_xfunc4)
for 0.1894*y/(0.4184-0.013*y)<x<1.
xm=0.1894*y/(0.4184-0.013*y) ;
fact=(1.-x)/(1.-xm) ;
$eg0=1.347- 0.778*y + 0.149*y**2 ;
eg0=1.35- 0.73*y + 0.13*y**2 ;
bulk_xfunc3+fact*(eg0-bulk_xfunc4)
end_function
$
$ bulk_xfunc1 is just bandgap
bulk_xfunc1 variation=function
function(x,y)
for 0.<x+y<1.e-6
1.347
for 1.e-6<x+y<2.
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
(term1+term2)/term3
end_function
$
affinity variation=function
function(x,y)
for 0.<x+y<1.e-6
4.07
for 1.e-6<x+y<2.
off=0.4;
eg0=1.347;
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
eg=(term1+term2)/term3 ;
4.07+off*(eg0-eg)
end_function
$
$ interpolation between InGaAs and InP:
$

electron_mobility variation=function 
function(y,total_doping)
mu_max=0.45+0.65*y;
mu_min=0.;
ref_dens=1.69d24;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.036;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


norm_field variation=function
function(x,y)
4.e5 + 8.e5 * y
end_function
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel variation=function
function(x,y)
1.e5-0.225e5*y
end_function
beta_p value=1.
hole_sat_vel value=1.0e5
$
radiative_recomb value=2.d-16
auger_n value=3.5d-41
auger_p value=3.5d-41
lifetime_n value=1.e-7
lifetime_p value=1.e-7
$
$ Suggested paramter by J. Piprek for 1.55um MQW :
$radiative_recomb value=1.d-16
$auger_n value=0.8d-40
$auger_p value=0.8d-40
$lifetime_n value=2.e-8
$lifetime_p value=2.e-8
$
$  The real index really depends on the wavelength.  User
$  should be prepared to modify this
$
real_index variation=function
function(x,y)
3.167+0.314*y
end_function
$
$ background absorption in 1/m:
bulk_xfunc2 variation=function
function(x,y)
1000.
end_function
absorption variation=function
function(x,y,xlam)
for 1.24/xlam<bulk_xfunc1
bulk_xfunc2
for else
$
$ Bug fix by P. Dumais
$
xev=1.24/xlam;
eg=bulk_xfunc1;
$
$ end fix
a_GaP=34696.46*(xev-eg)+318514.8*(xev-eg)**2
  -782028.7*(xev-eg)**3+559928.6*(xev-eg)**4;
a_GaAs=-59938.21*(xev-eg)+561976.8*(xev-eg)**2
  -855408.5*(xev-eg)**3+430717.0*(xev-eg)**4;    
a_InP=67461.63*(xev-eg)+76816.08*(xev-eg)**2
  -150253.1*(xev-eg)**3+92673.57*(xev-eg)**4;    
a_InAs=44297.08*(xev-eg)-68433.67*(xev-eg)**2
  +101582.4*(xev-eg)**3-29609.07*(xev-eg)**4;    
alpha=a_InAs*(1.-x)*y+a_InP*(1.-x)*(1.-y)+a_GaAs*x*y+a_GaP*x*(1.-y);
alpha*100+bulk_xfunc2
end_function
thermal_kappa value=46.
end_macro ingaasp_xy2

$**********************************************************
$  Version 2005
$ macro ingaasp_xyt
$ Bulk macro for In(1-x)Ga(x)As(y)P(1-y)   with arbitrary xy
$   at 300K.
$ [free-style]
$
$ Typical use:
$   load_macro name=ingaasp_xyt var1=#x var2=#y mater=#m &&
$     var_symbol1=x var_symbol2=y 
$
$ Revised by Kentaro Uehara from ingaasp_xy, Apr. 2003.
$   band_gap is modified to give same value as InGaAsP/InP.
$ 05/05 zqli band gap modified for lattice matched material 
$ parameter_range x=[0 1]
$ parameter_range y=[0 1]
$ parameter_range temper=[77 600] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************************
begin_macro ingaasp_xyt
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
$
dielectric_constant variation=function
function(x,y) 
di_gaas=12.85;
di_inas=15.15;
di_inp=12.56;
di_gap=11.10;
term1=(1.-x)*y*di_inas+(1.-x)*(1.-y)*di_inp ;
term2=x*y*di_gaas+x*(1.-y)*di_gap ;
term1+term2
end_function
$
electron_mass variation=function
function(x,y)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-x)*y*emnin+(1.-x)*(1.-y)*emnip ;
term2=x*y*emnga+x*(1.-y)*emngp ;
term1+term2
end_function
$
hole_mass variation=function
function(x,y)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
g1=(1.-x)*y*g1in+(1.-x)*(1.-y)*g1ip 
+x*y*g1ga+x*(1.-y)*g1gp ;
g2=(1.-x)*y*g2in+(1.-x)*(1.-y)*g2ip 
+x*y*g2ga+x*(1.-y)*g2gp ;
m_lh=1./(g1+2.*g2);
m_hh=1./(g1-2.*g2);
( (m_lh)**(3/2)+(m_hh)**(3/2) )**(2/3)
end_function
$
$ bulk_xfunc3 is taken from ext_func1 of InGaAsP/InP
$ and modified a bit. (K.U., Apr.2003)
bulk_xfunc3 variation=function 
function(x,y)
for 0.<x+y<1.e-6
1.347
for 1.e-6<x+y<2.
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
(term1+term2)/term3
end_function
$
$ bulk_xfunc4 is taken from ext_func3 of InGaAsP/InP
$ and modified a bit. (K.U., Apr. 2003)
bulk_xfunc4 variation=function 
function(x,y)
for 0.<y<1.e-6
1.347
for else
xm=0.1894*y/(0.4184-0.013*y) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=xm*(1.-xm)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+y*(1.-y) ;
(term1+term2)/term3
end_function

$
$ This band_gap macro is taken from that of InGaAsP/InP.
$ Temperature shift term has been removed from original.
$ (K.U., Apr. 2003.)
band_gap variation=function 
function(x,y,temper)
for 0.<x<0.1894*y/(0.4184-0.013*y) 
xm=0.1894*y/(0.4184-0.013*y) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
fact=x/(xm+1.e-6) ;
$eg0=1.347- 0.778*y + 0.149*y**2 ;
eg0=1.35- 0.73*y + 0.13*y**2 ;
bulk_xfunc3+fact*(eg0-bulk_xfunc4) +shift-shift0
for 0.1894*y/(0.4184-0.013*y)<x<1.
xm=0.1894*y/(0.4184-0.013*y) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
fact=(1.-x)/(1.-xm) ;
$eg0=1.347- 0.778*y + 0.149*y**2 ;
eg0=1.35- 0.73*y + 0.13*y**2 ;
tt4=eg0-bulk_xfunc4;
bulk_xfunc3+fact*tt4+shift-shift0
end_function
$fact*(eg0-bulk_xfunc4)
$
$ bulk_xfunc1 is just bandgap
bulk_xfunc1 variation=function
function(x,y)
for 0.<x+y<1.e-6
1.347
for 1.e-6<x+y<2.
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
(term1+term2)/term3
end_function
$
affinity variation=function
function(x,y,temper)
for 0.<x+y<1.e-6
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
4.07+shift-shift0
for 1.e-6<x+y<2.
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
off=0.4;
eg0=1.347;
fabd=1.347+0.643*x+0.786*x*x ;
fabc=0.36+0.505*x+0.555*x*x ;
facd=1.347-1.083*y+0.091*y*y ;
fbcd=2.74-1.473*y+0.146*y*y ;
term1=x*(1.-x)* ( (1.-y)*fabd+y*fabc ) ;
term2=y*(1.-y)*( (1.-x)*facd+x*fbcd ) ;
term3=x*(1.-x)+y*(1.-y) ;
eg=(term1+term2)/term3 ;
4.07+off*(eg0-eg) +shift -shift0
end_function
$
$ interpolation between InGaAs and InP:
$

electron_mobility variation=function 
function(y,temper,total_doping)
fac= (300/temper) **1.25 ;
mu_max=(0.45+0.65*y)*fac;
mu_min=0.;
ref_dens=1.69d24;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(temper,total_doping)
mu_max=0.036 * (300/temper)**2.2;
$mu_max=0.036;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function


norm_field variation=function
function(x,y)
4.e5 + 8.e5 * y
end_function
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel variation=function
function(x,y)
1.e5-0.225e5*y
end_function
beta_p value=1.
hole_sat_vel value=1.0e5
$
radiative_recomb value=2.d-16
auger_n value=3.5d-41
auger_p value=3.5d-41
lifetime_n value=1.e-7
lifetime_p value=1.e-7
$
$ Suggested paramter by J. Piprek for 1.55um MQW :
$radiative_recomb value=1.d-16
$auger_n value=0.8d-40
$auger_p value=0.8d-40
$lifetime_n value=2.e-8
$lifetime_p value=2.e-8
$
$  The real index really depends on the wavelength.  User
$  should be prepared to modify this
$
real_index variation=function
function(x,y)
3.167+0.314*y
end_function
$
$ background absorption in 1/m:
bulk_xfunc2 variation=function
function(x,y)
1000.
end_function
absorption value = 0.
$absorption variation=function
$function(x,y,xlam)
$for 1.24/xlam<bulk_xfunc1
$bulk_xfunc2
$for else
$
$ Bug fix by P. Dumais
$
$xev=1.24/xlam;
$eg=bulk_xfunc1;
$
$ end fix
$a_GaP=34696.46*(xev-eg)+318514.8*(xev-eg)**2
$  -782028.7*(xev-eg)**3+559928.6*(xev-eg)**4;
$a_GaAs=-59938.21*(xev-eg)+561976.8*(xev-eg)**2
$  -855408.5*(xev-eg)**3+430717.0*(xev-eg)**4;    
$a_InP=67461.63*(xev-eg)+76816.08*(xev-eg)**2
$  -150253.1*(xev-eg)**3+92673.57*(xev-eg)**4;    
$a_InAs=44297.08*(xev-eg)-68433.67*(xev-eg)**2
$  +101582.4*(xev-eg)**3-29609.07*(xev-eg)**4;    
$alpha=a_InAs*(1.-x)*y+a_InP*(1.-x)*(1.-y)+a_GaAs*x*y+a_GaP*x*(1.-y);
$alpha*100+bulk_xfunc2
$end_function
thermal_kappa value=46.
end_macro ingaasp_xyt

$ **************************************************************
$
$  Version 2005
$  InGaAsP/InGaAsP on with InP as substrate
$  Active layer macro for quantum well of 
$  Strained well of In(1-xw)Ga(xw)As(yw)P(1-yw) with
$  Strained barrier of In(1-xb)Ga(xb)As(yb)P(1-yb) 
$  grown on material lattice matched to InP.
$  [free-style]
$
$  Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to InP if x and y is related by
$  x=0.1894*y/( 0.4184-0.013*y )
$  
$  The band gap of lattice matched InGaAsP is given by 
$  E_g=1.347- 0.778*y + 0.149*y**2 
$ 05/05 zqli band gap modified for lattice matched material 
$ J appl. Phys. 89, 5815(2001)
$
$ Typical use:
$   get_active_layer name=InGaAsP/InP mater=#m &&
$     var1=#xw var2=#yw var3=#xb var4=#yb &&
$     var_symbol1=xw var_symbol2=yw var_symbol3=xb var_symbol4=yb
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range xb=[0 1]
$ parameter_range yb=[0 1]
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_active_layer InGaAsP/InP
$
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
ext_func1 variation=function 
function(xw,yw,temper)
for 0.<xw+yw<1.e-6
1.347
for 1.e-6<xw+yw<2.
fabd=1.347+0.643*xw+0.786*xw*xw ;
fabc=0.36+0.505*xw+0.555*xw*xw ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xw*(1.-xw)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xw)*facd+xw*fbcd ) ;
term3=xw*(1.-xw)+yw*(1.-yw) ;
(term1+term2)/term3
end_function
$
ext_func2 variation=function 
function(xb,yb,temper)
for 0.<xb+yb<1.e-6
1.347
for 1.e-6<xb+yb<2.
fabd=1.347+0.643*xb+0.786*xb*xb ;
fabc=0.36+0.505*xb+0.555*xb*xb ;
facd=1.347-1.083*yb+0.091*yb*yb ;
fbcd=2.74-1.473*yb+0.146*yb*yb ;
term1=xb*(1.-xb)* ( (1.-yb)*fabd+yb*fabc ) ;
term2=yb*(1.-yb)*( (1.-xb)*facd+xb*fbcd ) ;
term3=xb*(1.-xb)+yb*(1.-yb) ;
(term1+term2)/term3
end_function
$
ext_func3 variation=function 
function(xw,yw,temper)
for 0.<yw<1.e-6
1.347
for else
xm=0.1894*yw/(0.4184-0.013*yw) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xm*(1.-xm)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yw*(1.-yw) ;
(term1+term2)/term3
end_function
$
ext_func4 variation=function 
function(xb,yb,temper)
for 0.<yb<1.e-6
1.347
for else
xm=0.1894*yb/(0.4184-0.013*yb) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yb+0.091*yb*yb ;
fbcd=2.74-1.473*yb+0.146*yb*yb ;
term1=xm*(1.-xm)* ( (1.-yb)*fabd+yb*fabc ) ;
term2=yb*(1.-yb)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yb*(1.-yb) ;
(term1+term2)/term3
end_function
$
eg0_well variation=function 
function(xw,yw,temper)
for 0.<xw<0.1894*yw/(0.4184-0.013*yw) 
xm=0.1894*yw/(0.4184-0.013*yw) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
$ Suggested bandgap temperature shift by J. Piprek 3/28/98
$shift=-2.8d-4*temper**2/(temper+136.) ;
$shift0=-2.8d-4*300.**2/(300.+136.) ;
fact=xw/(xm+1.e-6) ;
$eg0=1.347- 0.778*yw + 0.149*yw**2 ;
eg0=1.35- 0.73*yw + 0.13*yw**2 ;
ext_func1+fact*(eg0-ext_func3)+shift-shift0
for 0.1894*yw/(0.4184-0.013*yw)<xw<1.
xm=0.1894*yw/(0.4184-0.013*yw) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
fact=(1.-xw)/(1.-xm) ;
$eg0=1.347- 0.778*yw + 0.149*yw**2 ;
eg0=1.35- 0.73*yw + 0.13*yw**2 ;
tt4=eg0-ext_func3;
ext_func1+fact*tt4+shift-shift0
$ext_func1+fact*(eg0-ext_func3)+shift-shift0
end_function
$
eg0_bar variation=function 
function(xb,yb,temper)
for 0.<xb<0.1894*yb/(0.4184-0.013*yb) 
xm=0.1894*yb/(0.4184-0.013*yb) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
$ Suggested bandgap temperature shift by J. Piprek 3/28/98
$shift=-2.8d-4*temper**2/(temper+136.) ;
$shift0=-2.8d-4*300.**2/(300.+136.) ;
fact=xb/(xm+1.e-6) ;
$eg0=1.347- 0.778*yb + 0.149*yb**2 ;
eg0=1.35- 0.73*yb + 0.13*yb**2 ;
ext_func2+fact*(eg0-ext_func4)+shift-shift0
for 0.1894*yb/(0.4184-0.013*yb)<xb<1.
xm=0.1894*yb/(0.4184-0.013*yb) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
fact=(1.-xb)/(1.-xm) ;
$eg0=1.347- 0.778*yb + 0.149*yb**2 ;
eg0=1.347- 0.727*yb + 0.13*yb**2 ;
ext_func2+fact*(eg0-ext_func4)+shift-shift0
end_function
$
lband_well variation=function 
function(xw,yw,temper)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$
lband_bar variation=function
function(xb,yb,temper)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xb)*yb*delein+(1.-xb)*(1.-yb)*deleip ;
term2=xb*yb*delega+xb*(1.-yb)*delegp ;
term1+term2
end_function
$
$  compressive strain is negative:
$
$ may03 corrected (S.L.) (a0ip-acomp)/a0ip-> (a0ip-acomp)/acomp
strain_well variation=function 
function(xw,yw)
a0ip=5.8688 ;
acomp=0.013*xw*yw-0.4184*xw+0.1894*yw+a0ip ;
(a0ip-acomp)/acomp
end_function
$
strain_bar variation=function  
function(xb,yb)
a0ip=5.8688 ;
acomp_b=0.013*xb*yb-0.4184*xb+0.1894*yb+a0ip ;
(a0ip-acomp_b)/acomp_b
end_function
$
band_offset value=0.36
$
delta_so_well variation=function 
function(xw,yw)
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
$
delta_so_bar  variation=function
function(xb,yb)
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xb)*yb*delin+(1.-xb)*(1.-yb)*delip ;
term2=xb*yb*delga+xb*(1.-yb)*delgp ;
term1+term2 
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
mass_gamma_bar variation=function 
function(xb,yb)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xb)*yb*emnin+(1.-xb)*(1.-yb)*emnip ;
term2=xb*yb*emnga+xb*(1.-yb)*emngp ;
term1+term2
end_function
$
mass_l_bar value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3ga=2.9 ;
g3gp=1.25 ;
g3in=9.1 ;
g3ip=2.0 ;
term1=(1.-xw)*yw*g3in+(1.-xw)*(1.-yw)*g3ip ;
term2=xw*yw*g3ga+xw*(1.-yw)*g3gp ;
term1+term2
end_function
$
a_well  variation=function 
function(xw,yw)
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xw)*yw*dhin+(1.-xw)*(1.-yw)*dhip ;
term2=xw*yw*dhga+xw*(1.-yw)*dhgp ;
term1+term2
end_function
$
b_well  variation=function 
function(xw,yw)
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xw)*yw*duin+(1.-xw)*(1.-yw)*duip ;
term2=xw*yw*duga+xw*(1.-yw)*dugp ;
term1+term2
end_function
$
c11_well  variation=function 
function(xw,yw)
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xw)*yw*c11in+(1.-xw)*(1.-yw)*c11ip ;
term2=xw*yw*c11ga+xw*(1.-yw)*c11gp ;
term1+term2
end_function
$
c12_well  variation=function 
function(xw,yw)
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xw)*yw*c12in+(1.-xw)*(1.-yw)*c12ip ;
term2=xw*yw*c12ga+xw*(1.-yw)*c12gp ;
term1+term2
end_function
$
gamma1_bar variation=function
function(xb,yb)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xb)*yb*g1in+(1.-xb)*(1.-yb)*g1ip ;
term2=xb*yb*g1ga+xb*(1.-yb)*g1gp ;
term1+term2
end_function
$
gamma2_bar variation=function
function(xb,yb)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xb)*yb*g2in+(1.-xb)*(1.-yb)*g2ip ;
term2=xb*yb*g2ga+xb*(1.-yb)*g2gp ;
term1+term2
end_function
$
gamma3_bar variation=function
function(xb,yb)
g3ga=2.9 ;
g3gp=1.25 ;
g3in=9.1 ;
g3ip=2.0 ;
term1=(1.-xb)*yb*g3in+(1.-xb)*(1.-yb)*g3ip ;
term2=xb*yb*g3ga+xb*(1.-yb)*g3gp ;
term1+term2
end_function
$
a_bar variation=function
function(xb,yb)
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xb)*yb*dhin+(1.-xb)*(1.-yb)*dhip ;
term2=xb*yb*dhga+xb*(1.-yb)*dhgp ;
term1+term2
end_function
$
b_bar variation=function
function(xb,yb)
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xb)*yb*duin+(1.-xb)*(1.-yb)*duip ;
term2=xb*yb*duga+xb*(1.-yb)*dugp ;
term1+term2
end_function
$
c11_bar variation=function
function(xb,yb)
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xb)*yb*c11in+(1.-xb)*(1.-yb)*c11ip ;
term2=xb*yb*c11ga+xb*(1.-yb)*c11gp ;
term1+term2
end_function
$
c12_bar variation=function
function(xb,yb)
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xb)*yb*c12in+(1.-xb)*(1.-yb)*c12ip ;
term2=xb*yb*c12ga+xb*(1.-yb)*c12gp ;
term1+term2
end_function

$ In(1-x)Ga(x)As(y)P(1-y)
kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function

kane_para_f_bar variation=function
function(xb,yb)
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xb)*yb*InAs+xb*yb*GaAs+(1-xb)*(1-yb)*InP+xb*(1-yb)*GaP
end_function

$
lattice_constant value=5.8688
$
end_active_layer InGaAsP/InP

$****************************************************
$ bulk In(1-xw)Ga(xw)As(yw)P(1-yw) lattice matched to InP
$ [free-style]
$ This can be considered a speccial case of quantum well
$ except that information regarding the barrier is
$ not required.
$
$ Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to InP if x and y is related by
$  x=0.1894*y/( 0.4184-0.013*y )
$  
$  The band gap of lattice matched InGaAsP is given by 
$  E_g=1.347- 0.778*y + 0.149*y**2 
$
$ There is no need to specify xw since it can be calcualted
$   from yw
$
$ Typical use:
$   get_active_layer name=InGaAsP  mater=#m &&
$     var1=#yw var_symbol1=yw 
$****************************************************
begin_active_layer InGaAsP
$
layer_type type=bulk valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
1.35 - 0.73*yw + 0.13*yw**2+shift-shift0
$1.347-0.778*yw+0.149*yw**2+shift-shift0
end_function
$
lband_well variation=function  
function(yw)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
xw=0.1894*yw/( 0.4184-0.013*yw ) ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$
delta_so_well variation=function  
function(yw)
xw=0.1894*yw/(0.4184-0.013*yw) ;
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
$
mass_gamma_well variation=function  
function(yw)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
xw=0.1894*yw/( 0.4184-0.013*yw ) ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
gamma1_well variation=function 
function(yw)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
xw=0.1894*yw/( 0.4184-0.013*yw ) ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well variation=function 
function(yw)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
xw=0.1894*yw/( 0.4184-0.013*yw ) ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function
$
lattice_constant value=5.8688

$ In(1-x)Ga(x)As(y)P(1-y)
kane_para_f_well variation=function
function(yw)
xw=0.1894*yw/( 0.4184-0.013*yw );
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function
$
lattice_constant value=5.8688
end_active_layer InGaAsP



$****************************************************
$ complex In(1-xw)Ga(xw)As(yw)P(1-yw) lattice matched to InP
$ [free-style]
$
$ Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to InP if x and y is related by
$  x=0.1894*y/( 0.4184-0.013*y )
$  
$  The band gap of lattice matched InGaAsP is given by 
$  E_g=1.347- 0.778*y + 0.149*y**2 
$
$ There is no need to specify xw since it can be calcualted
$   from yw
$
$ Typical use:
$   get_active_layer name=cx-InGaAsP-InP  mater=#m &&
$     var1=#yw var_symbol1=yw 
$****************************************************
begin_active_layer cx-InGaAsP-InP
$
$
layer_type type=complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well variation=function 
function(yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
1.35 - 0.73*yw + 0.13*yw**2+shift-shift0
$1.347-0.778*yw+0.149*yw**2+shift-shift0
end_function
$
lband_well variation=function  
function(yw)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
xw=0.1894*yw/( 0.4184-0.013*yw ) ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$
delta_so_well variation=function  
function(yw)
xw=0.1894*yw/(0.4184-0.013*yw) ;
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
band_offset value=0.36
$
mass_gamma_well variation=function  
function(yw)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
xw=0.1894*yw/( 0.4184-0.013*yw ) ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
gamma1_well variation=function 
function(yw)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
xw=0.1894*yw/( 0.4184-0.013*yw ) ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well variation=function 
function(yw)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
xw=0.1894*yw/( 0.4184-0.013*yw ) ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function
$


$
a_well  variation=function 
function(yw)
xw=0.1894*yw/( 0.4184-0.013*yw );
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xw)*yw*dhin+(1.-xw)*(1.-yw)*dhip ;
term2=xw*yw*dhga+xw*(1.-yw)*dhgp ;
term1+term2
end_function
$
b_well  variation=function 
function(yw)
xw=0.1894*yw/( 0.4184-0.013*yw );
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xw)*yw*duin+(1.-xw)*(1.-yw)*duip ;
term2=xw*yw*duga+xw*(1.-yw)*dugp ;
term1+term2
end_function
$
c11_well  variation=function 
function(yw)
xw=0.1894*yw/( 0.4184-0.013*yw );
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xw)*yw*c11in+(1.-xw)*(1.-yw)*c11ip ;
term2=xw*yw*c11ga+xw*(1.-yw)*c11gp ;
term1+term2
end_function
$
c12_well  variation=function 
function(yw)
xw=0.1894*yw/( 0.4184-0.013*yw );
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xw)*yw*c12in+(1.-xw)*(1.-yw)*c12ip ;
term2=xw*yw*c12ga+xw*(1.-yw)*c12gp ;
term1+term2
end_function



$ In(1-x)Ga(x)As(y)P(1-y)
kane_para_f_well variation=function
function(yw)
xw=0.1894*yw/( 0.4184-0.013*yw );
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function
$
lattice_constant value=5.8688
end_active_layer cx-InGaAsP-InP



$ **************************************************************
$
$  Version 2005
$  Complex Active layer macro for quantum well/barrier of 
$  strained layer of In(1-xw)Ga(xw)As(yw)P(1-yw) grown 
$  on material lattice matched to InP.
$  [free-style]
$
$  Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to InP if x and y is related by
$  x=0.1894*y/( 0.4184-0.013*y )
$  
$  The band gap of lattice matched InGaAsP is given by 
$  E_g=1.347- 0.778*y + 0.149*y**2 
$ 05/05 zqli band gap modified for lattice matched material 
$  E_g=1.35- 0.73*y + 0.13*y**2 
$ J appl. Phys. 89, 5815(2001)
$
$  Typical use:
$   get_active_layer name=cx-InGaAsP/InP mater=#m &&
$     var1=#xw var2=#yw var_symbol1=xw var_symbol2=yw
$  Repeated use of the above together with repeated use of
$   active_reg will allow the construction of complex active region.
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_active_layer cx-InGaAsP/InP
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ band offset is not used unless this is a well in a complex active region
$
band_offset value=0.36
$
ext_func1 variation=function 
function(xw,yw,temper)
for 0.<xw+yw<1.e-6
1.347
for 1.e-6<xw+yw<2.
fabd=1.347+0.643*xw+0.786*xw*xw ;
fabc=0.36+0.505*xw+0.555*xw*xw ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xw*(1.-xw)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xw)*facd+xw*fbcd ) ;
term3=xw*(1.-xw)+yw*(1.-yw) ;
(term1+term2)/term3
end_function
$
ext_func3 variation=function 
function(xw,yw,temper)
for 0.<yw<1.e-6
1.347
for else
xm=0.1894*yw/(0.4184-0.013*yw) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xm*(1.-xm)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yw*(1.-yw) ;
(term1+term2)/term3
end_function
$
eg0_well variation=function 
function(xw,yw,temper)
for 0.<xw<0.1894*yw/(0.4184-0.013*yw) 
xm=0.1894*yw/(0.4184-0.013*yw) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
$ Suggested bandgap temperature shift by J. Piprek 3/28/98
$shift=-2.8d-4*temper**2/(temper+136.) ;
$shift0=-2.8d-4*300.**2/(300.+136.) ;
fact=xw/(xm+1.e-6) ;
$eg0=1.347- 0.778*yw + 0.149*yw**2 ;
eg0=1.35- 0.73*yw + 0.13*yw**2 ;
ext_func1+fact*(eg0-ext_func3)+shift-shift0
for 0.1894*yw/(0.4184-0.013*yw)<xw<1.
xm=0.1894*yw/(0.4184-0.013*yw) ;
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
fact=(1.-xw)/(1.-xm) ;
$eg0=1.347- 0.778*yw + 0.149*yw**2 ;
eg0=1.347- 0.727*yw + 0.13*yw**2 ;
tt4=eg0-ext_func3;
ext_func1+fact*tt4+shift-shift0
$ext_func1+fact*(eg0-ext_func3)+shift-shift0
end_function
$
lband_well variation=function 
function(xw,yw,temper)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0ip=5.8688 ;
acomp=0.013*xw*yw-0.4184*xw+0.1894*yw+a0ip ;
(a0ip-acomp)/a0ip
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3ga=2.9 ;
g3gp=1.25 ;
g3in=9.1 ;
g3ip=2.0 ;
term1=(1.-xw)*yw*g3in+(1.-xw)*(1.-yw)*g3ip ;
term2=xw*yw*g3ga+xw*(1.-yw)*g3gp ;
term1+term2
end_function
$
a_well  variation=function 
function(xw,yw)
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xw)*yw*dhin+(1.-xw)*(1.-yw)*dhip ;
term2=xw*yw*dhga+xw*(1.-yw)*dhgp ;
term1+term2
end_function
$
b_well  variation=function 
function(xw,yw)
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xw)*yw*duin+(1.-xw)*(1.-yw)*duip ;
term2=xw*yw*duga+xw*(1.-yw)*dugp ;
term1+term2
end_function
$
c11_well  variation=function 
function(xw,yw)
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xw)*yw*c11in+(1.-xw)*(1.-yw)*c11ip ;
term2=xw*yw*c11ga+xw*(1.-yw)*c11gp ;
term1+term2
end_function
$
c12_well  variation=function 
function(xw,yw)
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xw)*yw*c12in+(1.-xw)*(1.-yw)*c12ip ;
term2=xw*yw*c12ga+xw*(1.-yw)*c12gp ;
term1+term2
end_function

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function

$ this must be substrate base lattice constant
lattice_constant value=5.8688
$
end_active_layer cx-InGaAsP/InP
$
$ **************************************************************
$
$  Complex Active layer macro for InP
$  Macro according to cx-InGaAsP/InP
$
$  Typical use:
$   get_active_layer name=cx-InP mater=#m 
$ parameter_range temper=[77 600] 
$ ********************************************************
begin_active_layer cx-InP
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ band offset is not used unless this is a well in a complex active region
$
band_offset value=0.5
$
ext_func1 variation=function 
function(xw,yw,temper)
for 0.<xw+yw<1.e-6
1.347
for 1.e-6<xw+yw<2.
fabd=1.347+0.643*xw+0.786*xw*xw ;
fabc=0.36+0.505*xw+0.555*xw*xw ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xw*(1.-xw)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xw)*facd+xw*fbcd ) ;
term3=xw*(1.-xw)+yw*(1.-yw) ;
(term1+term2)/term3
end_function
$
ext_func3 variation=function 
function(xw,yw,temper)
for 0.<yw<1.e-6
1.347
for else
xm=0.1894*yw/(0.4184-0.013*yw) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xm*(1.-xm)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yw*(1.-yw) ;
(term1+term2)/term3
end_function
$
eg0_well variation=function 
function(temper)
1.4316 - 4.1e-4 * temper**2 /(temper+136)
end_function
$
lband_well value=0.608 
$
$  compressive strain is negative:
$
strain_well value=0
$
delta_so_well value=0.10 
$
mass_gamma_well value=0.08 
$
mass_l_well value=0.56
$
gamma1_well value=5.0 
$
gamma2_well value=1.5 
$
gamma3_well value=2.0 
$
a_well value=-6.4 
$
b_well value=-2.0 
$
c11_well value=10.2 
$
c12_well value=5.76 

kane_para_f_well value=-1.31

$ this must be substrate base lattice constant
lattice_constant value=5.8688
$
end_active_layer cx-InP

$ ***********************************************
$ Complex acitve layer macro for quantum well or barrier
$ of strained layer of InGaAs with base lattice constatn of GaAs.
$ Formula: In(xw)Al(1-xw)As xw=Indium composition in well or barrier 
$  [free-style]
$ Typical use:
$   get_active_layer name=cx-InAlAs mater=#m var1=#xw  var_symbol1=xw 
$ parameter_range xw=[0 1]
$ parameter_range temper=[77 600] 
$ **********************************************
$
begin_active_layer cx-InAlAs
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ band offset is used only in well.
band_offset value=0.6
$
eg0_well variation=function 
function(xw,temper)
eg_InAs=0.355;
eg_AlAs=3.0;
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
xw*eg_InAs+(1-xw)*eg_AlAs+shift-shift0
end_function
$
lband_well value=0.28
$
strain_well variation=function 
function(xw)
AlAs=5.6605 ;
InAs=6.05840 ;
GaAs=5.65325 ;
acomp=xw*InAs+(1-xw)*AlAs;
(GaAs-acomp)/acomp
end_function
$
delta_so_well variation=function 
function(xw)
AlAs=0.279 ;
InAs=0.43 ;
xw*InAs+(1-xw)*AlAs
end_function
$
mass_gamma_well variation=function 
function(xw)
AlAs=0.150 ;
InAs=0.023 ;
xw*InAs+(1-xw)*AlAs
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(xw)
AlAs=3.45 ;
InAs=19.7 ;
xw*InAs+(1-xw)*AlAs
end_function
$
gamma2_well  variation=function 
function(xw)
AlAs=0.68 ;
InAs=8.4 ;
xw*InAs+(1-xw)*AlAs
end_function
$
gamma3_well  variation=function 
function(xw)
AlAs=1.29 ;
InAs=9.3 ;
xw*InAs+(1-xw)*AlAs
end_function
$
a_well  variation=function 
function(xw)
AlAs=-9.8 ;
InAs=-5.0 ;
xw*InAs+(1-xw)*AlAs
end_function
$
b_well  variation=function 
function(xw)
AlAs=-1.76 ;
InAs=-1.8 ;
xw*InAs+(1-xw)*AlAs
end_function
$
c11_well  variation=function 
function(xw)
AlAs=12.02 ;
InAs=8.33 ;
xw*InAs+(1-xw)*AlAs
end_function
$
c12_well  variation=function 
function(xw)
AlAs=5.70 ;
InAs=4.53 ;
xw*InAs+(1-xw)*AlAs
end_function
$

kane_para_f_well variation=function
function(xw)
InAs=-2.9;
AlAs=-0.48;
xw*InAs+(1-xw)*AlAs
end_function

$
lattice_constant value=5.65325
$
end_active_layer cx-InAlAs

$ **************************************************************
$  macro for bulk 
$  In(x)Al(1-x)As
$  This is a bulk/unstrained version, and 
$  simulator will automatically correct its bandgap and mass
$  according to strain.
$  [free-style]
$
$ Typical use:
$   load_macro name=inalas var1=#x var_symbol1=x mater=#m
$
$ parameter_range x=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_macro inalas
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 

$
dielectric_constant variation=function 
function(x)
InAs=15.15;
AlAs=10.279;
x*InAs+(1-x)*AlAs
end_function
$
electron_mass variation=function 
function(x)
AlAs=0.150 ;
InAs=0.023 ;
x*InAs+(1-x)*AlAs
end_function
$
hole_mass  variation=function 
function(x)
g1al=3.45 ;
g1in=19.7 ;
g2al=0.68 ;
g2in=8.4 ;
g1q=x*g1in+(1-x)*g1al ;
g2q=x*g2in+(1-x)*g2al ;
emvhh=1./(g1q-2.*g2q) ;
emvlh=1./(g1q+2.*g2q) ;
( emvhh**(3/2)+emvlh**(3/2) )**(2/3)
end_function
$
band_gap variation=function 
function(x,temper)
eg_InAs=0.355;
eg_AlAs=3.0;
shift0=-5.5d-4*300.**2/(300.+225.) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
x*eg_InAs+(1-x)*eg_AlAs+shift-shift0
end_function

$
$ The affinity is really unknown at this point
affinity value=4.
$affinity variation=function
$function(x,temper)
$eg_InAs=0.355;
$eg_AlAs=3.0;
$shift0=-5.5d-4*300.**2/(300.+225.) ;
$shift=-5.5d-4*temper**2/(temper+225.) ;
$eg=x*eg_InAs+(1-x)*eg_AlAs+shift-shift0;
$eg_AlAs=3.0+shift-shift0 ;
$offset=0.6;
$4.07-offset*(eg-eg_AlAs)
$end_function
$
electron_mobility variation=function 
function(total_doping)
mu_max=1.46;
mu_min=0.;
ref_dens=2.1d23;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.22;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

beta_n value=2.
electron_sat_vel value=2.1e5
beta_p value=1.
hole_sat_vel value=1.d5
norm_field value=4.e5
tau_energy value=1.e-13
radiative_recomb value=2.d-16

auger_n value=2.d-41
auger_p value=2.d-41

real_index variation=function 
function(x,temper)
InAs=3.892;
AlAs=2.92;
x*InAs+(1-x)*AlAs
end_function
lifetime_n value=1.e-7
lifetime_p value=1.e-7
absorption value=0.
thermal_kappa value=6.
end_macro inalas


$ ***********************************************
$ Complex acitve layer macro for quantum well or barrier
$ of strained layer of InGaAlAs,  with base lattice constant of GaAs.
$  cx-In(1-xw-yw)Ga(xw)Al(yw)As
$  [free-style]
$
$  Most of the formulas here were derived from Vegard's law.
$  
$ Typical use:
$   get_active_layer name=cx-InGaAlAs mater=#m &&
$     var1=#xw var2=#yw var_symbol1=xw var_symbol2=yw 
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer cx-InGaAlAs
layer_type type=strained_well valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
band_offset value=0.5
lattice_constant value=5.65325
$
$ --- parameters for well:
$
eg0_well variation=function 
function(xw,yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*xw+2.093*yw ;
term2=0.436*xw**2 +0.577*yw**2+1.013*xw*yw ;
term1+term2+shift-shift0
end_function
$
lband_well value=0.28
$
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)As)(z)(In(1-y1)Al(y1)As)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$  Compressive strain has negative sign:
$
strain_well variation=function 
function(xb,temper)
a0gaas=5.65325 ;
a0alas=5.6605 ;
a0inas=6.05840 ;
a0inp=5.8688 ;
axy=a0inas+xw*(a0gaas-a0inas)+yw*(a0alas-a0inas) ;
(a0gaas-axy)/axy
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
delal=0.279 ;
delga=0.34 ;
delin=0.43 ;
xw*(delga-delin)+yw*(delal-delin)+delin
end_function
$
$
mass_gamma_well variation=function 
function(xw,yw)
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
xw*(emnga-emnin)+yw*(emnal-emnin)+emnin
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
xw*(g1ga-g1in)+yw*(g1al-g1in)+g1in
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
xw*(g2ga-g2in)+yw*(g2al-g2in)+g2in
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3al=1.29 ;
g3ga=2.9 ;
g3in=9.3 ;
xw*(g3ga-g3in)+yw*(g3al-g3in)+g3in
end_function
$
a_well  variation=function 
function(xw,yw)
dhal=-9.8 ;
dhga=-9.8 ;
dhin=-5.0 ;
xw*(dhga-dhin)+yw*(dhal-dhin)+dhin
end_function
$
b_well  variation=function 
function(xw,yw)
dual=-1.76 ;
duga=-1.76 ;
duin=-1.8 ;
xw*(duga-duin)+yw*(dual-duin)+duin
end_function
$
c11_well  variation=function 
function(xw,yw)
c11al=12.02 ;
c11ga=11.9 ;
c11in=8.33 ;
xw*(c11ga-c11in)+yw*(c11al-c11in)+c11in
end_function
$
c12_well  variation=function 
function(xw,yw)
c12al=5.70 ;
c12ga=5.38 ;
c12in=4.53 ;
xw*(c12ga-c12in)+yw*(c12al-c12in)+c12in
end_function
$

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9;
GaAs=-1.94;
AlAs=-0.48;
InAs*(1-xw-yw)+GaAs*xw+AlAs*yw
end_function

end_active_layer InGaAlAs/AlGaAs

$ **************************************************************
$
$  Complex Active layer macro of strained well/barrier of 
$  In(1-xw-yw)Ga(xw)Al(yw)As 
$  grown on material lattice matched to GaAs.  The same macro may
$  be used to descript a well or a barrier layer.
$  [free-style]
$
$  Vegard's law is used to derive compound parameters from
$  binaries.  Please also see the following reference.
$
$  D. Olego, T.Y. Chang, E.A. Silberg, E.A. Caridi, and A. Pinczuk,
$  "Compositional dependence of band-gap energy and conduction-band
$  effective mass of In(1-x-y)Ag(x)Al(y)As lattice matched to GaAs.",
$  Appl. Phys. Lett., vol. 41, pp. 476-478, 1982
$  
$ Typical use:
$   get_active_layer name=cx-InGaAlAs/GaAs mater=#m &&
$     var1=#xw var2=#yw var_symbol1=xw var_symbol2=yw
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
$ ***************************************************************
begin_active_layer cx-InGaAlAs/GaAs
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 

band_offset value=0.72

eg0_well variation=function 
function(xw,yw,temper)
shift=-4.1d-4*temper**2/(temper+136.) ;
shift0=-4.1d-4*300.**2/(300.+136.) ;
term1=0.36+0.629*xw+2.093*yw ;
term2=0.436*xw**2 +0.577*yw**2+1.013*xw*yw ;
term1+term2+shift-shift0
end_function
$
lband_well value=0.28
$
$
$  The compound comes from two ternarires
$  (In(1-x1)Ga(x1)As)(z)(In(1-y1)Al(y1)As)(1-z)
$  where x1*z=x and y1*(1-z)=y
$
$  Compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0gaas=5.65325 ;
a0alas=5.6605 ;
a0inas=6.05840 ;
a0inp=5.8688 ;
axy=a0inas+xw*(a0gaas-a0inas)+yw*(a0alas-a0inas) ;
(a0gaas-axy)/axy
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
delal=0.279 ;
delga=0.34 ;
delin=0.43 ;
xw*(delga-delin)+yw*(delal-delin)+delin
end_function
$
$
mass_gamma_well variation=function 
function(xw,yw)
emnal=0.150 ;
emnga=0.064 ;
emnin=0.023 ;
xw*(emnga-emnin)+yw*(emnal-emnin)+emnin
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1al=3.45 ;
g1ga=6.9 ;
g1in=19.7 ;
xw*(g1ga-g1in)+yw*(g1al-g1in)+g1in
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2al=0.68 ;
g2ga=2.2 ;
g2in=8.4 ;
xw*(g2ga-g2in)+yw*(g2al-g2in)+g2in
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3al=1.29 ;
g3ga=2.9 ;
g3in=9.3 ;
xw*(g3ga-g3in)+yw*(g3al-g3in)+g3in
end_function
$
a_well  variation=function 
function(xw,yw)
dhal=-9.8 ;
dhga=-9.8 ;
dhin=-5.0 ;
xw*(dhga-dhin)+yw*(dhal-dhin)+dhin
end_function
$
b_well  variation=function 
function(xw,yw)
dual=-1.76 ;
duga=-1.76 ;
duin=-1.8 ;
xw*(duga-duin)+yw*(dual-duin)+duin
end_function
$
c11_well  variation=function 
function(xw,yw)
c11al=12.02 ;
c11ga=11.9 ;
c11in=8.33 ;
xw*(c11ga-c11in)+yw*(c11al-c11in)+c11in
end_function
$
c12_well  variation=function 
function(xw,yw)
c12al=5.70 ;
c12ga=5.38 ;
c12in=4.53 ;
xw*(c12ga-c12in)+yw*(c12al-c12in)+c12in
end_function
$
lattice_constant value=5.65325
end_active_layer cx-InGaAlAs/GaAs
$ ---------------------------------------------------------

$ **************************************************************
$  Complex Active layer macro for quantum well/barrier of 
$  strained layer of In(1-xw)Ga(xw)As(yw)P(1-yw) grown 
$  on material lattice matched to GaAs.
$  [free-style]
$
$  Please note that
$  For In(1-x)Ga(x)As(y)P(1-y) system,
$  the lattice matches to GaAs if x and y is related by
$  x=(1+y)/(2.08-0.08*y)
$    
$  The band gap of InGaAsP lattice matched to GaAs is given by 
$  E_g=1.926-0.259*y-0.241*y**2
$  E_g=1.91 - 1.44*y+2.87*y*y-3.23*y*y*y+1.31*y*y*y*y  Mohrdiek 95
$
$  Typical use:
$   get_active_layer name=cx-InGaAsP/GaAs mater=#m &&
$     var1=#xw var2=#yw var_symbol1=xw var_symbol2=yw
$  Repeated use of the above together with repeated use of
$   active_reg will allow the construction of complex active region.
$ parameter_range xw=[0 1]
$ parameter_range yw=[0 1]
$ parameter_range temper=[77 600] 
begin_active_layer cx-InGaAsP/GaAs
$
layer_type type=strained_complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
$ band offset is not used unless this is a well in a complex active region
$
band_offset value=0.4
$
$ ==> unstrained bandgap
$
$ this is the unstrained bandgap Eg0_bilin(xw,yw) for well
$ using bi-linear combination of ternaries.
$  
ext_func1 variation=function 
function(xw,yw)
for 0.<xw*yw<0.9999 
fabd=1.347+0.643*xw+0.786*xw*xw ;
fabc=0.36+0.505*xw+0.555*xw*xw ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xw*(1.-xw)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xw)*facd+xw*fbcd ) ;
term3=xw*(1.-xw)+yw*(1.-yw) ;
(term1+term2)/(term3+1.e-6)
for 0.9999<xw*yw<1. 
1.424
end_function
$
$
$ this is the unstrained bandgap Eg0_bilin(xw=xm,yw) for well
$ using bi-linear combination of ternaries.  
$ X is set to lattice matched composition for calcation purpose
$ 
ext_func3 variation=function 
function(xw,yw)
for 0.<(1+yw)/(2.08-0.08*yw)*yw<0.9999 
xm=(1+yw)/(2.08-0.08*yw) ;
fabd=1.347+0.643*xm+0.786*xm*xm ;
fabc=0.36+0.505*xm+0.555*xm*xm ;
facd=1.347-1.083*yw+0.091*yw*yw ;
fbcd=2.74-1.473*yw+0.146*yw*yw ;
term1=xm*(1.-xm)* ( (1.-yw)*fabd+yw*fabc ) ;
term2=yw*(1.-yw)*( (1.-xm)*facd+xm*fbcd ) ;
term3=xm*(1.-xm)+yw*(1.-yw) ;
(term1+term2)/(term3+1.e-6)
for 0.9999<(1+yw)/(2.08-0.08*yw)*yw<1.
1.424
end_function
$
$ Theory of unstrained bandgap:
$ Given bandgap of matched line (xm,ym): Eg0_match(ym)
$ and measured ternary bandgaps, we interpolate as follows:
$ If (x,y) is within the left side of the matched line (xm,ym):
$ Eg0=Eg0_bilin(x,y)+(x/xm)*(Eg0_match(y)-Eg0_bilin(xm,y))
$ If (x,y) is within the right side of the matched line (xm,ym):
$ Eg0=Eg0_bilin(x,y)+[(1-x)/(1-xm)]*(Eg0_match(y)-Eg0_bilin(xm,y))
$
$ The above formula ensures that the unstrained bandgap
$ agrees with experiment at ternaries and at the matched line (xm,ym).
$ For any other composition, we draw horizontal line across
$ (x,y) and linearly interpolate given the three known points:
$ (0,y), (xm,y), (1,y)
$
eg0_well variation=function 
function(xw,yw,temper)
for 0.<xw<(1+yw)/(2.08-0.08*yw) 
xm=(1+yw)/(2.08-0.08*yw) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
fact=xw/xm ;
$ eg0=1.926-0.259*yw-0.241*yw*yw ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yw +2.87*yw*yw-3.23*yw*yw*yw+1.31*yw*yw*yw*yw ;
$----------------------------------------------------------
ext_func1+fact*(eg0-ext_func3)+shift-shift0
for (1+yw)/(2.08-0.08*yw)<xw<1.
xm=(1+yw)/(2.08-0.08*yw) ;
shift=-5.5d-4*temper**2/(temper+225.) ;
shift0=-5.5d-4*300.**2/(300.+225.) ;
fact=(1.-xw)/(1.-xm+1.e-6) ;
$ eg0=1.926-0.259*yw-0.241*yw*yw ;
$----------------------------------------------------------
eg0=1.91 - 1.44*yw +2.87*yw*yw-3.23*yw*yw*yw+1.31*yw*yw*yw*yw ;
$----------------------------------------------------------
ext_func1+fact*(eg0-ext_func3)+shift-shift0
end_function
$
lband_well variation=function 
function(xw,yw)
delega=0.28 ;
delein=1.1 ;
deleip=0.608 ;
delegp=-0.09 ;
term1=(1.-xw)*yw*delein+(1.-xw)*(1.-yw)*deleip ;
term2=xw*yw*delega+xw*(1.-yw)*delegp ;
term1+term2
end_function
$
$  compressive strain is negative:
$
strain_well variation=function 
function(xw,yw)
a0ga=5.65325 ;
a0ip=5.8688 ;
acomp=0.01724*xw*yw-0.44824*xw+0.2155*yw+a0ip ;
(a0ga-acomp)/acomp
end_function
$
$
delta_so_well variation=function 
function(xw,yw)
delga=0.34 ;
delin=0.43 ;
delip=0.10 ;
delgp=0.10 ;
term1=(1.-xw)*yw*delin+(1.-xw)*(1.-yw)*delip ;
term2=xw*yw*delga+xw*(1.-yw)*delgp ;
term1+term2
end_function
$
mass_gamma_well variation=function 
function(xw,yw)
emnga=0.064 ;
emnin=0.023 ;
emnip=0.08 ;
emngp=0.17 ;
term1=(1.-xw)*yw*emnin+(1.-xw)*(1.-yw)*emnip ;
term2=xw*yw*emnga+xw*(1.-yw)*emngp ;
term1+term2
end_function
$
mass_l_well value=0.56
$
gamma1_well  variation=function 
function(xw,yw)
g1ga=6.85 ;
g1gp=4.1 ;
g1in=20.4 ;
g1ip=5.0 ;
term1=(1.-xw)*yw*g1in+(1.-xw)*(1.-yw)*g1ip ;
term2=xw*yw*g1ga+xw*(1.-yw)*g1gp ;
term1+term2
end_function
$
gamma2_well  variation=function 
function(xw,yw)
g2ga=2.1 ;
g2gp=0.49 ;
g2in=8.3 ;
g2ip=1.5 ;
term1=(1.-xw)*yw*g2in+(1.-xw)*(1.-yw)*g2ip ;
term2=xw*yw*g2ga+xw*(1.-yw)*g2gp ;
term1+term2
end_function
$
gamma3_well  variation=function 
function(xw,yw)
g3ga=2.9 ;
g3gp=1.25 ;
g3in=9.1 ;
g3ip=2.0 ;
term1=(1.-xw)*yw*g3in+(1.-xw)*(1.-yw)*g3ip ;
term2=xw*yw*g3ga+xw*(1.-yw)*g3gp ;
term1+term2
end_function
$
a_well  variation=function 
function(xw,yw)
dhga=-9.77 ;
dhgp=-9.3 ;
dhin=-6.0 ;
dhip=-6.4 ;
term1=(1.-xw)*yw*dhin+(1.-xw)*(1.-yw)*dhip ;
term2=xw*yw*dhga+xw*(1.-yw)*dhgp ;
term1+term2
end_function
$
b_well  variation=function 
function(xw,yw)
duga=-1.7 ;
dugp=-1.5 ;
duin=-1.8 ;
duip=-2.0 ;
term1=(1.-xw)*yw*duin+(1.-xw)*(1.-yw)*duip ;
term2=xw*yw*duga+xw*(1.-yw)*dugp ;
term1+term2
end_function
$
c11_well  variation=function 
function(xw,yw)
c11ga=11.9 ;
c11gp=14.12 ;
c11in=8.33 ;
c11ip=10.2 ;
term1=(1.-xw)*yw*c11in+(1.-xw)*(1.-yw)*c11ip ;
term2=xw*yw*c11ga+xw*(1.-yw)*c11gp ;
term1+term2
end_function
$
c12_well  variation=function 
function(xw,yw)
c12ga=5.38 ;
c12gp=6.25 ;
c12in=4.53 ;
c12ip=5.76 ;
term1=(1.-xw)*yw*c12in+(1.-xw)*(1.-yw)*c12ip ;
term2=xw*yw*c12ga+xw*(1.-yw)*c12gp ;
term1+term2
end_function

kane_para_f_well variation=function
function(xw,yw)
InAs=-2.9; GaAs=-1.94; InP=-1.31; GaP=-2.04;
(1-xw)*yw*InAs+xw*yw*GaAs+(1-xw)*(1-yw)*InP+xw*(1-yw)*GaP
end_function

$ this must be substrate base lattice constant
lattice_constant value=5.65325
$
end_active_layer cx-InGaAsP/GaAs
$
$**********************************************************
$  Version 2007
$ macro ingaasp 
$ [free-style]
$ Bulk In(1-x)Ga(x)As(y)P(1-y)  lattice  matched to InP at 300K
$                Relation between x and y:
$                x=0.1894y/(0.4184-0.013y)
$ new mobility version
$--
$ Apr.2007 K. Uehara modified mobility parameters.
$   See fitting result at
$   http://www.crosslight.jp/Support/Macro_calib/
$   ingaasp_elec_vel_fit_Apr2007.pdf
$--
$ 05/05 zqli band gap modified for lattice matched material 
$ J appl. Phys. 89, 5815(2001)
$ Typical use:
$   load_macro name=ingaasp var1=#y mater=#m var_symbol1=#y 
$ parameter_range y=[0 1]
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ **********************************************************
begin_macro ingaasp_new_mob
material type=semicond band_valleys=(1 1) &&
  el_vel_model=n.gaas hole_vel_model=beta 
dielectric_constant variation=function
function(y) 
12.4 + 1.5 * y
end_function
electron_mass variation=function
function(y)
0.077 - 0.050 * y +0.014 * y **2 
end_function
hole_mass variation=function
function(y)
( 0.588 ** (3 / 2)
+   (0.12 - 0.069*y )** (3 / 2)  ) ** (2 / 3)
end_function
band_gap variation=function
function(y)
$1.347 - 0.778*y + 0.149*y**2
1.35 - 0.73*y + 0.13*y**2
end_function
affinity variation=function
function(y)
off=0.4;
$eg=1.347 - 0.778*y + 0.149*y**2;
eg=1.347 - 0.724*y + 0.13*y**2;
eg0=1.347;
4.07+off*(eg0-eg)
end_function

$ interpolation between InGaAs and InP:
electron_mobility variation=function 
function(y,total_doping)
$mu_max=0.45+0.65*y;
$K.U. modified. Apr.2007.
mu_max=y*1.13d0 + (1.0d0-y)*0.34d0;
mu_min=0.;
ref_dens=1.69d24;
alpha=0.436;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

hole_mobility variation=function 
function(total_doping)
mu_max=0.036;
mu_min=0.;
ref_dens=9.6d20;
alpha=0.4;
mu_min+(mu_max-mu_min)/(1+(total_doping/ref_dens)**alpha)
end_function

norm_field variation=function
function(y)
$4.e5 + 8.e5 * y
$K.U. modified. Apr.2007.
y*4.2e5 + 13.e5*(1.0d0-y)
end_function
tau_energy value=1.e-13
beta_n value=2.
electron_sat_vel variation=function
function(y)
$1.e5-0.225e5*y
$K.U. modified. Apr.2007.
y*1.3d5 + (1.0d0-y)*1.2d5
end_function
beta_p value=1.
hole_sat_vel value=1.0e5
radiative_recomb value=2.d-16
auger_n value=3.5d-41
auger_p value=3.5d-41
lifetime_n value=1.e-7
lifetime_p value=1.e-7
real_index variation=function
function(y)
3.167+0.314*y
end_function
absorption value=0.
thermal_kappa value=46.
end_macro ingaasp_new_mob

$ ********************************************
$ macro for ITO as semiconductor
$ Semiconductor type macro definition for indium tin oxide
$
$ Please note that ITO work function ranges from 4.3 to 5.1 eV, 
$ depending on stoichiometry, organic contamination and oxidation type.  See
$ the following refereces:

$ [1] K. Sugiyama, H. Ishii, Y. Ouchi, and K. Seki, "Dependence of indium-
$ tin-oxide work function on surface cleaning method as studied
$ by ultraviolet and x-ray photoemission spectroscopies," J. Appl. Phys.,
$ vol. 87, pp. 295-298, 2000.
$ [2] J. S. Kim, B. Lagel, E. Moons, N. Johansson, I. D. Baikie, W. R. Salaneck,
$ R. H. Friend, and F. Cacialli, "Kelvin probe and ultraviolet photoemission
$ measurement of indium tin oxide work function: A comparison,"
$ Synth. Metal, vol. 111-112, pp. 311-314, 2000.
$
$ Typical resistivity is 5.4e-4  Ohm.cm
$ Typical carrier conc. is 1.e27 1/m^3 
$
$ "Indium tin oxide contacts to gallium nitride optoelectronic devices,"
$ T. Margalith, O. Buchinsky, D. A. Cohen, A. C. Abare, M. Hansen, 
$ S. P. DenBaars, and L. A. Coldren, 
$ Appl. Phys. Lett., Vol. 74, No. 26, 28 June 1999, p. 3930 
$
$ Crosslight comment:  due to large work function, conduction band 
$ of ITO aligns with valence band of many semiconductors.  The high N-doping
$ of ITO makes it easy to form tunnel junction between conduction band of
$ ITO and valence band of an adjacent semiconductor.  To make current flow
$ in Crosslight simulator, please be sure to use the command 
$ equiv_tunnel_junc.  Also, please use high N-doping (1.e27 1/m^3) in ITO.
$ 
$ See also macro ito (as pure resistor) and references therein.
$
$ [free-style]
$ Typical use:
$   load_macro name=ito_semicon mater=#m var1=#xlam &&
$     var_symbol1=xlam
$ ********************************************
begin_macro ito_semicon
material type=semicond band_valleys=(1 1) &&
  el_vel_model=constant  hole_vel_model=constant

dielectric_constant value=3.8

electron_mass value=0.3
hole_mass value=0.3
band_gap value=3.6
affinity value=4.7
electron_mobility value=0.01
hole_mobility value=0.01
tau_energy value=1.e-13
radiative_recomb value=2.e-21
auger_n value=0.e-44
auger_p value=0.e-44
lifetime_n value=1.e-6
lifetime_p value=1.e-6


$real_index variation=function
$function(xlam)
$2.433333-0.8333333*xlam
$end_function
$
$absorption variation=function
$function(xlam)
$188495.6*xlam
$end_function

real_index variation=table
table(wavelength)
  0.1      2.3494600    
  0.25057000       2.3494600    
  0.25503000       2.3536700    
  0.25903000       2.3522700    
  0.26347000       2.3522700    
  0.26908000       2.3508600    
  0.27388000       2.3452500    
  0.27849000       2.3410400    
  0.28252000       2.3354200    
  0.28705000       2.3298100    
  0.29172000       2.3255900    
  0.29574000       2.3171700    
  0.29986000       2.3115600    
  0.30325000       2.3031300    
  0.30759000       2.2975200    
  0.31160000       2.2890900    
  0.31526000       2.2806700    
  0.31947000       2.2722500    
  0.32429000       2.2652300    
  0.32876000       2.2554000    
  0.33335000       2.2469800    
  0.33753000       2.2371500    
  0.34183000       2.2273200    
  0.34735000       2.2174900    
  0.35306000       2.2062600    
  0.35776000       2.1964400    
  0.36320000       2.1866100    
  0.36818000       2.1753800    
  0.37330000       2.1669500    
  0.37789000       2.1571300    
  0.38397000       2.1473000    
  0.38813000       2.1360700    
  0.39238000       2.1290500    
  0.39746000       2.1206300    
  0.40192000       2.1136100    
  0.40648000       2.1051800    
  0.41272000       2.0981600    
  0.41592000       2.0883400    
  0.42080000       2.0799100    
  0.42665000       2.0700900    
  0.43266000       2.0630700    
  0.43884000       2.0532400    
  0.44521000       2.0434100    
  0.45271000       2.0363900    
  0.45850000       2.0251600    
  0.46545000       2.0181400    
  0.47158000       2.0069100    
  0.47894000       1.9984900    
  0.48543000       1.9914700    
  0.49210000       1.9802400    
  0.50245000       1.9718100    
  0.51203000       1.9619900    
  0.52071000       1.9493500    
  0.52969000       1.9423300    
  0.54171000       1.9311000    
  0.55003000       1.9226800    
  0.56006000       1.9142500    
  0.57351000       1.9030200    
  0.58602000       1.8932000    
  0.59742000       1.8847700    
  0.61101000       1.8749500    
  0.62705000       1.8637100    
  0.64012000       1.8567000    
  0.65375000       1.8482700    
  0.67006000       1.8398500    
  0.68940000       1.8286200    
  0.70756000       1.8187900    
  0.72670000       1.8103700    
  0.74174000       1.8033500    
  0.75477000       1.7977300    
  0.77101000       1.7907100    
  0.78797000       1.7851000    
  0.80873000       1.7766700    
  0.82741000       1.7724600    
  0.84365000       1.7668500    
  0.85370000       1.7626300    
  5.       1.7626300    

end_table


absorption variation=table
table(wavelength)
  0.1       10617146.    
  0.25057000       10617146.    
  0.25503000       9727690.4    
  0.25903000       8925989.6    
  0.26347000       8272332.0    
  0.26908000       7416110.8    
  0.27388000       6711271.5    
  0.27849000       6204851.4    
  0.28252000       5737910.2    
  0.28705000       5340477.7    
  0.29172000       4900634.7    
  0.29574000       4573846.2    
  0.29986000       4321790.5    
  0.30325000       4048977.8    
  0.30759000       3833002.5    
  0.31160000       3557279.0    
  0.31526000       3377765.2    
  0.31947000       3187799.5    
  0.32429000       2925132.9    
  0.32876000       2735352.9    
  0.33335000       2575063.6    
  0.33753000       2465265.5    
  0.34183000       2334816.4    
  0.34735000       2189012.2    
  0.35306000       2059865.4    
  0.35776000       1952062.2    
  0.36320000       1821687.8    
  0.36818000       1754458.9    
  0.37330000       1699903.8    
  0.37789000       1629052.4    
  0.38397000       1545437.4    
  0.38813000       1493615.1    
  0.39238000       1445443.3    
  0.39746000       1397005.7    
  0.40192000       1363072.3    
  0.40648000       1329148.4    
  0.41272000       1286217.0    
  0.41592000       1265078.7    
  0.42080000       1236133.1    
  0.42665000       1205414.3    
  0.43266000       1184723.0    
  0.43884000       1168039.1    
  0.44521000       1151326.9    
  0.45271000       1137238.4    
  0.45850000       1128917.8    
  0.46545000       1112061.0    
  0.47158000       1100733.9    
  0.47894000       1105824.3    
  0.48543000       1103600.3    
  0.49210000       1098092.9    
  0.50245000       1098242.5    
  0.51203000       1101726.4    
  0.52071000       1102426.3    
  0.52969000       1103678.9    
  0.54171000       1109559.7    
  0.55003000       1109961.2    
  0.56006000       1109610.6    
  0.57351000       1121229.4    
  0.58602000       1126294.4    
  0.59742000       1130842.9    
  0.61101000       1147726.9    
  0.62705000       1165150.4    
  0.64012000       1161582.4    
  0.65375000       1167085.7    
  0.67006000       1171847.9    
  0.68940000       1194882.5    
  0.70756000       1202692.4    
  0.72670000       1207165.3    
  0.74174000       1209496.7    
  0.75477000       1208307.6    
  0.77101000       1214233.0    
  0.78797000       1225317.2    
  0.80873000       1226147.6    
  0.82741000       1224747.7    
  0.84365000       1223331.3    
  0.85370000       1222481.0    
  5.       1222481.0    

end_table


thermal_kappa value=8.7

end_macro ito_semicon

$ ***********************************
$ macro for Cu(InGa)Se2
$ Bulk Cu[In_{1-x}Ga_x]Se2
$ At 300K
$ Typical use:
$  load_macro name=cigs var1=#x mater=#m var_symbol1=x
$ parameter_range x=[0. 1.] 
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************
begin_macro cigs 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta
$
$ WN Shafarman & L Stolt, "Cu(InGa)Se2 Solar Cells", Chapter 13,
$ in Handbook of Photovoltaic Science and Engineering, Edited by A. Luque
$ and S. Hegedus, Copyright 2003 John Wiley & Sons, Ltd.
$ Compiled by George Xiao on July 18, 2008
$
dielectric_constant value=13.6
$
$Appl. Phys. A 69, 131-147 (1999)
electron_mass value=0.09
hole_mass value=0.71
$
band_gap variation=function 
function(x)
1.01+0.626*x-0.167*x*(1.0-x)
end_function
$
$ affinity of CIGS should be with +-0.2-0.3 ev of CdS
$ see also "Recombination Mechanisms in Cu(In,Ga)(Se,S)2
$ Solar Cells" by M. Turcu and U. Rau
affinity value=4.3
$
electron_mobility value=0.01
$
hole_mobility value=0.001 
$
$max_electron_mob value=0.14
$min_electron_mob value=0.00897
$electron_ref_dens value=1.3587d23
$alpha_n value=0.89975 
$
$max_hole_mob value=0.05157
$min_hole_mob value=0.00404
$hole_ref_dens value=4.9364d22
$alpha_p value=0.65774
$
$norm_field value=4.e5
$tau_energy value=1.d-13
$beta_n value=2.
$electron_sat_vel value=1.d5
$beta_p value=1.
$hole_sat_vel value=1.d5
$radiative_recomb value=2.d-21
$auger_n value=0.d-44
$auger_p value=0.d-44
$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ U. Rau, H.W. Schock, Appl. Phys. A 69, 131-147 (1999)
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$
lifetime_n value=1.e-8
lifetime_p value=1.e-8
$$
$ lifetime_n variation=function 
$ function(doping_n,doping_p,trap_1)
$ total_doping=doping_p;
$ tau0=3.33e-3;
$ Nsrh=7.98d17;
$ rex=0.14495;
$ tau0/(1+exp((total_doping/Nsrh)**rex))
$ end_function
$$
$ lifetime_p variation=function 
$ function(doping_n,doping_p,trap_1)
$ tau0=3.33e-3;
$ Nsrh=7.98d17;
$ rex=0.14495;
$ total_doping=doping_n;
$ tau0/(1+exp((total_doping/Nsrh)**rex))
$end_function
$
real_index value=2.6
absorption value=2.8e7
thermal_kappa value=8.6
end_macro cigs
$
$
$
$
$ ***********************************
$ macro for CdS
$ Bulk Cadmium Sulfide
$ At 300K
$ Typical use:
$  load_macro name=cds mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$ ***************************************
begin_macro cds 
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta hole_vel_model=beta
$
$ WN Shafarman & L Stolt, "Cu(InGa)Se2 Solar Cells", Chapter 13,
$ in Handbook of Photovoltaic Science and Engineering, Edited by A. Luque
$ and S. Hegedus, Copyright 2003 John Wiley & Sons, Ltd.
$ Compiled by George Xiao on July 18, 2008
$
dielectric_constant value=10.0
$
$PRB V17N8, 3253-3261 (1978)
electron_mass value=0.18
hole_mass value=0.7
$
band_gap value=2.42
$
$ see also "Recombination Mechanisms in Cu(In,Ga)(Se,S)2
$ Solar Cells" by M. Turcu and U. Rau
$ affinity value=4.5
$ from some reference
affinity value=4.0
$
$ See PRB, V29N6, pp 3283-3292, 1984
electron_mobility value=0.01
hole_mobility value=0.0025 
$
$max_electron_mob value=0.14
$min_electron_mob value=0.00897
$electron_ref_dens value=1.3587d23
$alpha_n value=0.89975 
$
$max_hole_mob value=0.05157
$min_hole_mob value=0.00404
$hole_ref_dens value=4.9364d22
$alpha_p value=0.65774
$
$norm_field value=4.e5
$tau_energy value=1.d-13
$beta_n value=2.
$electron_sat_vel value=1.d5
$beta_p value=1.
$hole_sat_vel value=1.d5
$radiative_recomb value=2.d-21
$auger_n value=0.d-44
$auger_p value=0.d-44
$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ U. Rau, H.W. Schock, Appl. Phys. A 69, 131-147 (1999)
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$
lifetime_n value=1.e-9
lifetime_p value=1.e-9
$$
$ lifetime_n variation=function 
$ function(doping_n,doping_p,trap_1)
$ tau0=3.33e-3;
$ Nsrh=7.98d17;
$ rex=0.14495;
$ total_doping=doping_p;
$ tau0/(1+exp((total_doping/Nsrh)**rex))
$ end_function
$$
$ lifetime_p variation=function 
$ function(doping_n,doping_p,trap_1)
$ tau0=3.33e-3;
$ Nsrh=7.98d17;
$ rex=0.14495;
$ total_doping=doping_n;
$ tau0/(1+exp((total_doping/Nsrh)**rex))
$end_function
$
real_index value=2.416
absorption value=3.376e6
thermal_kappa value=20.0
end_macro cds
$
$
$
$ ********************************************
$ macro for semiconductor ZnO
$ Semiconductor type macro definition for ZnO
$ (TCO: zinc oxide)
$ [free-style]
$ Typical use:
$   load_macro name=zno mater=#m
$ ********************************************
begin_macro zno
material type=semicond band_valleys=(1 1) &&
  el_vel_model=constant  hole_vel_model=constant
$
dielectric_constant value=9.0
electron_mass value=0.3
hole_mass value=0.3
$ Bandgap 3.2 see "WN Shafarman & L Stolt, "Cu(InGa)Se2 Solar Cells", Chapter 13,
$ p599 in Handbook of Photovoltaic Science and Engineering, Edited by A. Luque
$ and S. Hegedus, Copyright 2003 John Wiley & Sons, Ltd.
$ Compiled by George Xiao on July 18, 2008
$ bandgap 3.3 see "Recombination Mechanisms in Cu(In,Ga)(Se,S)2
$ Solar Cells" by M. Turcu and U. Rau
band_gap value=3.2
$ Affinity 4.7 see "Recombination Mechanisms in Cu(In,Ga)(Se,S)2
$ Solar Cells" by M. Turcu and U. Rau
affinity value=4.32
$affinity value=4.2
$
electron_mobility value=0.01
hole_mobility value=0.0025
$ 
tau_energy value=1.d-13
radiative_recomb value=2.d-21
auger_n value=0.d-44
auger_p value=0.d-44
$
lifetime_n value=1.e-8
lifetime_p value=1.e-8
real_index value=2.0
absorption value=0.0
thermal_kappa value=430.
end_macro zno
$
$
$ ********************************************
$ macro for semiconductor ZnO
$ Semiconductor type macro definition for ZnO
$ (TCO: zinc oxide)
$ [free-style]
$ Typical use:
$   load_macro name=zno_semicon mater=#m
$ ********************************************
begin_macro zno_semicon
material type=semicond band_valleys=(1 1) &&
  el_vel_model=constant  hole_vel_model=constant
$
dielectric_constant value=9.0
electron_mass value=0.3
hole_mass value=0.3
$ Bandgap 3.2 see "WN Shafarman & L Stolt, "Cu(InGa)Se2 Solar Cells", Chapter 13,
$ p599 in Handbook of Photovoltaic Science and Engineering, Edited by A. Luque
$ and S. Hegedus, Copyright 2003 John Wiley & Sons, Ltd.
$ Compiled by George Xiao on July 18, 2008
$ bandgap 3.3 see "Recombination Mechanisms in Cu(In,Ga)(Se,S)2
$ Solar Cells" by M. Turcu and U. Rau
band_gap value=3.2
$ Affinity 4.7 see "Recombination Mechanisms in Cu(In,Ga)(Se,S)2
$ Solar Cells" by M. Turcu and U. Rau
affinity value=4.32
$affinity value=4.2
$
electron_mobility value=0.01
hole_mobility value=0.0025
$ 
tau_energy value=1.d-13
radiative_recomb value=2.d-21
auger_n value=0.d-44
auger_p value=0.d-44
$
lifetime_n value=1.e-8
lifetime_p value=1.e-8
real_index value=2.0
absorption value=0.0
thermal_kappa value=430.
end_macro zno_semicon
$
$ ********************************************
$ macro for amorphous semiconductor a-InGaNZnO
$ Semiconductor type macro definition for a-InGaNZnO
$ [free-style]
$ Typical use:
$   load_macro name=inganzno mater=#m
$ ********************************************
begin_macro a-inganzno
material type=semicond band_valleys=(1 1) &&
  el_vel_model=constant  hole_vel_model=constant
$
dielectric_constant value=9.0
electron_mass value=0.3
hole_mass value=0.3
$ bandgap reference from
$p211107-1 Hiramatsu et al. Appl. Phys. Lett. 87, 211107 (2005)
band_gap value=3.5
affinity value=4.3
$
electron_mobility value=0.001
hole_mobility value=0.001
$ 
tau_energy value=1.e-13
radiative_recomb value=2.e-21
auger_n value=1.d-46
auger_p value=1.d-46
$
lifetime_n value=1.e-8
lifetime_p value=1.e-8
real_index value=3.0
absorption value=0.0
thermal_kappa value=400.
end_macro a-inganzno

$ ********************************************
$ macro for semiconductor LaCuOSe 
$ [free-style]
$ Typical use:
$   load_macro name=lacuose mater=#m
$ ********************************************
begin_macro lacuose
material type=semicond band_valleys=(1 1) &&
  el_vel_model=constant  hole_vel_model=constant
$
dielectric_constant value=9.0
electron_mass value=0.3
hole_mass value=0.3
$ bandgap reference from
$p211107-1 Hiramatsu et al. Appl. Phys. Lett. 87, 211107 (2005)
band_gap value=2.85
affinity value=4.6
$
electron_mobility value=0.001
hole_mobility value=0.001
$ 
tau_energy value=1.e-13
radiative_recomb value=2.e-21
auger_n value=1.d-46
auger_p value=1.d-46
$
lifetime_n value=1.e-8
lifetime_p value=1.e-8
real_index value=3.0
absorption value=0.0
thermal_kappa value=400.
end_macro lacuose

$****************************************************
$ Bulk active layer macro  LaCuOSe
$ [free-style]
$ Typical use:
$   get_active_layer name=LaCuOSe mater=#m 
$ parameter_range temper=[77 600] 
$****************************************************
begin_active_layer LaCuOSe
layer_type type=bulk valley_gamma=1 valley_l=1 &&
  valley_hh=1 valley_lh=1 
$
eg0_well value=2.85
lband_well value=0.3
delta_so_well value=0.5
mass_gamma_well value=0.3
mass_l_well value=0.3
gamma1_well value=6.9
gamma2_well value=2.2
kane_para_f_well value=-1.0
lattice_constant value=3.2
end_active_layer LaCuOSe

$**********************************************
$ macro znte 
$ Bulk macro of ZnTe
$ [free-style]
$ Typical use:
$   load_macro name=znte mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$
$ Ref:
$"Numerical modeling of CdS/CdTe and CdS/CdTe/ZnTe solar cells
$as a function of CdTe thickness,"
$Nowshad Amina, Kamaruzzaman Sopianb, Makoto Konagaic,
$Solar Energy Materials & Solar Cells 91 (2007) 1202-1208
$ 
$ *********************************************
begin_macro znte
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=9.67
electron_mass value=0.13
hole_mass value=0.6
band_gap value=2.26
affinity value=3.5

electron_mobility value=0.033

hole_mobility value=0.0080

beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb  value=2.e-16
auger_n  value=2.e-42
auger_p  value=2.e-42
real_index  value=2.7
absorption value=0.
thermal_kappa value=46.
end_macro znte
$**********************************************
$ macro znse
$ Bulk macro of ZnSe
$ [free-style]
$ Typical use:
$   load_macro name=znse mater=#m
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$
$ Ref:
$ Private comm. and internet search
$ 
$ *********************************************
begin_macro znse
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=9.67
electron_mass value=0.13
hole_mass value=0.6
band_gap value=2.7
affinity value=4.06

electron_mobility value=0.0530

hole_mobility value=0.01

beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb  value=2.e-16
auger_n  value=2.e-42
auger_p  value=2.e-42
real_index  value=2.67
absorption value=0.
thermal_kappa value=46.
end_macro znse
$**********************************************
$ macro beznsete
$ Bulk macro of BeZnSeTe
$ Most parameters based on the better known ZnSe
$ [free-style]
$ Typical use:
$   load_macro name=beznsete mater=#m
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$
$ Ref:
$ Private comm. and internet search
$ 
$ *********************************************
begin_macro beznsete
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=9.67
electron_mass value=0.13
hole_mass value=0.6
band_gap value=2.25
affinity value=4.06

electron_mobility value=0.0530

hole_mobility value=0.01

beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb  value=2.e-16
auger_n  value=2.e-42
auger_p  value=2.e-42
real_index  value=2.67
absorption value=0.
thermal_kappa value=46.
end_macro beznsete

$**********************************************
$ macro zns
$ Bulk macro of ZnS
$ [free-style]
$ Typical use:
$   load_macro name=zns mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$
$ Ref:
$ Private comm. and internet search
$ 
$ *********************************************
begin_macro zns
material type=semicond band_valleys=(1 1) &&
  el_vel_model=beta  hole_vel_model=beta 
dielectric_constant value=9.67
electron_mass value=0.13
hole_mass value=0.6
band_gap value=3.74
affinity value=3.9

electron_mobility value=0.0165

hole_mobility value=0.01

beta_n value=2.
electron_sat_vel value=1.e5
beta_p value=1.
hole_sat_vel value=1.e5
norm_field value=4.e5
tau_energy value=1.d-13
lifetime_n value=1.e-8
lifetime_p value=1.e-8
radiative_recomb  value=2.e-16
auger_n  value=2.e-42
auger_p  value=2.e-42
real_index  value=2.4
absorption value=0.
thermal_kappa value=46.
end_macro zns

$**********************************************
$ macro ge
$ Bulk macro of Germanium
$ [free-style]
$ Typical use:
$   load_macro name=ge mater=#m
$ parameter_range total_doping=[1.e20 1.e27]
$ parameter_range net_doping=[-1.e26 1.e26]
$ parameter_range doping_n=[1.e20 1.e26]
$ parameter_range doping_p=[1.e20 1.e26]
$ parameter_range trap_1=[1.e18 1.e24]
$
$ Original:  Vivian Han (Fudan Univ)
$**********************************************
begin_macro ge
material type=semicond band_valleys=(4 1) &&
  el_vel_model=beta hole_vel_model=beta 
dielectric_constant value=16.2

electron_mass value=0.22

hole_mass  value=0.34

band_gap  variation=function  
function(temper) 
eg0=0.7437;
alpha=4.774e-4;
beta=235;
eg0-alpha*temper**2/(temper+beta)
end_function                        

affinity value=4.13
electron_mobility value=0.39  
hole_mobility value=0.19



beta_n value=2.
electron_sat_vel  value=3.1e5
beta_p value=1.
hole_sat_vel  value=1.9e5
$
radiative_recomb value=2.e-21
auger_n  variation=function  
function(temper)
2.8e-43*(temper/300.)**0.14
end_function
auger_p  variation=function  
function(temper)
9.9e-44*(temper/300.)**0.2
end_function

lifetime_n value=1.e-7
 
lifetime_p value=1.e-7

end_macro


$************************************
$ macro for oxyni
$ Bulk insulator oxyni 
$ [free-style]
$ Typical use:
$   load_macro name=oxyni mater=#m
$*************************************
begin_macro oxyni 
material type=insulator  
dielectric_constant value=7.5
$ set affinity for the purpose of plotting band diagram
affinity value=2.
$band_gap value=8.
real_index  value=2.
absorption value=0.
thermal_kappa value=10.
end_macro oxyni 
$************************************
$ macro for cfilter
$ Bulk insulator cfilter
$ [free-style]
$ Typical use:
$   load_macro name=cfilter mater=#m
$*************************************
begin_macro cfilter
material type=insulator  
dielectric_constant value=7.5
$ set affinity for the purpose of plotting band diagram
affinity value=2.
$band_gap value=8.
real_index  value=1.5185
absorption value=4.797010134e3
thermal_kappa value=10.
end_macro cfilter
$************************************
$ macro for photores
$ Bulk insulator photores
$ [free-style]
$ Typical use:
$   load_macro name=photores mater=#m
$*************************************
begin_macro photores
material type=insulator  
dielectric_constant value=7.5
$ set affinity for the purpose of plotting band diagram
affinity value=2.
$band_gap value=8.
real_index  value=1.43
absorption value=0.
thermal_kappa value=10.
end_macro photores

$************************************
$ macro for photores
$ Bulk insulator photores
$ [free-style]
$ Typical use:
$   load_macro name=photores mater=#m
$*************************************
begin_macro photores
material type=insulator  
dielectric_constant value=7.5
$ set affinity for the purpose of plotting band diagram
affinity value=2.
$band_gap value=8.
real_index  value=1.43
absorption value=0.
thermal_kappa value=10.
end_macro photores

$ ***************************************************************
$ macro for tungsten (W)
$ [free-style]
$ Typical use:
$   load_macro name=tungsten mater=#m 
$ Work function is 4.10 eV, which may be used to compute the 
$ Schottky barrier height.
$ ***************************************************************
begin_macro tungsten
material type=resistor 
resistivity  value=2.e-8
affinity value=4.3
dielectric_constant value=-2.927e4
real_index value=3.
absorption value=0.01
thermal_kappa value=235.
end_macro  tungsten

$ ******************************************************
$ complex acitve layer macro : complex-Air1
$ Air to be used for quantum confinement.
$ Typical use:
$   get_active_layer name=cx-Air1 mater=#m 
$ ******************************************************
$
begin_active_layer cx-Air1
$
layer_type type=complex valley_gamma=1 valley_l=4 &&
  valley_hh=1 valley_lh=1 
$
eg0_well value=10
$
lband_well value=0.2
$
delta_so_well value=0.5
band_offset value=0.6
mass_gamma_well value=1
mass_l_well value=1

gamma1_well value=6.
gamma2_well value=2.
gamma3_well value=2.9
$
a_well value=-9.8 
$
b_well value=-1.8
$
c11_well value=11.
$
c12_well value=5.38 
$

kane_para_f_well value=-1.94

lattice_constant value=5.65325
$
end_active_layer cx-Air1

$ ***********************************
$ macro for graphene
$ Bulk insulator graphene
$ [free-style]
$ Typical use:
$   load_macro name=graphene mater=#m
$ ***********************************
begin_macro graphene 
material type=insulator  
$ set affinity for the purpose of plotting band diagram
affinity value=2.0
$band_gap value=8.
dielectric_constant value=11.
real_index  value=2.346

$ according to model, at zero field, 
$n=0.234631E+01  k=0.123358E-01
$
$formula:      absorption=2.0*aindex_imag*ak0

absorption variation=function
function(wavelength)
pi=3.14159;
ak0=2.*pi/(wavelength*1.e-6);
aindex_imag=0.0123358;
2.0*aindex_imag*ak0
end_function

thermal_kappa value=10.
end_macro graphene 

$************************************
$ macro for quartz
$ Bulk insulator quartz
$ [free-style]
$ Typical use:
$   load_macro name=sin mater=#m
$*************************************
begin_macro quartz
material type=insulator  
dielectric_constant value=12
$ set affinity for the purpose of plotting band diagram
affinity value=2.3
$band_gap value=8.
real_index  value=2.0
absorption value=0.0
thermal_kappa value=10.
  

$piezo_d11 value=2.31e-12  $C/N
$piezo_d22 value=2.31e-12  $C/N
piezo_d31 value=-2.e-12  $C/N
piezo_d32 value=-3.0e-12  $C/N
piezo_d33 value=3.e-12  $C/N
piezo_d24 value=0.9e-12  $C/N
piezo_d15 value=0.9e-12  $C/N

young_modulus value=70.e9  $N/m^2
poisson_ratio value=0.29  
shear_modulus value=0.775e9 $N/m^2
mass_density value=2650   $kg/m^3



end_macro quartz
$ ---------------------------------------------------------
$ ---------------------------------------------------------
$ ---------------------------------------------------------
$ Impact Ionization Rate
$ Fit to Page 47, Fig. 30 (b), S. Sze, Physics of
$ Semiconductor Physics, 2nd Ed.
$ Field-Dependent Ionization Rate Formula:
$ (electron) alpha_n = alpha_n0 * exp( -F_cn/F)
$ (hole) alpha_p = alpha_p0 * exp( -F_cp/F)
$ Units:alpha  (1/m),  F_c (V/m)
$ ----------------------------------------------------------
$ Material               alpha_n0   F_cn       alpha_p0   F_cp
$ GaP                    .738E+09   .202E+09   .738E+09   .202E+09
$ InP                    .836E+09   .155E+09   .157E+09   .994E+08
$ In(0.53)Ga(0.47)As     .344E+10   .833E+08   .125E+11   .102E+09
$ GaAs(0.88)Sb(0.12)     .997E+07   .250E+08   .920E+07   .316E+08
$ ----------------------------------------------------------
$ ---------------------------------------------------------
$      Copyright (c) 1995-present Crosslight Software Inc..
$                All rights reserved.
$
